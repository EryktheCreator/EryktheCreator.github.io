(self["webpackChunkreserveio"]=self["webpackChunkreserveio"]||[]).push([[998],{9662:function(t,e,n){var i=n(614),r=n(6330),o=TypeError;t.exports=function(t){if(i(t))return t;throw o(r(t)+" is not a function")}},6077:function(t,e,n){var i=n(614),r=String,o=TypeError;t.exports=function(t){if("object"==typeof t||i(t))return t;throw o("Can't set "+r(t)+" as a prototype")}},5787:function(t,e,n){var i=n(7976),r=TypeError;t.exports=function(t,e){if(i(e,t))return t;throw r("Incorrect invocation")}},9670:function(t,e,n){var i=n(111),r=String,o=TypeError;t.exports=function(t){if(i(t))return t;throw o(r(t)+" is not an object")}},3013:function(t){t.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},260:function(t,e,n){"use strict";var i,r,o,s=n(3013),a=n(9781),c=n(7854),l=n(614),u=n(111),h=n(2597),d=n(648),f=n(6330),p=n(8880),m=n(8052),g=n(7045),_=n(7976),v=n(9518),y=n(7674),w=n(5112),b=n(9711),T=n(9909),E=T.enforce,S=T.get,x=c.Int8Array,I=x&&x.prototype,C=c.Uint8ClampedArray,k=C&&C.prototype,A=x&&v(x),L=I&&v(I),P=Object.prototype,R=c.TypeError,O=w("toStringTag"),N=b("TYPED_ARRAY_TAG"),M="TypedArrayConstructor",D=s&&!!y&&"Opera"!==d(c.opera),U=!1,F={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},B={BigInt64Array:8,BigUint64Array:8},z=function(t){if(!u(t))return!1;var e=d(t);return"DataView"===e||h(F,e)||h(B,e)},V=function(t){var e=v(t);if(u(e)){var n=S(e);return n&&h(n,M)?n[M]:V(e)}},j=function(t){if(!u(t))return!1;var e=d(t);return h(F,e)||h(B,e)},$=function(t){if(j(t))return t;throw R("Target is not a typed array")},H=function(t){if(l(t)&&(!y||_(A,t)))return t;throw R(f(t)+" is not a typed array constructor")},q=function(t,e,n,i){if(a){if(n)for(var r in F){var o=c[r];if(o&&h(o.prototype,t))try{delete o.prototype[t]}catch(s){try{o.prototype[t]=e}catch(l){}}}L[t]&&!n||m(L,t,n?e:D&&I[t]||e,i)}},W=function(t,e,n){var i,r;if(a){if(y){if(n)for(i in F)if(r=c[i],r&&h(r,t))try{delete r[t]}catch(o){}if(A[t]&&!n)return;try{return m(A,t,n?e:D&&A[t]||e)}catch(o){}}for(i in F)r=c[i],!r||r[t]&&!n||m(r,t,e)}};for(i in F)r=c[i],o=r&&r.prototype,o?E(o)[M]=r:D=!1;for(i in B)r=c[i],o=r&&r.prototype,o&&(E(o)[M]=r);if((!D||!l(A)||A===Function.prototype)&&(A=function(){throw R("Incorrect invocation")},D))for(i in F)c[i]&&y(c[i],A);if((!D||!L||L===P)&&(L=A.prototype,D))for(i in F)c[i]&&y(c[i].prototype,L);if(D&&v(k)!==L&&y(k,L),a&&!h(L,O))for(i in U=!0,g(L,O,{configurable:!0,get:function(){return u(this)?this[N]:void 0}}),F)c[i]&&p(c[i],N,i);t.exports={NATIVE_ARRAY_BUFFER_VIEWS:D,TYPED_ARRAY_TAG:U&&N,aTypedArray:$,aTypedArrayConstructor:H,exportTypedArrayMethod:q,exportTypedArrayStaticMethod:W,getTypedArrayConstructor:V,isView:z,isTypedArray:j,TypedArray:A,TypedArrayPrototype:L}},7745:function(t,e,n){var i=n(6244);t.exports=function(t,e){var n=0,r=i(e),o=new t(r);while(r>n)o[n]=e[n++];return o}},1318:function(t,e,n){var i=n(5656),r=n(1400),o=n(6244),s=function(t){return function(e,n,s){var a,c=i(e),l=o(c),u=r(s,l);if(t&&n!=n){while(l>u)if(a=c[u++],a!=a)return!0}else for(;l>u;u++)if((t||u in c)&&c[u]===n)return t||u||0;return!t&&-1}};t.exports={includes:s(!0),indexOf:s(!1)}},3658:function(t,e,n){"use strict";var i=n(9781),r=n(3157),o=TypeError,s=Object.getOwnPropertyDescriptor,a=i&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}();t.exports=a?function(t,e){if(r(t)&&!s(t,"length").writable)throw o("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e}},1843:function(t,e,n){var i=n(6244);t.exports=function(t,e){for(var n=i(t),r=new e(n),o=0;o<n;o++)r[o]=t[n-o-1];return r}},1572:function(t,e,n){var i=n(6244),r=n(9303),o=RangeError;t.exports=function(t,e,n,s){var a=i(t),c=r(n),l=c<0?a+c:c;if(l>=a||l<0)throw o("Incorrect index");for(var u=new e(a),h=0;h<a;h++)u[h]=h===l?s:t[h];return u}},4326:function(t,e,n){var i=n(1702),r=i({}.toString),o=i("".slice);t.exports=function(t){return o(r(t),8,-1)}},648:function(t,e,n){var i=n(1694),r=n(614),o=n(4326),s=n(5112),a=s("toStringTag"),c=Object,l="Arguments"==o(function(){return arguments}()),u=function(t,e){try{return t[e]}catch(n){}};t.exports=i?o:function(t){var e,n,i;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=u(e=c(t),a))?n:l?o(e):"Object"==(i=o(e))&&r(e.callee)?"Arguments":i}},9920:function(t,e,n){var i=n(2597),r=n(3887),o=n(1236),s=n(3070);t.exports=function(t,e,n){for(var a=r(e),c=s.f,l=o.f,u=0;u<a.length;u++){var h=a[u];i(t,h)||n&&i(n,h)||c(t,h,l(e,h))}}},8544:function(t,e,n){var i=n(7293);t.exports=!i((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},8880:function(t,e,n){var i=n(9781),r=n(3070),o=n(9114);t.exports=i?function(t,e,n){return r.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},9114:function(t){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},7045:function(t,e,n){var i=n(6339),r=n(3070);t.exports=function(t,e,n){return n.get&&i(n.get,e,{getter:!0}),n.set&&i(n.set,e,{setter:!0}),r.f(t,e,n)}},8052:function(t,e,n){var i=n(614),r=n(3070),o=n(6339),s=n(3072);t.exports=function(t,e,n,a){a||(a={});var c=a.enumerable,l=void 0!==a.name?a.name:e;if(i(n)&&o(n,l,a),a.global)c?t[e]=n:s(e,n);else{try{a.unsafe?t[e]&&(c=!0):delete t[e]}catch(u){}c?t[e]=n:r.f(t,e,{value:n,enumerable:!1,configurable:!a.nonConfigurable,writable:!a.nonWritable})}return t}},3072:function(t,e,n){var i=n(7854),r=Object.defineProperty;t.exports=function(t,e){try{r(i,t,{value:e,configurable:!0,writable:!0})}catch(n){i[t]=e}return e}},5117:function(t,e,n){"use strict";var i=n(6330),r=TypeError;t.exports=function(t,e){if(!delete t[e])throw r("Cannot delete property "+i(e)+" of "+i(t))}},9781:function(t,e,n){var i=n(7293);t.exports=!i((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},4154:function(t){var e="object"==typeof document&&document.all,n="undefined"==typeof e&&void 0!==e;t.exports={all:e,IS_HTMLDDA:n}},317:function(t,e,n){var i=n(7854),r=n(111),o=i.document,s=r(o)&&r(o.createElement);t.exports=function(t){return s?o.createElement(t):{}}},7207:function(t){var e=TypeError,n=9007199254740991;t.exports=function(t){if(t>n)throw e("Maximum allowed index exceeded");return t}},3678:function(t){t.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}},8113:function(t){t.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},7392:function(t,e,n){var i,r,o=n(7854),s=n(8113),a=o.process,c=o.Deno,l=a&&a.versions||c&&c.version,u=l&&l.v8;u&&(i=u.split("."),r=i[0]>0&&i[0]<4?1:+(i[0]+i[1])),!r&&s&&(i=s.match(/Edge\/(\d+)/),(!i||i[1]>=74)&&(i=s.match(/Chrome\/(\d+)/),i&&(r=+i[1]))),t.exports=r},748:function(t){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},1060:function(t,e,n){var i=n(1702),r=Error,o=i("".replace),s=function(t){return String(r(t).stack)}("zxcasd"),a=/\n\s*at [^:]*:[^\n]*/,c=a.test(s);t.exports=function(t,e){if(c&&"string"==typeof t&&!r.prepareStackTrace)while(e--)t=o(t,a,"");return t}},2109:function(t,e,n){var i=n(7854),r=n(1236).f,o=n(8880),s=n(8052),a=n(3072),c=n(9920),l=n(4705);t.exports=function(t,e){var n,u,h,d,f,p,m=t.target,g=t.global,_=t.stat;if(u=g?i:_?i[m]||a(m,{}):(i[m]||{}).prototype,u)for(h in e){if(f=e[h],t.dontCallGetSet?(p=r(u,h),d=p&&p.value):d=u[h],n=l(g?h:m+(_?".":"#")+h,t.forced),!n&&void 0!==d){if(typeof f==typeof d)continue;c(f,d)}(t.sham||d&&d.sham)&&o(f,"sham",!0),s(u,h,f,t)}}},7293:function(t){t.exports=function(t){try{return!!t()}catch(e){return!0}}},4374:function(t,e,n){var i=n(7293);t.exports=!i((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},6916:function(t,e,n){var i=n(4374),r=Function.prototype.call;t.exports=i?r.bind(r):function(){return r.apply(r,arguments)}},6530:function(t,e,n){var i=n(9781),r=n(2597),o=Function.prototype,s=i&&Object.getOwnPropertyDescriptor,a=r(o,"name"),c=a&&"something"===function(){}.name,l=a&&(!i||i&&s(o,"name").configurable);t.exports={EXISTS:a,PROPER:c,CONFIGURABLE:l}},5668:function(t,e,n){var i=n(1702),r=n(9662);t.exports=function(t,e,n){try{return i(r(Object.getOwnPropertyDescriptor(t,e)[n]))}catch(o){}}},1702:function(t,e,n){var i=n(4374),r=Function.prototype,o=r.call,s=i&&r.bind.bind(o,o);t.exports=i?s:function(t){return function(){return o.apply(t,arguments)}}},5005:function(t,e,n){var i=n(7854),r=n(614),o=function(t){return r(t)?t:void 0};t.exports=function(t,e){return arguments.length<2?o(i[t]):i[t]&&i[t][e]}},8173:function(t,e,n){var i=n(9662),r=n(8554);t.exports=function(t,e){var n=t[e];return r(n)?void 0:i(n)}},7854:function(t,e,n){var i=function(t){return t&&t.Math==Math&&t};t.exports=i("object"==typeof globalThis&&globalThis)||i("object"==typeof window&&window)||i("object"==typeof self&&self)||i("object"==typeof n.g&&n.g)||function(){return this}()||this||Function("return this")()},2597:function(t,e,n){var i=n(1702),r=n(7908),o=i({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return o(r(t),e)}},3501:function(t){t.exports={}},4664:function(t,e,n){var i=n(9781),r=n(7293),o=n(317);t.exports=!i&&!r((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},8361:function(t,e,n){var i=n(1702),r=n(7293),o=n(4326),s=Object,a=i("".split);t.exports=r((function(){return!s("z").propertyIsEnumerable(0)}))?function(t){return"String"==o(t)?a(t,""):s(t)}:s},9587:function(t,e,n){var i=n(614),r=n(111),o=n(7674);t.exports=function(t,e,n){var s,a;return o&&i(s=e.constructor)&&s!==n&&r(a=s.prototype)&&a!==n.prototype&&o(t,a),t}},2788:function(t,e,n){var i=n(1702),r=n(614),o=n(5465),s=i(Function.toString);r(o.inspectSource)||(o.inspectSource=function(t){return s(t)}),t.exports=o.inspectSource},9909:function(t,e,n){var i,r,o,s=n(4811),a=n(7854),c=n(111),l=n(8880),u=n(2597),h=n(5465),d=n(6200),f=n(3501),p="Object already initialized",m=a.TypeError,g=a.WeakMap,_=function(t){return o(t)?r(t):i(t,{})},v=function(t){return function(e){var n;if(!c(e)||(n=r(e)).type!==t)throw m("Incompatible receiver, "+t+" required");return n}};if(s||h.state){var y=h.state||(h.state=new g);y.get=y.get,y.has=y.has,y.set=y.set,i=function(t,e){if(y.has(t))throw m(p);return e.facade=t,y.set(t,e),e},r=function(t){return y.get(t)||{}},o=function(t){return y.has(t)}}else{var w=d("state");f[w]=!0,i=function(t,e){if(u(t,w))throw m(p);return e.facade=t,l(t,w,e),e},r=function(t){return u(t,w)?t[w]:{}},o=function(t){return u(t,w)}}t.exports={set:i,get:r,has:o,enforce:_,getterFor:v}},3157:function(t,e,n){var i=n(4326);t.exports=Array.isArray||function(t){return"Array"==i(t)}},4067:function(t,e,n){var i=n(648);t.exports=function(t){var e=i(t);return"BigInt64Array"==e||"BigUint64Array"==e}},614:function(t,e,n){var i=n(4154),r=i.all;t.exports=i.IS_HTMLDDA?function(t){return"function"==typeof t||t===r}:function(t){return"function"==typeof t}},4705:function(t,e,n){var i=n(7293),r=n(614),o=/#|\.prototype\./,s=function(t,e){var n=c[a(t)];return n==u||n!=l&&(r(e)?i(e):!!e)},a=s.normalize=function(t){return String(t).replace(o,".").toLowerCase()},c=s.data={},l=s.NATIVE="N",u=s.POLYFILL="P";t.exports=s},8554:function(t){t.exports=function(t){return null===t||void 0===t}},111:function(t,e,n){var i=n(614),r=n(4154),o=r.all;t.exports=r.IS_HTMLDDA?function(t){return"object"==typeof t?null!==t:i(t)||t===o}:function(t){return"object"==typeof t?null!==t:i(t)}},1913:function(t){t.exports=!1},2190:function(t,e,n){var i=n(5005),r=n(614),o=n(7976),s=n(3307),a=Object;t.exports=s?function(t){return"symbol"==typeof t}:function(t){var e=i("Symbol");return r(e)&&o(e.prototype,a(t))}},6244:function(t,e,n){var i=n(7466);t.exports=function(t){return i(t.length)}},6339:function(t,e,n){var i=n(1702),r=n(7293),o=n(614),s=n(2597),a=n(9781),c=n(6530).CONFIGURABLE,l=n(2788),u=n(9909),h=u.enforce,d=u.get,f=String,p=Object.defineProperty,m=i("".slice),g=i("".replace),_=i([].join),v=a&&!r((function(){return 8!==p((function(){}),"length",{value:8}).length})),y=String(String).split("String"),w=t.exports=function(t,e,n){"Symbol("===m(f(e),0,7)&&(e="["+g(f(e),/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(e="get "+e),n&&n.setter&&(e="set "+e),(!s(t,"name")||c&&t.name!==e)&&(a?p(t,"name",{value:e,configurable:!0}):t.name=e),v&&n&&s(n,"arity")&&t.length!==n.arity&&p(t,"length",{value:n.arity});try{n&&s(n,"constructor")&&n.constructor?a&&p(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(r){}var i=h(t);return s(i,"source")||(i.source=_(y,"string"==typeof e?e:"")),t};Function.prototype.toString=w((function(){return o(this)&&d(this).source||l(this)}),"toString")},4758:function(t){var e=Math.ceil,n=Math.floor;t.exports=Math.trunc||function(t){var i=+t;return(i>0?n:e)(i)}},6277:function(t,e,n){var i=n(1340);t.exports=function(t,e){return void 0===t?arguments.length<2?"":e:i(t)}},3070:function(t,e,n){var i=n(9781),r=n(4664),o=n(3353),s=n(9670),a=n(4948),c=TypeError,l=Object.defineProperty,u=Object.getOwnPropertyDescriptor,h="enumerable",d="configurable",f="writable";e.f=i?o?function(t,e,n){if(s(t),e=a(e),s(n),"function"===typeof t&&"prototype"===e&&"value"in n&&f in n&&!n[f]){var i=u(t,e);i&&i[f]&&(t[e]=n.value,n={configurable:d in n?n[d]:i[d],enumerable:h in n?n[h]:i[h],writable:!1})}return l(t,e,n)}:l:function(t,e,n){if(s(t),e=a(e),s(n),r)try{return l(t,e,n)}catch(i){}if("get"in n||"set"in n)throw c("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},1236:function(t,e,n){var i=n(9781),r=n(6916),o=n(5296),s=n(9114),a=n(5656),c=n(4948),l=n(2597),u=n(4664),h=Object.getOwnPropertyDescriptor;e.f=i?h:function(t,e){if(t=a(t),e=c(e),u)try{return h(t,e)}catch(n){}if(l(t,e))return s(!r(o.f,t,e),t[e])}},8006:function(t,e,n){var i=n(6324),r=n(748),o=r.concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,o)}},5181:function(t,e){e.f=Object.getOwnPropertySymbols},9518:function(t,e,n){var i=n(2597),r=n(614),o=n(7908),s=n(6200),a=n(8544),c=s("IE_PROTO"),l=Object,u=l.prototype;t.exports=a?l.getPrototypeOf:function(t){var e=o(t);if(i(e,c))return e[c];var n=e.constructor;return r(n)&&e instanceof n?n.prototype:e instanceof l?u:null}},7976:function(t,e,n){var i=n(1702);t.exports=i({}.isPrototypeOf)},6324:function(t,e,n){var i=n(1702),r=n(2597),o=n(5656),s=n(1318).indexOf,a=n(3501),c=i([].push);t.exports=function(t,e){var n,i=o(t),l=0,u=[];for(n in i)!r(a,n)&&r(i,n)&&c(u,n);while(e.length>l)r(i,n=e[l++])&&(~s(u,n)||c(u,n));return u}},5296:function(t,e){"use strict";var n={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,r=i&&!n.call({1:2},1);e.f=r?function(t){var e=i(this,t);return!!e&&e.enumerable}:n},7674:function(t,e,n){var i=n(5668),r=n(9670),o=n(6077);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{t=i(Object.prototype,"__proto__","set"),t(n,[]),e=n instanceof Array}catch(s){}return function(n,i){return r(n),o(i),e?t(n,i):n.__proto__=i,n}}():void 0)},2140:function(t,e,n){var i=n(6916),r=n(614),o=n(111),s=TypeError;t.exports=function(t,e){var n,a;if("string"===e&&r(n=t.toString)&&!o(a=i(n,t)))return a;if(r(n=t.valueOf)&&!o(a=i(n,t)))return a;if("string"!==e&&r(n=t.toString)&&!o(a=i(n,t)))return a;throw s("Can't convert object to primitive value")}},3887:function(t,e,n){var i=n(5005),r=n(1702),o=n(8006),s=n(5181),a=n(9670),c=r([].concat);t.exports=i("Reflect","ownKeys")||function(t){var e=o.f(a(t)),n=s.f;return n?c(e,n(t)):e}},4488:function(t,e,n){var i=n(8554),r=TypeError;t.exports=function(t){if(i(t))throw r("Can't call method on "+t);return t}},6200:function(t,e,n){var i=n(2309),r=n(9711),o=i("keys");t.exports=function(t){return o[t]||(o[t]=r(t))}},5465:function(t,e,n){var i=n(7854),r=n(3072),o="__core-js_shared__",s=i[o]||r(o,{});t.exports=s},2309:function(t,e,n){var i=n(1913),r=n(5465);(t.exports=function(t,e){return r[t]||(r[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.30.2",mode:i?"pure":"global",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.30.2/LICENSE",source:"https://github.com/zloirock/core-js"})},6293:function(t,e,n){var i=n(7392),r=n(7293),o=n(7854),s=o.String;t.exports=!!Object.getOwnPropertySymbols&&!r((function(){var t=Symbol();return!s(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&i&&i<41}))},1400:function(t,e,n){var i=n(9303),r=Math.max,o=Math.min;t.exports=function(t,e){var n=i(t);return n<0?r(n+e,0):o(n,e)}},4599:function(t,e,n){var i=n(7593),r=TypeError;t.exports=function(t){var e=i(t,"number");if("number"==typeof e)throw r("Can't convert number to bigint");return BigInt(e)}},5656:function(t,e,n){var i=n(8361),r=n(4488);t.exports=function(t){return i(r(t))}},9303:function(t,e,n){var i=n(4758);t.exports=function(t){var e=+t;return e!==e||0===e?0:i(e)}},7466:function(t,e,n){var i=n(9303),r=Math.min;t.exports=function(t){return t>0?r(i(t),9007199254740991):0}},7908:function(t,e,n){var i=n(4488),r=Object;t.exports=function(t){return r(i(t))}},7593:function(t,e,n){var i=n(6916),r=n(111),o=n(2190),s=n(8173),a=n(2140),c=n(5112),l=TypeError,u=c("toPrimitive");t.exports=function(t,e){if(!r(t)||o(t))return t;var n,c=s(t,u);if(c){if(void 0===e&&(e="default"),n=i(c,t,e),!r(n)||o(n))return n;throw l("Can't convert object to primitive value")}return void 0===e&&(e="number"),a(t,e)}},4948:function(t,e,n){var i=n(7593),r=n(2190);t.exports=function(t){var e=i(t,"string");return r(e)?e:e+""}},1694:function(t,e,n){var i=n(5112),r=i("toStringTag"),o={};o[r]="z",t.exports="[object z]"===String(o)},1340:function(t,e,n){var i=n(648),r=String;t.exports=function(t){if("Symbol"===i(t))throw TypeError("Cannot convert a Symbol value to a string");return r(t)}},6330:function(t){var e=String;t.exports=function(t){try{return e(t)}catch(n){return"Object"}}},9711:function(t,e,n){var i=n(1702),r=0,o=Math.random(),s=i(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+s(++r+o,36)}},3307:function(t,e,n){var i=n(6293);t.exports=i&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},3353:function(t,e,n){var i=n(9781),r=n(7293);t.exports=i&&r((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},4811:function(t,e,n){var i=n(7854),r=n(614),o=i.WeakMap;t.exports=r(o)&&/native code/.test(String(o))},5112:function(t,e,n){var i=n(7854),r=n(2309),o=n(2597),s=n(9711),a=n(6293),c=n(3307),l=i.Symbol,u=r("wks"),h=c?l["for"]||l:l&&l.withoutSetter||s;t.exports=function(t){return o(u,t)||(u[t]=a&&o(l,t)?l[t]:h("Symbol."+t)),u[t]}},7658:function(t,e,n){"use strict";var i=n(2109),r=n(7908),o=n(6244),s=n(3658),a=n(7207),c=n(7293),l=c((function(){return 4294967297!==[].push.call({length:4294967296},1)})),u=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}},h=l||!u();i({target:"Array",proto:!0,arity:1,forced:h},{push:function(t){var e=r(this),n=o(e),i=arguments.length;a(n+i);for(var c=0;c<i;c++)e[n]=arguments[c],n++;return s(e,n),n}})},541:function(t,e,n){"use strict";var i=n(2109),r=n(7908),o=n(6244),s=n(3658),a=n(5117),c=n(7207),l=1!==[].unshift(0),u=function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(t){return t instanceof TypeError}},h=l||!u();i({target:"Array",proto:!0,arity:1,forced:h},{unshift:function(t){var e=r(this),n=o(e),i=arguments.length;if(i){c(n+i);var l=n;while(l--){var u=l+i;l in e?e[u]=e[l]:a(e,u)}for(var h=0;h<i;h++)e[h]=arguments[h]}return s(e,n+i)}})},1439:function(t,e,n){"use strict";var i=n(1843),r=n(260),o=r.aTypedArray,s=r.exportTypedArrayMethod,a=r.getTypedArrayConstructor;s("toReversed",(function(){return i(o(this),a(this))}))},7585:function(t,e,n){"use strict";var i=n(260),r=n(1702),o=n(9662),s=n(7745),a=i.aTypedArray,c=i.getTypedArrayConstructor,l=i.exportTypedArrayMethod,u=r(i.TypedArrayPrototype.sort);l("toSorted",(function(t){void 0!==t&&o(t);var e=a(this),n=s(c(e),e);return u(n,t)}))},5315:function(t,e,n){"use strict";var i=n(1572),r=n(260),o=n(4067),s=n(9303),a=n(4599),c=r.aTypedArray,l=r.getTypedArrayConstructor,u=r.exportTypedArrayMethod,h=!!function(){try{new Int8Array(1)["with"](2,{valueOf:function(){throw 8}})}catch(t){return 8===t}}();u("with",{with:function(t,e){var n=c(this),r=s(t),u=o(n)?a(e):+e;return i(n,l(n),r,u)}}["with"],!h)},3767:function(t,e,n){n(1439)},8585:function(t,e,n){n(7585)},8696:function(t,e,n){n(5315)},2801:function(t,e,n){"use strict";var i=n(2109),r=n(7854),o=n(5005),s=n(9114),a=n(3070).f,c=n(2597),l=n(5787),u=n(9587),h=n(6277),d=n(3678),f=n(1060),p=n(9781),m=n(1913),g="DOMException",_=o("Error"),v=o(g),y=function(){l(this,w);var t=arguments.length,e=h(t<1?void 0:arguments[0]),n=h(t<2?void 0:arguments[1],"Error"),i=new v(e,n),r=_(e);return r.name=g,a(i,"stack",s(1,f(r.stack,1))),u(i,this,y),i},w=y.prototype=v.prototype,b="stack"in _(g),T="stack"in new v(1,2),E=v&&p&&Object.getOwnPropertyDescriptor(r,g),S=!!E&&!(E.writable&&E.configurable),x=b&&!S&&!T;i({global:!0,constructor:!0,forced:m||x},{DOMException:x?y:v});var I=o(g),C=I.prototype;if(C.constructor!==I)for(var k in m||a(C,"constructor",s(1,I)),d)if(c(d,k)){var A=d[k],L=A.s;c(I,L)||a(I,L,s(6,A.c))}},223:function(t,e,n){"use strict";n.d(e,{BH:function(){return y},L:function(){return c},LL:function(){return P},P0:function(){return g},Pz:function(){return v},Sg:function(){return w},UG:function(){return E},ZR:function(){return L},aH:function(){return _},b$:function(){return x},eu:function(){return k},hl:function(){return C},m9:function(){return H},ne:function(){return z},pd:function(){return B},q4:function(){return m},ru:function(){return S},tV:function(){return l},uI:function(){return T},vZ:function(){return M},w1:function(){return I},xO:function(){return U},xb:function(){return N},z$:function(){return b},zd:function(){return F}});n(2801),n(7658);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const i=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=63&r|128):55296===(64512&r)&&i+1<t.length&&56320===(64512&t.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&t.charCodeAt(++i)),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=63&r|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=63&r|128)}return e},r=function(t){const e=[];let n=0,i=0;while(n<t.length){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const o=t[n++];e[i++]=String.fromCharCode((31&r)<<6|63&o)}else if(r>239&&r<365){const o=t[n++],s=t[n++],a=t[n++],c=((7&r)<<18|(63&o)<<12|(63&s)<<6|63&a)-65536;e[i++]=String.fromCharCode(55296+(c>>10)),e[i++]=String.fromCharCode(56320+(1023&c))}else{const o=t[n++],s=t[n++];e[i++]=String.fromCharCode((15&r)<<12|(63&o)<<6|63&s)}}return e.join("")},o={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const e=t[r],o=r+1<t.length,s=o?t[r+1]:0,a=r+2<t.length,c=a?t[r+2]:0,l=e>>2,u=(3&e)<<4|s>>4;let h=(15&s)<<2|c>>6,d=63&c;a||(d=64,o||(h=64)),i.push(n[l],n[u],n[h],n[d])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(i(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):r(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const e=n[t.charAt(r++)],o=r<t.length,a=o?n[t.charAt(r)]:0;++r;const c=r<t.length,l=c?n[t.charAt(r)]:64;++r;const u=r<t.length,h=u?n[t.charAt(r)]:64;if(++r,null==e||null==a||null==l||null==h)throw new s;const d=e<<2|a>>4;if(i.push(d),64!==l){const t=a<<4&240|l>>2;if(i.push(t),64!==h){const t=l<<6&192|h;i.push(t)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const a=function(t){const e=i(t);return o.encodeByteArray(e,!0)},c=function(t){return a(t).replace(/\./g,"")},l=function(t){try{return o.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function u(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h=()=>u().__FIREBASE_DEFAULTS__,d=()=>{if("undefined"===typeof process)return;const t={NODE_ENV:"production",VUE_APP_CLI_UI_URL:"",BASE_URL:""}.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0},f=()=>{if("undefined"===typeof document)return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const e=t&&l(t[1]);return e&&JSON.parse(e)},p=()=>{try{return h()||d()||f()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},m=t=>{var e,n;return null===(n=null===(e=p())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]},g=t=>{const e=m(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),i]:[e.substring(0,n),i]},_=()=>{var t;return null===(t=p())||void 0===t?void 0:t.config},v=t=>{var e;return null===(e=p())||void 0===e?void 0:e[`_${t}`]};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class y{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}wrapCallback(t){return(e,n)=>{e?this.reject(e):this.resolve(n),"function"===typeof t&&(this.promise.catch((()=>{})),1===t.length?t(e):t(e,n))}}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[c(JSON.stringify(n)),c(JSON.stringify(s)),a].join(".")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b(){return"undefined"!==typeof navigator&&"string"===typeof navigator["userAgent"]?navigator["userAgent"]:""}function T(){return"undefined"!==typeof window&&!!(window["cordova"]||window["phonegap"]||window["PhoneGap"])&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(b())}function E(){var t;const e=null===(t=p())||void 0===t?void 0:t.forceEnvironment;if("node"===e)return!0;if("browser"===e)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(i){return!1}}function S(){const t="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof t&&void 0!==t.id}function x(){return"object"===typeof navigator&&"ReactNative"===navigator["product"]}function I(){const t=b();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function C(){try{return"object"===typeof indexedDB}catch(t){return!1}}function k(){return new Promise(((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var t;e((null===(t=r.error)||void 0===t?void 0:t.message)||"")}}catch(n){e(n)}}))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const A="FirebaseError";class L extends Error{constructor(t,e,n){super(e),this.code=t,this.customData=n,this.name=A,Object.setPrototypeOf(this,L.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,P.prototype.create)}}class P{constructor(t,e,n){this.service=t,this.serviceName=e,this.errors=n}create(t,...e){const n=e[0]||{},i=`${this.service}/${t}`,r=this.errors[t],o=r?R(r,n):"Error",s=`${this.serviceName}: ${o} (${i}).`,a=new L(i,s,n);return a}}function R(t,e){return t.replace(O,((t,n)=>{const i=e[n];return null!=i?String(i):`<${n}?>`}))}const O=/\{\$([^}]+)}/g;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function M(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const n=t[r],o=e[r];if(D(n)&&D(o)){if(!M(n,o))return!1}else if(n!==o)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function D(t){return null!==t&&"object"===typeof t}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function U(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach((t=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(t))})):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function F(t){const e={},n=t.replace(/^\?/,"").split("&");return n.forEach((t=>{if(t){const[n,i]=t.split("=");e[decodeURIComponent(n)]=decodeURIComponent(i)}})),e}function B(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z(t,e){const n=new V(t,e);return n.subscribe.bind(n)}class V{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((()=>{t(this)})).catch((t=>{this.error(t)}))}next(t){this.forEachObserver((e=>{e.next(t)}))}error(t){this.forEachObserver((e=>{e.error(t)})),this.close(t)}complete(){this.forEachObserver((t=>{t.complete()})),this.close()}subscribe(t,e,n){let i;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");i=j(t,["next","error","complete"])?t:{next:t,error:e,complete:n},void 0===i.next&&(i.next=$),void 0===i.error&&(i.error=$),void 0===i.complete&&(i.complete=$);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch(t){}})),this.observers.push(i),r}unsubscribeOne(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[t])try{e(this.observers[t])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}}))}close(t){this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function j(t,e){if("object"!==typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"===typeof t[n])return!0;return!1}function $(){}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function H(t){return t&&t._delegate?t._delegate:t}},751:function(t,e,n){"use strict";n(7658);var i=n(3153);function r(t,e){return i.Util.extend(e,t.geocodingQueryParams)}function o(t,e){return i.Util.extend(e,t.reverseQueryParams)}let s=0;const a=/[&<>"'`]/g,c=/[&<>"'`]/,l={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};function u(t){return l[t]}function h(t){return null==t?"":t?(t=""+t,c.test(t)?t.replace(a,u):t):t+""}function d(t,e,n,r,o){const a="_l_geocoder_"+s++;e[o||"callback"]=a,window[a]=i.Util.bind(n,r);const c=document.createElement("script");c.type="text/javascript",c.src=t+m(e),c.id=a,document.getElementsByTagName("head")[0].appendChild(c)}function f(t,e,n){const i=new XMLHttpRequest;i.onreadystatechange=function(){if(4!==i.readyState)return;let t;if(200!==i.status&&304!==i.status)t="";else if("string"===typeof i.response)try{t=JSON.parse(i.response)}catch(e){t=i.response}else t=i.response;n(t)},i.open("GET",t+m(e),!0),i.responseType="json",i.setRequestHeader("Accept","application/json"),i.send(null)}function p(t,e){return t.replace(/\{ *([\w_]+) *\}/g,((t,n)=>{let i=e[n];return void 0===i?i="":"function"===typeof i&&(i=i(e)),h(i)}))}function m(t,e,n){const i=[];for(const r in t){const e=encodeURIComponent(n?r.toUpperCase():r),o=t[r];if(Array.isArray(o))for(let t=0;t<o.length;t++)i.push(e+"="+encodeURIComponent(o[t]));else i.push(e+"="+encodeURIComponent(String(o)))}return(e&&-1!==e.indexOf("?")?"&":"?")+i.join("&")}class g{constructor(t){this.options={serviceUrl:"https://geocode.arcgis.com/arcgis/rest/services/World/GeocodeServer",apiKey:""},i.Util.setOptions(this,t)}geocode(t,e,n){const o=r(this.options,{token:this.options.apiKey,SingleLine:t,outFields:"Addr_Type",forStorage:!1,maxLocations:10,f:"json"});f(this.options.serviceUrl+"/findAddressCandidates",o,(t=>{const r=[];if(t.candidates&&t.candidates.length)for(let e=0;e<=t.candidates.length-1;e++){const n=t.candidates[e],o=i.latLng(n.location.y,n.location.x),s=i.latLngBounds(i.latLng(n.extent.ymax,n.extent.xmax),i.latLng(n.extent.ymin,n.extent.xmin));r[e]={name:n.address,bbox:s,center:o}}e.call(n,r)}))}suggest(t,e,n){return this.geocode(t,e,n)}reverse(t,e,n,r){const s=o(this.options,{location:t.lng+","+t.lat,distance:100,f:"json"});f(this.options.serviceUrl+"/reverseGeocode",s,(t=>{const e=[];if(t&&!t.error){const n=i.latLng(t.location.y,t.location.x),r=i.latLngBounds(n,n);e.push({name:t.address.Match_addr,center:n,bbox:r})}n.call(r,e)}))}}function _(t){return new g(t)}class v{constructor(t){this.options={serviceUrl:"https://dev.virtualearth.net/REST/v1/Locations"},i.Util.setOptions(this,t)}geocode(t,e,n){const o=r(this.options,{query:t,key:this.options.apiKey});d(this.options.apiKey,o,(t=>{const r=[];if(t.resourceSets.length>0)for(let e=t.resourceSets[0].resources.length-1;e>=0;e--){const n=t.resourceSets[0].resources[e],o=n.bbox;r[e]={name:n.name,bbox:i.latLngBounds([o[0],o[1]],[o[2],o[3]]),center:i.latLng(n.point.coordinates)}}e.call(n,r)}),this,"jsonp")}reverse(t,e,n,r){const s=o(this.options,{key:this.options.apiKey});d(this.options.serviceUrl+t.lat+","+t.lng,s,(t=>{const e=[];for(let n=t.resourceSets[0].resources.length-1;n>=0;n--){const r=t.resourceSets[0].resources[n],o=r.bbox;e[n]={name:r.name,bbox:i.latLngBounds([o[0],o[1]],[o[2],o[3]]),center:i.latLng(r.point.coordinates)}}n.call(r,e)}),this,"jsonp")}}function y(t){return new v(t)}class w{constructor(t){this.options={serviceUrl:"https://maps.googleapis.com/maps/api/geocode/json"},i.Util.setOptions(this,t)}geocode(t,e,n){const o=r(this.options,{key:this.options.apiKey,address:t});f(this.options.serviceUrl,o,(t=>{const r=[];if(t.results&&t.results.length)for(let e=0;e<=t.results.length-1;e++){const n=t.results[e],o=i.latLng(n.geometry.location),s=i.latLngBounds(i.latLng(n.geometry.viewport.northeast),i.latLng(n.geometry.viewport.southwest));r[e]={name:n.formatted_address,bbox:s,center:o,properties:n.address_components}}e.call(n,r)}))}reverse(t,e,n,r){const s=o(this.options,{key:this.options.apiKey,latlng:t.lat+","+t.lng});f(this.options.serviceUrl,s,(t=>{const e=[];if(t.results&&t.results.length)for(let n=0;n<=t.results.length-1;n++){const r=t.results[n],o=i.latLng(r.geometry.location),s=i.latLngBounds(i.latLng(r.geometry.viewport.northeast),i.latLng(r.geometry.viewport.southwest));e[n]={name:r.formatted_address,bbox:s,center:o,properties:r.address_components}}n.call(r,e)}))}}function b(t){return new w(t)}class T{constructor(t){if(this.options={serviceUrl:"https://geocoder.api.here.com/6.2/",app_id:"",app_code:"",apiKey:"",maxResults:5},i.Util.setOptions(this,t),t.apiKey)throw Error("apiKey is not supported, use app_id/app_code instead!")}geocode(t,e,n){const i=r(this.options,{searchtext:t,gen:9,app_id:this.options.app_id,app_code:this.options.app_code,jsonattributes:1,maxresults:this.options.maxResults});this.getJSON(this.options.serviceUrl+"geocode.json",i,e,n)}reverse(t,e,n,i){let r=t.lat+","+t.lng;this.options.reverseGeocodeProxRadius&&(r+=","+this.options.reverseGeocodeProxRadius);const s=o(this.options,{prox:r,mode:"retrieveAddresses",app_id:this.options.app_id,app_code:this.options.app_code,gen:9,jsonattributes:1,maxresults:this.options.maxResults});this.getJSON(this.options.serviceUrl+"reversegeocode.json",s,n,i)}getJSON(t,e,n,r){f(t,e,(t=>{const e=[];if(t.response.view&&t.response.view.length)for(let n=0;n<=t.response.view[0].result.length-1;n++){const r=t.response.view[0].result[n].location,o=i.latLng(r.displayPosition.latitude,r.displayPosition.longitude),s=i.latLngBounds(i.latLng(r.mapView.topLeft.latitude,r.mapView.topLeft.longitude),i.latLng(r.mapView.bottomRight.latitude,r.mapView.bottomRight.longitude));e[n]={name:r.address.label,properties:r.address,bbox:s,center:o}}n.call(r,e)}))}}class E{constructor(t){this.options={serviceUrl:"https://geocode.search.hereapi.com/v1",apiKey:"",app_id:"",app_code:"",maxResults:10},i.Util.setOptions(this,t)}geocode(t,e,n){const i=r(this.options,{q:t,apiKey:this.options.apiKey,limit:this.options.maxResults});if(!i.at&&!i.in)throw Error("at / in parameters not found. Please define coordinates (at=latitude,longitude) or other (in) in your geocodingQueryParams.");this.getJSON(this.options.serviceUrl+"/discover",i,e,n)}reverse(t,e,n,i){const r=o(this.options,{at:t.lat+","+t.lng,limit:this.options.reverseGeocodeProxRadius,apiKey:this.options.apiKey});this.getJSON(this.options.serviceUrl+"/revgeocode",r,n,i)}getJSON(t,e,n,r){f(t,e,(t=>{const e=[];if(t.items&&t.items.length)for(let n=0;n<=t.items.length-1;n++){const r=t.items[n],o=i.latLng(r.position.lat,r.position.lng);let s;s=r.mapView?i.latLngBounds(i.latLng(r.mapView.south,r.mapView.west),i.latLng(r.mapView.north,r.mapView.east)):i.latLngBounds(i.latLng(r.position.lat,r.position.lng),i.latLng(r.position.lat,r.position.lng)),e[n]={name:r.address.label,properties:r.address,bbox:s,center:o}}n.call(r,e)}))}}function S(t){return t.apiKey?new E(t):new T(t)}function x(t){let e;return(e=t.match(/^([NS])\s*(\d{1,3}(?:\.\d*)?)\W*([EW])\s*(\d{1,3}(?:\.\d*)?)$/))?i.latLng((/N/i.test(e[1])?1:-1)*+e[2],(/E/i.test(e[3])?1:-1)*+e[4]):(e=t.match(/^(\d{1,3}(?:\.\d*)?)\s*([NS])\W*(\d{1,3}(?:\.\d*)?)\s*([EW])$/))?i.latLng((/N/i.test(e[2])?1:-1)*+e[1],(/E/i.test(e[4])?1:-1)*+e[3]):(e=t.match(/^([NS])\s*(\d{1,3})°?\s*(\d{1,3}(?:\.\d*)?)?['′]?\W*([EW])\s*(\d{1,3})°?\s*(\d{1,3}(?:\.\d*)?)?['′]?$/))?i.latLng((/N/i.test(e[1])?1:-1)*(+e[2]+ +e[3]/60),(/E/i.test(e[4])?1:-1)*(+e[5]+ +e[6]/60)):(e=t.match(/^(\d{1,3})°?\s*(\d{1,3}(?:\.\d*)?)?['′]?\s*([NS])\W*(\d{1,3})°?\s*(\d{1,3}(?:\.\d*)?)?['′]?\s*([EW])$/))?i.latLng((/N/i.test(e[3])?1:-1)*(+e[1]+ +e[2]/60),(/E/i.test(e[6])?1:-1)*(+e[4]+ +e[5]/60)):(e=t.match(/^([NS])\s*(\d{1,3})°?\s*(\d{1,2})['′]?\s*(\d{1,3}(?:\.\d*)?)?["″]?\W*([EW])\s*(\d{1,3})°?\s*(\d{1,2})['′]?\s*(\d{1,3}(?:\.\d*)?)?["″]?$/))?i.latLng((/N/i.test(e[1])?1:-1)*(+e[2]+ +e[3]/60+ +e[4]/3600),(/E/i.test(e[5])?1:-1)*(+e[6]+ +e[7]/60+ +e[8]/3600)):(e=t.match(/^(\d{1,3})°?\s*(\d{1,2})['′]?\s*(\d{1,3}(?:\.\d*)?)?["″]\s*([NS])\W*(\d{1,3})°?\s*(\d{1,2})['′]?\s*(\d{1,3}(?:\.\d*)?)?["″]?\s*([EW])$/))?i.latLng((/N/i.test(e[4])?1:-1)*(+e[1]+ +e[2]/60+ +e[3]/3600),(/E/i.test(e[8])?1:-1)*(+e[5]+ +e[6]/60+ +e[7]/3600)):(e=t.match(/^\s*([+-]?\d+(?:\.\d*)?)\s*[\s,]\s*([+-]?\d+(?:\.\d*)?)\s*$/))?i.latLng(+e[1],+e[2]):void 0}class I{constructor(t){this.options={next:void 0,sizeInMeters:1e4},i.Util.setOptions(this,t)}geocode(t,e,n){const i=x(t);if(i){const r=[{name:t,center:i,bbox:i.toBounds(this.options.sizeInMeters)}];e.call(n,r)}else this.options.next&&this.options.next.geocode(t,e,n)}}function C(t){return new I(t)}class k{constructor(t){this.options={serviceUrl:"https://api.mapbox.com/geocoding/v5/mapbox.places/"},i.Util.setOptions(this,t)}_getProperties(t){const e={text:t.text,address:t.address};for(let n=0;n<(t.context||[]).length;n++){const i=t.context[n].id.split(".")[0];e[i]=t.context[n].text,t.context[n].short_code&&(e["countryShortCode"]=t.context[n].short_code)}return e}geocode(t,e,n){const o=r(this.options,{access_token:this.options.apiKey});void 0!==o.proximity&&void 0!==o.proximity.lat&&void 0!==o.proximity.lng&&(o.proximity=o.proximity.lng+","+o.proximity.lat),f(this.options.serviceUrl+encodeURIComponent(t)+".json",o,(t=>{const r=[];if(t.features&&t.features.length)for(let e=0;e<=t.features.length-1;e++){const n=t.features[e],o=i.latLng(n.center.reverse());let s;s=n.bbox?i.latLngBounds(i.latLng(n.bbox.slice(0,2).reverse()),i.latLng(n.bbox.slice(2,4).reverse())):i.latLngBounds(o,o),r[e]={name:n.place_name,bbox:s,center:o,properties:this._getProperties(n)}}e.call(n,r)}))}suggest(t,e,n){return this.geocode(t,e,n)}reverse(t,e,n,r){const s=this.options.serviceUrl+t.lng+","+t.lat+".json",a=o(this.options,{access_token:this.options.apiKey});f(s,a,(t=>{const e=[];if(t.features&&t.features.length)for(let n=0;n<=t.features.length-1;n++){const r=t.features[n],o=i.latLng(r.center.reverse());let s;s=r.bbox?i.latLngBounds(i.latLng(r.bbox.slice(0,2).reverse()),i.latLng(r.bbox.slice(2,4).reverse())):i.latLngBounds(o,o),e[n]={name:r.place_name,bbox:s,center:o,properties:this._getProperties(r)}}n.call(r,e)}))}}function A(t){return new k(t)}class L{constructor(t){this.options={serviceUrl:"https://www.mapquestapi.com/geocoding/v1"},i.Util.setOptions(this,t),this.options.apiKey=decodeURIComponent(this.options.apiKey)}_formatName(...t){return t.filter((t=>!!t)).join(", ")}geocode(t,e,n){const o=r(this.options,{key:this.options.apiKey,location:t,limit:5,outFormat:"json"});f(this.options.serviceUrl+"/address",o,i.Util.bind((function(t){const r=[];if(t.results&&t.results[0].locations)for(let e=t.results[0].locations.length-1;e>=0;e--){const n=t.results[0].locations[e],o=i.latLng(n.latLng);r[e]={name:this._formatName(n.street,n.adminArea4,n.adminArea3,n.adminArea1),bbox:i.latLngBounds(o,o),center:o}}e.call(n,r)}),this))}reverse(t,e,n,r){const s=o(this.options,{key:this.options.apiKey,location:t.lat+","+t.lng,outputFormat:"json"});f(this.options.serviceUrl+"/reverse",s,i.Util.bind((function(t){const e=[];if(t.results&&t.results[0].locations)for(let n=t.results[0].locations.length-1;n>=0;n--){const r=t.results[0].locations[n],o=i.latLng(r.latLng);e[n]={name:this._formatName(r.street,r.adminArea4,r.adminArea3,r.adminArea1),bbox:i.latLngBounds(o,o),center:o}}n.call(r,e)}),this))}}function P(t){return new L(t)}class R{constructor(t){this.options={userId:void 0,apiKey:void 0,serviceUrl:"https://neutrinoapi.com/"},i.Util.setOptions(this,t)}geocode(t,e,n){const o=r(this.options,{apiKey:this.options.apiKey,userId:this.options.userId,address:t.split(/\s+/).join(".")});f(this.options.serviceUrl+"geocode-address",o,(t=>{const r=[];if(t.locations){t.geometry=t.locations[0];const e=i.latLng(t.geometry["latitude"],t.geometry["longitude"]),n=i.latLngBounds(e,e);r[0]={name:t.geometry.address,bbox:n,center:e}}e.call(n,r)}))}suggest(t,e,n){return this.geocode(t,e,n)}reverse(t,e,n,r){const s=o(this.options,{apiKey:this.options.apiKey,userId:this.options.userId,latitude:t.lat,longitude:t.lng});f(this.options.serviceUrl+"geocode-reverse",s,(e=>{const o=[];if(200==e.status.status&&e.found){const n=i.latLng(t.lat,t.lng),r=i.latLngBounds(n,n);o[0]={name:e.address,bbox:r,center:n}}n.call(r,o)}))}}function O(t){return new R(t)}class N{constructor(t){this.options={serviceUrl:"https://nominatim.openstreetmap.org/",htmlTemplate:function(t){const e=t.address;let n;const i=[];return(e.road||e.building)&&i.push("{building} {road} {house_number}"),(e.city||e.town||e.village||e.hamlet)&&(n=i.length>0?"leaflet-control-geocoder-address-detail":"",i.push('<span class="'+n+'">{postcode} {city} {town} {village} {hamlet}</span>')),(e.state||e.country)&&(n=i.length>0?"leaflet-control-geocoder-address-context":"",i.push('<span class="'+n+'">{state} {country}</span>')),p(i.join("<br/>"),e)}},i.Util.setOptions(this,t||{})}geocode(t,e,n){const o=r(this.options,{q:t,limit:5,format:"json",addressdetails:1});f(this.options.serviceUrl+"search",o,(t=>{const r=[];for(let e=t.length-1;e>=0;e--){const n=t[e].boundingbox;for(let t=0;t<4;t++)n[t]=+n[t];r[e]={icon:t[e].icon,name:t[e].display_name,html:this.options.htmlTemplate?this.options.htmlTemplate(t[e]):void 0,bbox:i.latLngBounds([n[0],n[2]],[n[1],n[3]]),center:i.latLng(t[e].lat,t[e].lon),properties:t[e]}}e.call(n,r)}))}reverse(t,e,n,r){const s=o(this.options,{lat:t.lat,lon:t.lng,zoom:Math.round(Math.log(e/256)/Math.log(2)),addressdetails:1,format:"json"});f(this.options.serviceUrl+"reverse",s,(t=>{const e=[];if(t&&t.lat&&t.lon){const n=i.latLng(t.lat,t.lon),r=i.latLngBounds(n,n);e.push({name:t.display_name,html:this.options.htmlTemplate?this.options.htmlTemplate(t):void 0,center:n,bbox:r,properties:t})}n.call(r,e)}))}}function M(t){return new N(t)}class D{constructor(t){i.Util.setOptions(this,t)}geocode(t,e,n){try{const r=this.options.OpenLocationCode.decode(t),o={name:t,center:i.latLng(r.latitudeCenter,r.longitudeCenter),bbox:i.latLngBounds(i.latLng(r.latitudeLo,r.longitudeLo),i.latLng(r.latitudeHi,r.longitudeHi))};e.call(n,[o])}catch(r){console.warn(r),e.call(n,[])}}reverse(t,e,n,r){try{const e=this.options.OpenLocationCode.encode(t.lat,t.lng,this.options.codeLength),o={name:e,center:i.latLng(t.lat,t.lng),bbox:i.latLngBounds(i.latLng(t.lat,t.lng),i.latLng(t.lat,t.lng))};n.call(r,[o])}catch(o){console.warn(o),n.call(r,[])}}}function U(t){return new D(t)}class F{constructor(t){this.options={serviceUrl:"https://api.opencagedata.com/geocode/v1/json"},i.Util.setOptions(this,t)}geocode(t,e,n){const o=r(this.options,{key:this.options.apiKey,q:t});f(this.options.serviceUrl,o,(t=>{const r=[];if(t.results&&t.results.length)for(let e=0;e<t.results.length;e++){const n=t.results[e],o=i.latLng(n.geometry);let s;s=n.annotations&&n.annotations.bounds?i.latLngBounds(i.latLng(n.annotations.bounds.northeast),i.latLng(n.annotations.bounds.southwest)):i.latLngBounds(o,o),r.push({name:n.formatted,bbox:s,center:o})}e.call(n,r)}))}suggest(t,e,n){return this.geocode(t,e,n)}reverse(t,e,n,r){const s=o(this.options,{key:this.options.apiKey,q:[t.lat,t.lng].join(",")});f(this.options.serviceUrl,s,(t=>{const e=[];if(t.results&&t.results.length)for(let n=0;n<t.results.length;n++){const r=t.results[n],o=i.latLng(r.geometry);let s;s=r.annotations&&r.annotations.bounds?i.latLngBounds(i.latLng(r.annotations.bounds.northeast),i.latLng(r.annotations.bounds.southwest)):i.latLngBounds(o,o),e.push({name:r.formatted,bbox:s,center:o})}n.call(r,e)}))}}function B(t){return new F(t)}class z{constructor(t){this.options={serviceUrl:"https://api.geocode.earth/v1"},this._lastSuggest=0,i.Util.setOptions(this,t)}geocode(t,e,n){const i=r(this.options,{api_key:this.options.apiKey,text:t});f(this.options.serviceUrl+"/search",i,(t=>{e.call(n,this._parseResults(t,"bbox"))}))}suggest(t,e,n){const i=r(this.options,{api_key:this.options.apiKey,text:t});f(this.options.serviceUrl+"/autocomplete",i,(t=>{t.geocoding.timestamp>this._lastSuggest&&(this._lastSuggest=t.geocoding.timestamp,e.call(n,this._parseResults(t,"bbox")))}))}reverse(t,e,n,i){const r=o(this.options,{api_key:this.options.apiKey,"point.lat":t.lat,"point.lon":t.lng});f(this.options.serviceUrl+"/reverse",r,(t=>{n.call(i,this._parseResults(t,"bounds"))}))}_parseResults(t,e){const n=[];return i.geoJSON(t,{pointToLayer:function(t,e){return i.circleMarker(e)},onEachFeature:function(t,r){const o={};let s,a;r.getBounds?(s=r.getBounds(),a=s.getCenter()):r.feature.bbox?(a=r.getLatLng(),s=i.latLngBounds(i.GeoJSON.coordsToLatLng(r.feature.bbox.slice(0,2)),i.GeoJSON.coordsToLatLng(r.feature.bbox.slice(2,4)))):(a=r.getLatLng(),s=i.latLngBounds(a,a)),o.name=r.feature.properties.label,o.center=a,o[e]=s,o.properties=r.feature.properties,n.push(o)}}),n}}function V(t){return new z(t)}const j=z,$=V,H=z,q=V;class W extends z{constructor(t){super(i.Util.extend({serviceUrl:"https://api.openrouteservice.org/geocode"},t))}}function Z(t){return new W(t)}class K{constructor(t){this.options={serviceUrl:"https://photon.komoot.io/api/",reverseUrl:"https://photon.komoot.io/reverse/",nameProperties:["name","street","suburb","hamlet","town","city","state","country"]},i.Util.setOptions(this,t)}geocode(t,e,n){const o=r(this.options,{q:t});f(this.options.serviceUrl,o,i.Util.bind((function(t){e.call(n,this._decodeFeatures(t))}),this))}suggest(t,e,n){return this.geocode(t,e,n)}reverse(t,e,n,r){const s=o(this.options,{lat:t.lat,lon:t.lng});f(this.options.reverseUrl,s,i.Util.bind((function(t){n.call(r,this._decodeFeatures(t))}),this))}_decodeFeatures(t){const e=[];if(t&&t.features)for(let n=0;n<t.features.length;n++){const r=t.features[n],o=r.geometry.coordinates,s=i.latLng(o[1],o[0]),a=r.properties.extent,c=a?i.latLngBounds([a[1],a[0]],[a[3],a[2]]):i.latLngBounds(s,s);e.push({name:this._decodeFeatureName(r),html:this.options.htmlTemplate?this.options.htmlTemplate(r):void 0,center:s,bbox:c,properties:r.properties})}return e}_decodeFeatureName(t){return(this.options.nameProperties||[]).map((e=>t.properties[e])).filter((t=>!!t)).join(", ")}}function G(t){return new K(t)}class J{constructor(t){this.options={serviceUrl:"https://api.what3words.com/v2/"},i.Util.setOptions(this,t)}geocode(t,e,n){f(this.options.serviceUrl+"forward",r(this.options,{key:this.options.apiKey,addr:t.split(/\s+/).join(".")}),(t=>{const r=[];if(t.geometry){const e=i.latLng(t.geometry["lat"],t.geometry["lng"]),n=i.latLngBounds(e,e);r[0]={name:t.words,bbox:n,center:e}}e.call(n,r)}))}suggest(t,e,n){return this.geocode(t,e,n)}reverse(t,e,n,r){f(this.options.serviceUrl+"reverse",o(this.options,{key:this.options.apiKey,coords:[t.lat,t.lng].join(",")}),(t=>{const e=[];if(200==t.status.status){const n=i.latLng(t.geometry["lat"],t.geometry["lng"]),r=i.latLngBounds(n,n);e[0]={name:t.words,bbox:r,center:n}}n.call(r,e)}))}}function X(t){return new J(t)}var Q={__proto__:null,geocodingParams:r,reverseParams:o,ArcGis:g,arcgis:_,Bing:v,bing:y,Google:w,google:b,HERE:T,HEREv2:E,here:S,parseLatLng:x,LatLng:I,latLng:C,Mapbox:k,mapbox:A,MapQuest:L,mapQuest:P,Neutrino:R,neutrino:O,Nominatim:N,nominatim:M,OpenLocationCode:D,openLocationCode:U,OpenCage:F,opencage:B,Pelias:z,pelias:V,GeocodeEarth:j,geocodeEarth:$,Mapzen:H,mapzen:q,Openrouteservice:W,openrouteservice:Z,Photon:K,photon:G,What3Words:J,what3words:X};class Y{constructor(...t){}}i.Util.extend(Y.prototype,i.Control.prototype),i.Util.extend(Y.prototype,i.Evented.prototype);class tt extends Y{constructor(t){super(t),this.options={showUniqueResult:!0,showResultIcons:!1,collapsed:!0,expand:"touch",position:"topright",placeholder:"Search...",errorMessage:"Nothing found.",iconLabel:"Initiate a new search",query:"",queryMinLength:1,suggestMinLength:3,suggestTimeout:250,defaultMarkGeocode:!0},this._requestCount=0,i.Util.setOptions(this,t),this.options.geocoder||(this.options.geocoder=new N)}addThrobberClass(){i.DomUtil.addClass(this._container,"leaflet-control-geocoder-throbber")}removeThrobberClass(){i.DomUtil.removeClass(this._container,"leaflet-control-geocoder-throbber")}onAdd(t){const e="leaflet-control-geocoder",n=i.DomUtil.create("div",e+" leaflet-bar"),r=i.DomUtil.create("button",e+"-icon",n),o=this._form=i.DomUtil.create("div",e+"-form",n);this._map=t,this._container=n,r.innerHTML="&nbsp;",r.type="button",r.setAttribute("aria-label",this.options.iconLabel);const s=this._input=i.DomUtil.create("input","",o);return s.type="text",s.value=this.options.query,s.placeholder=this.options.placeholder,i.DomEvent.disableClickPropagation(s),this._errorElement=i.DomUtil.create("div",e+"-form-no-error",n),this._errorElement.innerHTML=this.options.errorMessage,this._alts=i.DomUtil.create("ul",e+"-alternatives leaflet-control-geocoder-alternatives-minimized",n),i.DomEvent.disableClickPropagation(this._alts),i.DomEvent.addListener(s,"keydown",this._keydown,this),this.options.geocoder.suggest&&i.DomEvent.addListener(s,"input",this._change,this),i.DomEvent.addListener(s,"blur",(()=>{this.options.collapsed&&!this._preventBlurCollapse&&this._collapse(),this._preventBlurCollapse=!1})),this.options.collapsed?"click"===this.options.expand?i.DomEvent.addListener(n,"click",(t=>{0===t.button&&2!==t.detail&&this._toggle()})):"touch"===this.options.expand?i.DomEvent.addListener(n,i.Browser.touch?"touchstart mousedown":"mousedown",(t=>{this._toggle(),t.preventDefault(),t.stopPropagation()}),this):(i.DomEvent.addListener(n,"mouseover",this._expand,this),i.DomEvent.addListener(n,"mouseout",this._collapse,this),this._map.on("movestart",this._collapse,this)):(this._expand(),i.Browser.touch?i.DomEvent.addListener(n,"touchstart",(()=>this._geocode())):i.DomEvent.addListener(n,"click",(()=>this._geocode()))),this.options.defaultMarkGeocode&&this.on("markgeocode",this.markGeocode,this),this.on("startgeocode",this.addThrobberClass,this),this.on("finishgeocode",this.removeThrobberClass,this),this.on("startsuggest",this.addThrobberClass,this),this.on("finishsuggest",this.removeThrobberClass,this),i.DomEvent.disableClickPropagation(n),n}setQuery(t){return this._input.value=t,this}_geocodeResult(t,e){if(!e&&this.options.showUniqueResult&&1===t.length)this._geocodeResultSelected(t[0]);else if(t.length>0){this._alts.innerHTML="",this._results=t,i.DomUtil.removeClass(this._alts,"leaflet-control-geocoder-alternatives-minimized"),i.DomUtil.addClass(this._container,"leaflet-control-geocoder-options-open");for(let e=0;e<t.length;e++)this._alts.appendChild(this._createAlt(t[e],e))}else i.DomUtil.addClass(this._container,"leaflet-control-geocoder-options-error"),i.DomUtil.addClass(this._errorElement,"leaflet-control-geocoder-error")}markGeocode(t){const e=t.geocode;return this._map.fitBounds(e.bbox),this._geocodeMarker&&this._map.removeLayer(this._geocodeMarker),this._geocodeMarker=new i.Marker(e.center).bindPopup(e.html||e.name).addTo(this._map).openPopup(),this}_geocode(t){const e=this._input.value;if(!t&&e.length<this.options.queryMinLength)return;const n=++this._requestCount,i=i=>{if(n===this._requestCount){const n={input:e,results:i};this.fire(t?"finishsuggest":"finishgeocode",n),this._geocodeResult(i,t)}};this._lastGeocode=e,t||this._clearResults();const r={input:e};this.fire(t?"startsuggest":"startgeocode",r),t?this.options.geocoder.suggest(e,i):this.options.geocoder.geocode(e,i)}_geocodeResultSelected(t){const e={geocode:t};this.fire("markgeocode",e)}_toggle(){i.DomUtil.hasClass(this._container,"leaflet-control-geocoder-expanded")?this._collapse():this._expand()}_expand(){i.DomUtil.addClass(this._container,"leaflet-control-geocoder-expanded"),this._input.select(),this.fire("expand")}_collapse(){i.DomUtil.removeClass(this._container,"leaflet-control-geocoder-expanded"),i.DomUtil.addClass(this._alts,"leaflet-control-geocoder-alternatives-minimized"),i.DomUtil.removeClass(this._errorElement,"leaflet-control-geocoder-error"),i.DomUtil.removeClass(this._container,"leaflet-control-geocoder-options-open"),i.DomUtil.removeClass(this._container,"leaflet-control-geocoder-options-error"),this._input.blur(),this.fire("collapse")}_clearResults(){i.DomUtil.addClass(this._alts,"leaflet-control-geocoder-alternatives-minimized"),this._selection=null,i.DomUtil.removeClass(this._errorElement,"leaflet-control-geocoder-error"),i.DomUtil.removeClass(this._container,"leaflet-control-geocoder-options-open"),i.DomUtil.removeClass(this._container,"leaflet-control-geocoder-options-error")}_createAlt(t,e){const n=i.DomUtil.create("li",""),r=i.DomUtil.create("a","",n),o=this.options.showResultIcons&&t.icon?i.DomUtil.create("img","",r):null,s=t.html?void 0:document.createTextNode(t.name),a=e=>{this._preventBlurCollapse=!0,i.DomEvent.stop(e),this._geocodeResultSelected(t),i.DomEvent.on(n,"click touchend",(()=>{this.options.collapsed?this._collapse():this._clearResults()}))};return o&&(o.src=t.icon),n.setAttribute("data-result-index",String(e)),t.html?r.innerHTML=r.innerHTML+t.html:s&&r.appendChild(s),i.DomEvent.addListener(n,"mousedown touchstart",a,this),n}_keydown(t){const e=t=>{this._selection&&(i.DomUtil.removeClass(this._selection,"leaflet-control-geocoder-selected"),this._selection=this._selection[t>0?"nextSibling":"previousSibling"]),this._selection||(this._selection=this._alts[t>0?"firstChild":"lastChild"]),this._selection&&i.DomUtil.addClass(this._selection,"leaflet-control-geocoder-selected")};switch(t.keyCode){case 27:this.options.collapsed?this._collapse():this._clearResults();break;case 38:e(-1);break;case 40:e(1);break;case 13:if(this._selection){const t=parseInt(this._selection.getAttribute("data-result-index"),10);this._geocodeResultSelected(this._results[t]),this._clearResults()}else this._geocode();break;default:return}i.DomEvent.preventDefault(t)}_change(){const t=this._input.value;t!==this._lastGeocode&&(clearTimeout(this._suggestTimeout),t.length>=this.options.suggestMinLength?this._suggestTimeout=setTimeout((()=>this._geocode(!0)),this.options.suggestTimeout):this._clearResults())}}function et(t){return new tt(t)}
/* @preserve
 * Leaflet Control Geocoder
 * https://github.com/perliedman/leaflet-control-geocoder
 *
 * Copyright (c) 2012 sa3m (https://github.com/sa3m)
 * Copyright (c) 2018 Per Liedman
 * All rights reserved.
 */i.Util.extend(tt,Q),i.Util.extend(i.Control,{Geocoder:tt,geocoder:et})},3153:function(t,e,n){n(7658),n(3767),n(8585),n(8696),
/* @preserve
 * Leaflet 1.9.3, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2022 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */
function(t,n){n(e)}(0,(function(t){"use strict";var e="1.9.3";function n(t){var e,n,i,r;for(n=1,i=arguments.length;n<i;n++)for(e in r=arguments[n],r)t[e]=r[e];return t}var i=Object.create||function(){function t(){}return function(e){return t.prototype=e,new t}}();function r(t,e){var n=Array.prototype.slice;if(t.bind)return t.bind.apply(t,n.call(arguments,1));var i=n.call(arguments,2);return function(){return t.apply(e,i.length?i.concat(n.call(arguments)):arguments)}}var o=0;function s(t){return"_leaflet_id"in t||(t["_leaflet_id"]=++o),t._leaflet_id}function a(t,e,n){var i,r,o,s;return s=function(){i=!1,r&&(o.apply(n,r),r=!1)},o=function(){i?r=arguments:(t.apply(n,arguments),setTimeout(s,e),i=!0)},o}function c(t,e,n){var i=e[1],r=e[0],o=i-r;return t===i&&n?t:((t-r)%o+o)%o+r}function l(){return!1}function u(t,e){if(!1===e)return t;var n=Math.pow(10,void 0===e?6:e);return Math.round(t*n)/n}function h(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function d(t){return h(t).split(/\s+/)}function f(t,e){for(var n in Object.prototype.hasOwnProperty.call(t,"options")||(t.options=t.options?i(t.options):{}),e)t.options[n]=e[n];return t.options}function p(t,e,n){var i=[];for(var r in t)i.push(encodeURIComponent(n?r.toUpperCase():r)+"="+encodeURIComponent(t[r]));return(e&&-1!==e.indexOf("?")?"&":"?")+i.join("&")}var m=/\{ *([\w_ -]+) *\}/g;function g(t,e){return t.replace(m,(function(t,n){var i=e[n];if(void 0===i)throw new Error("No value provided for variable "+t);return"function"===typeof i&&(i=i(e)),i}))}var _=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function v(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1}var y="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function w(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var b=0;function T(t){var e=+new Date,n=Math.max(0,16-(e-b));return b=e+n,window.setTimeout(t,n)}var E=window.requestAnimationFrame||w("RequestAnimationFrame")||T,S=window.cancelAnimationFrame||w("CancelAnimationFrame")||w("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function x(t,e,n){if(!n||E!==T)return E.call(window,r(t,e));t.call(e)}function I(t){t&&S.call(window,t)}var C={__proto__:null,extend:n,create:i,bind:r,get lastId(){return o},stamp:s,throttle:a,wrapNum:c,falseFn:l,formatNum:u,trim:h,splitWords:d,setOptions:f,getParamString:p,template:g,isArray:_,indexOf:v,emptyImageUrl:y,requestFn:E,cancelFn:S,requestAnimFrame:x,cancelAnimFrame:I};function k(){}function A(t){if("undefined"!==typeof L&&L&&L.Mixin){t=_(t)?t:[t];for(var e=0;e<t.length;e++)t[e]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}k.extend=function(t){var e=function(){f(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},r=e.__super__=this.prototype,o=i(r);for(var s in o.constructor=e,e.prototype=o,this)Object.prototype.hasOwnProperty.call(this,s)&&"prototype"!==s&&"__super__"!==s&&(e[s]=this[s]);return t.statics&&n(e,t.statics),t.includes&&(A(t.includes),n.apply(null,[o].concat(t.includes))),n(o,t),delete o.statics,delete o.includes,o.options&&(o.options=r.options?i(r.options):{},n(o.options,t.options)),o._initHooks=[],o.callInitHooks=function(){if(!this._initHooksCalled){r.callInitHooks&&r.callInitHooks.call(this),this._initHooksCalled=!0;for(var t=0,e=o._initHooks.length;t<e;t++)o._initHooks[t].call(this)}},e},k.include=function(t){var e=this.prototype.options;return n(this.prototype,t),t.options&&(this.prototype.options=e,this.mergeOptions(t.options)),this},k.mergeOptions=function(t){return n(this.prototype.options,t),this},k.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),n="function"===typeof t?t:function(){this[t].apply(this,e)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(n),this};var P={on:function(t,e,n){if("object"===typeof t)for(var i in t)this._on(i,t[i],e);else{t=d(t);for(var r=0,o=t.length;r<o;r++)this._on(t[r],e,n)}return this},off:function(t,e,n){if(arguments.length)if("object"===typeof t)for(var i in t)this._off(i,t[i],e);else{t=d(t);for(var r=1===arguments.length,o=0,s=t.length;o<s;o++)r?this._off(t[o]):this._off(t[o],e,n)}else delete this._events;return this},_on:function(t,e,n,i){if("function"===typeof e){if(!1===this._listens(t,e,n)){n===this&&(n=void 0);var r={fn:e,ctx:n};i&&(r.once=!0),this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(r)}}else console.warn("wrong listener type: "+typeof e)},_off:function(t,e,n){var i,r,o;if(this._events&&(i=this._events[t],i))if(1!==arguments.length)if("function"===typeof e){var s=this._listens(t,e,n);if(!1!==s){var a=i[s];this._firingCount&&(a.fn=l,this._events[t]=i=i.slice()),i.splice(s,1)}}else console.warn("wrong listener type: "+typeof e);else{if(this._firingCount)for(r=0,o=i.length;r<o;r++)i[r].fn=l;delete this._events[t]}},fire:function(t,e,i){if(!this.listens(t,i))return this;var r=n({},e,{type:t,target:this,sourceTarget:e&&e.sourceTarget||this});if(this._events){var o=this._events[t];if(o){this._firingCount=this._firingCount+1||1;for(var s=0,a=o.length;s<a;s++){var c=o[s],l=c.fn;c.once&&this.off(t,l,c.ctx),l.call(c.ctx||this,r)}this._firingCount--}}return i&&this._propagateEvent(r),this},listens:function(t,e,n,i){"string"!==typeof t&&console.warn('"string" type argument expected');var r=e;"function"!==typeof e&&(i=!!e,r=void 0,n=void 0);var o=this._events&&this._events[t];if(o&&o.length&&!1!==this._listens(t,r,n))return!0;if(i)for(var s in this._eventParents)if(this._eventParents[s].listens(t,e,n,i))return!0;return!1},_listens:function(t,e,n){if(!this._events)return!1;var i=this._events[t]||[];if(!e)return!!i.length;n===this&&(n=void 0);for(var r=0,o=i.length;r<o;r++)if(i[r].fn===e&&i[r].ctx===n)return r;return!1},once:function(t,e,n){if("object"===typeof t)for(var i in t)this._on(i,t[i],e,!0);else{t=d(t);for(var r=0,o=t.length;r<o;r++)this._on(t[r],e,n,!0)}return this},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[s(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[s(t)],this},_propagateEvent:function(t){for(var e in this._eventParents)this._eventParents[e].fire(t.type,n({layer:t.target,propagatedFrom:t.target},t),!0)}};P.addEventListener=P.on,P.removeEventListener=P.clearAllEventListeners=P.off,P.addOneTimeEventListener=P.once,P.fireEvent=P.fire,P.hasEventListeners=P.listens;var R=k.extend(P);function O(t,e,n){this.x=n?Math.round(t):t,this.y=n?Math.round(e):e}var N=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};function M(t,e,n){return t instanceof O?t:_(t)?new O(t[0],t[1]):void 0===t||null===t?t:"object"===typeof t&&"x"in t&&"y"in t?new O(t.x,t.y):new O(t,e,n)}function D(t,e){if(t)for(var n=e?[t,e]:t,i=0,r=n.length;i<r;i++)this.extend(n[i])}function U(t,e){return!t||t instanceof D?t:new D(t,e)}function F(t,e){if(t)for(var n=e?[t,e]:t,i=0,r=n.length;i<r;i++)this.extend(n[i])}function B(t,e){return t instanceof F?t:new F(t,e)}function z(t,e,n){if(isNaN(t)||isNaN(e))throw new Error("Invalid LatLng object: ("+t+", "+e+")");this.lat=+t,this.lng=+e,void 0!==n&&(this.alt=+n)}function V(t,e,n){return t instanceof z?t:_(t)&&"object"!==typeof t[0]?3===t.length?new z(t[0],t[1],t[2]):2===t.length?new z(t[0],t[1]):null:void 0===t||null===t?t:"object"===typeof t&&"lat"in t?new z(t.lat,"lng"in t?t.lng:t.lon,t.alt):void 0===e?null:new z(t,e,n)}O.prototype={clone:function(){return new O(this.x,this.y)},add:function(t){return this.clone()._add(M(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(M(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new O(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new O(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=N(this.x),this.y=N(this.y),this},distanceTo:function(t){t=M(t);var e=t.x-this.x,n=t.y-this.y;return Math.sqrt(e*e+n*n)},equals:function(t){return t=M(t),t.x===this.x&&t.y===this.y},contains:function(t){return t=M(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+u(this.x)+", "+u(this.y)+")"}},D.prototype={extend:function(t){var e,n;if(!t)return this;if(t instanceof O||"number"===typeof t[0]||"x"in t)e=n=M(t);else if(t=U(t),e=t.min,n=t.max,!e||!n)return this;return this.min||this.max?(this.min.x=Math.min(e.x,this.min.x),this.max.x=Math.max(n.x,this.max.x),this.min.y=Math.min(e.y,this.min.y),this.max.y=Math.max(n.y,this.max.y)):(this.min=e.clone(),this.max=n.clone()),this},getCenter:function(t){return M((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return M(this.min.x,this.max.y)},getTopRight:function(){return M(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,n;return t="number"===typeof t[0]||t instanceof O?M(t):U(t),t instanceof D?(e=t.min,n=t.max):e=n=t,e.x>=this.min.x&&n.x<=this.max.x&&e.y>=this.min.y&&n.y<=this.max.y},intersects:function(t){t=U(t);var e=this.min,n=this.max,i=t.min,r=t.max,o=r.x>=e.x&&i.x<=n.x,s=r.y>=e.y&&i.y<=n.y;return o&&s},overlaps:function(t){t=U(t);var e=this.min,n=this.max,i=t.min,r=t.max,o=r.x>e.x&&i.x<n.x,s=r.y>e.y&&i.y<n.y;return o&&s},isValid:function(){return!(!this.min||!this.max)},pad:function(t){var e=this.min,n=this.max,i=Math.abs(e.x-n.x)*t,r=Math.abs(e.y-n.y)*t;return U(M(e.x-i,e.y-r),M(n.x+i,n.y+r))},equals:function(t){return!!t&&(t=U(t),this.min.equals(t.getTopLeft())&&this.max.equals(t.getBottomRight()))}},F.prototype={extend:function(t){var e,n,i=this._southWest,r=this._northEast;if(t instanceof z)e=t,n=t;else{if(!(t instanceof F))return t?this.extend(V(t)||B(t)):this;if(e=t._southWest,n=t._northEast,!e||!n)return this}return i||r?(i.lat=Math.min(e.lat,i.lat),i.lng=Math.min(e.lng,i.lng),r.lat=Math.max(n.lat,r.lat),r.lng=Math.max(n.lng,r.lng)):(this._southWest=new z(e.lat,e.lng),this._northEast=new z(n.lat,n.lng)),this},pad:function(t){var e=this._southWest,n=this._northEast,i=Math.abs(e.lat-n.lat)*t,r=Math.abs(e.lng-n.lng)*t;return new F(new z(e.lat-i,e.lng-r),new z(n.lat+i,n.lng+r))},getCenter:function(){return new z((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new z(this.getNorth(),this.getWest())},getSouthEast:function(){return new z(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){t="number"===typeof t[0]||t instanceof z||"lat"in t?V(t):B(t);var e,n,i=this._southWest,r=this._northEast;return t instanceof F?(e=t.getSouthWest(),n=t.getNorthEast()):e=n=t,e.lat>=i.lat&&n.lat<=r.lat&&e.lng>=i.lng&&n.lng<=r.lng},intersects:function(t){t=B(t);var e=this._southWest,n=this._northEast,i=t.getSouthWest(),r=t.getNorthEast(),o=r.lat>=e.lat&&i.lat<=n.lat,s=r.lng>=e.lng&&i.lng<=n.lng;return o&&s},overlaps:function(t){t=B(t);var e=this._southWest,n=this._northEast,i=t.getSouthWest(),r=t.getNorthEast(),o=r.lat>e.lat&&i.lat<n.lat,s=r.lng>e.lng&&i.lng<n.lng;return o&&s},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,e){return!!t&&(t=B(t),this._southWest.equals(t.getSouthWest(),e)&&this._northEast.equals(t.getNorthEast(),e))},isValid:function(){return!(!this._southWest||!this._northEast)}},z.prototype={equals:function(t,e){if(!t)return!1;t=V(t);var n=Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng));return n<=(void 0===e?1e-9:e)},toString:function(t){return"LatLng("+u(this.lat,t)+", "+u(this.lng,t)+")"},distanceTo:function(t){return $.distance(this,V(t))},wrap:function(){return $.wrapLatLng(this)},toBounds:function(t){var e=180*t/40075017,n=e/Math.cos(Math.PI/180*this.lat);return B([this.lat-e,this.lng-n],[this.lat+e,this.lng+n])},clone:function(){return new z(this.lat,this.lng,this.alt)}};var j={latLngToPoint:function(t,e){var n=this.projection.project(t),i=this.scale(e);return this.transformation._transform(n,i)},pointToLatLng:function(t,e){var n=this.scale(e),i=this.transformation.untransform(t,n);return this.projection.unproject(i)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var e=this.projection.bounds,n=this.scale(t),i=this.transformation.transform(e.min,n),r=this.transformation.transform(e.max,n);return new D(i,r)},infinite:!1,wrapLatLng:function(t){var e=this.wrapLng?c(t.lng,this.wrapLng,!0):t.lng,n=this.wrapLat?c(t.lat,this.wrapLat,!0):t.lat,i=t.alt;return new z(n,e,i)},wrapLatLngBounds:function(t){var e=t.getCenter(),n=this.wrapLatLng(e),i=e.lat-n.lat,r=e.lng-n.lng;if(0===i&&0===r)return t;var o=t.getSouthWest(),s=t.getNorthEast(),a=new z(o.lat-i,o.lng-r),c=new z(s.lat-i,s.lng-r);return new F(a,c)}},$=n({},j,{wrapLng:[-180,180],R:6371e3,distance:function(t,e){var n=Math.PI/180,i=t.lat*n,r=e.lat*n,o=Math.sin((e.lat-t.lat)*n/2),s=Math.sin((e.lng-t.lng)*n/2),a=o*o+Math.cos(i)*Math.cos(r)*s*s,c=2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a));return this.R*c}}),H=6378137,q={R:H,MAX_LATITUDE:85.0511287798,project:function(t){var e=Math.PI/180,n=this.MAX_LATITUDE,i=Math.max(Math.min(n,t.lat),-n),r=Math.sin(i*e);return new O(this.R*t.lng*e,this.R*Math.log((1+r)/(1-r))/2)},unproject:function(t){var e=180/Math.PI;return new z((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*e,t.x*e/this.R)},bounds:function(){var t=H*Math.PI;return new D([-t,-t],[t,t])}()};function W(t,e,n,i){if(_(t))return this._a=t[0],this._b=t[1],this._c=t[2],void(this._d=t[3]);this._a=t,this._b=e,this._c=n,this._d=i}function Z(t,e,n,i){return new W(t,e,n,i)}W.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return e=e||1,t.x=e*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return e=e||1,new O((t.x/e-this._b)/this._a,(t.y/e-this._d)/this._c)}};var K=n({},$,{code:"EPSG:3857",projection:q,transformation:function(){var t=.5/(Math.PI*q.R);return Z(t,.5,-t,.5)}()}),G=n({},K,{code:"EPSG:900913"});function J(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function X(t,e){var n,i,r,o,s,a,c="";for(n=0,r=t.length;n<r;n++){for(s=t[n],i=0,o=s.length;i<o;i++)a=s[i],c+=(i?"L":"M")+a.x+" "+a.y;c+=e?Dt.svg?"z":"x":""}return c||"M0 0"}var Q=document.documentElement.style,Y="ActiveXObject"in window,tt=Y&&!document.addEventListener,et="msLaunchUri"in navigator&&!("documentMode"in document),nt=Mt("webkit"),it=Mt("android"),rt=Mt("android 2")||Mt("android 3"),ot=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),st=it&&Mt("Google")&&ot<537&&!("AudioNode"in window),at=!!window.opera,ct=!et&&Mt("chrome"),lt=Mt("gecko")&&!nt&&!at&&!Y,ut=!ct&&Mt("safari"),ht=Mt("phantom"),dt="OTransition"in Q,ft=0===navigator.platform.indexOf("Win"),pt=Y&&"transition"in Q,mt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!rt,gt="MozPerspective"in Q,_t=!window.L_DISABLE_3D&&(pt||mt||gt)&&!dt&&!ht,vt="undefined"!==typeof orientation||Mt("mobile"),yt=vt&&nt,wt=vt&&mt,bt=!window.PointerEvent&&window.MSPointerEvent,Tt=!(!window.PointerEvent&&!bt),Et="ontouchstart"in window||!!window.TouchEvent,St=!window.L_NO_TOUCH&&(Et||Tt),xt=vt&&at,It=vt&&lt,Ct=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,kt=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",l,e),window.removeEventListener("testPassiveEventSupport",l,e)}catch(n){}return t}(),At=function(){return!!document.createElement("canvas").getContext}(),Lt=!(!document.createElementNS||!J("svg").createSVGRect),Pt=!!Lt&&function(){var t=document.createElement("div");return t.innerHTML="<svg/>","http://www.w3.org/2000/svg"===(t.firstChild&&t.firstChild.namespaceURI)}(),Rt=!Lt&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var e=t.firstChild;return e.style.behavior="url(#default#VML)",e&&"object"===typeof e.adj}catch(n){return!1}}(),Ot=0===navigator.platform.indexOf("Mac"),Nt=0===navigator.platform.indexOf("Linux");function Mt(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var Dt={ie:Y,ielt9:tt,edge:et,webkit:nt,android:it,android23:rt,androidStock:st,opera:at,chrome:ct,gecko:lt,safari:ut,phantom:ht,opera12:dt,win:ft,ie3d:pt,webkit3d:mt,gecko3d:gt,any3d:_t,mobile:vt,mobileWebkit:yt,mobileWebkit3d:wt,msPointer:bt,pointer:Tt,touch:St,touchNative:Et,mobileOpera:xt,mobileGecko:It,retina:Ct,passiveEvents:kt,canvas:At,svg:Lt,vml:Rt,inlineSvg:Pt,mac:Ot,linux:Nt},Ut=Dt.msPointer?"MSPointerDown":"pointerdown",Ft=Dt.msPointer?"MSPointerMove":"pointermove",Bt=Dt.msPointer?"MSPointerUp":"pointerup",zt=Dt.msPointer?"MSPointerCancel":"pointercancel",Vt={touchstart:Ut,touchmove:Ft,touchend:Bt,touchcancel:zt},jt={touchstart:Qt,touchmove:Xt,touchend:Xt,touchcancel:Xt},$t={},Ht=!1;function qt(t,e,n){return"touchstart"===e&&Jt(),jt[e]?(n=jt[e].bind(this,n),t.addEventListener(Vt[e],n,!1),n):(console.warn("wrong event specified:",e),l)}function Wt(t,e,n){Vt[e]?t.removeEventListener(Vt[e],n,!1):console.warn("wrong event specified:",e)}function Zt(t){$t[t.pointerId]=t}function Kt(t){$t[t.pointerId]&&($t[t.pointerId]=t)}function Gt(t){delete $t[t.pointerId]}function Jt(){Ht||(document.addEventListener(Ut,Zt,!0),document.addEventListener(Ft,Kt,!0),document.addEventListener(Bt,Gt,!0),document.addEventListener(zt,Gt,!0),Ht=!0)}function Xt(t,e){if(e.pointerType!==(e.MSPOINTER_TYPE_MOUSE||"mouse")){for(var n in e.touches=[],$t)e.touches.push($t[n]);e.changedTouches=[e],t(e)}}function Qt(t,e){e.MSPOINTER_TYPE_TOUCH&&e.pointerType===e.MSPOINTER_TYPE_TOUCH&&Ze(e),Xt(t,e)}function Yt(t){var e,n,i={};for(n in t)e=t[n],i[n]=e&&e.bind?e.bind(t):e;return t=i,i.type="dblclick",i.detail=2,i.isTrusted=!1,i._simulated=!0,i}var te=200;function ee(t,e){t.addEventListener("dblclick",e);var n,i=0;function r(t){if(1===t.detail){if("mouse"!==t.pointerType&&(!t.sourceCapabilities||t.sourceCapabilities.firesTouchEvents)){var r=Ge(t);if(!r.some((function(t){return t instanceof HTMLLabelElement&&t.attributes.for}))||r.some((function(t){return t instanceof HTMLInputElement||t instanceof HTMLSelectElement}))){var o=Date.now();o-i<=te?(n++,2===n&&e(Yt(t))):n=1,i=o}}}else n=t.detail}return t.addEventListener("click",r),{dblclick:e,simDblclick:r}}function ne(t,e){t.removeEventListener("dblclick",e.dblclick),t.removeEventListener("click",e.simDblclick)}var ie,re,oe,se,ae,ce=xe(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),le=xe(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ue="webkitTransition"===le||"OTransition"===le?le+"End":"transitionend";function he(t){return"string"===typeof t?document.getElementById(t):t}function de(t,e){var n=t.style[e]||t.currentStyle&&t.currentStyle[e];if((!n||"auto"===n)&&document.defaultView){var i=document.defaultView.getComputedStyle(t,null);n=i?i[e]:null}return"auto"===n?null:n}function fe(t,e,n){var i=document.createElement(t);return i.className=e||"",n&&n.appendChild(i),i}function pe(t){var e=t.parentNode;e&&e.removeChild(t)}function me(t){while(t.firstChild)t.removeChild(t.firstChild)}function ge(t){var e=t.parentNode;e&&e.lastChild!==t&&e.appendChild(t)}function _e(t){var e=t.parentNode;e&&e.firstChild!==t&&e.insertBefore(t,e.firstChild)}function ve(t,e){if(void 0!==t.classList)return t.classList.contains(e);var n=Te(t);return n.length>0&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(n)}function ye(t,e){if(void 0!==t.classList)for(var n=d(e),i=0,r=n.length;i<r;i++)t.classList.add(n[i]);else if(!ve(t,e)){var o=Te(t);be(t,(o?o+" ":"")+e)}}function we(t,e){void 0!==t.classList?t.classList.remove(e):be(t,h((" "+Te(t)+" ").replace(" "+e+" "," ")))}function be(t,e){void 0===t.className.baseVal?t.className=e:t.className.baseVal=e}function Te(t){return t.correspondingElement&&(t=t.correspondingElement),void 0===t.className.baseVal?t.className:t.className.baseVal}function Ee(t,e){"opacity"in t.style?t.style.opacity=e:"filter"in t.style&&Se(t,e)}function Se(t,e){var n=!1,i="DXImageTransform.Microsoft.Alpha";try{n=t.filters.item(i)}catch(r){if(1===e)return}e=Math.round(100*e),n?(n.Enabled=100!==e,n.Opacity=e):t.style.filter+=" progid:"+i+"(opacity="+e+")"}function xe(t){for(var e=document.documentElement.style,n=0;n<t.length;n++)if(t[n]in e)return t[n];return!1}function Ie(t,e,n){var i=e||new O(0,0);t.style[ce]=(Dt.ie3d?"translate("+i.x+"px,"+i.y+"px)":"translate3d("+i.x+"px,"+i.y+"px,0)")+(n?" scale("+n+")":"")}function Ce(t,e){t._leaflet_pos=e,Dt.any3d?Ie(t,e):(t.style.left=e.x+"px",t.style.top=e.y+"px")}function ke(t){return t._leaflet_pos||new O(0,0)}if("onselectstart"in document)ie=function(){Ue(window,"selectstart",Ze)},re=function(){Be(window,"selectstart",Ze)};else{var Ae=xe(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);ie=function(){if(Ae){var t=document.documentElement.style;oe=t[Ae],t[Ae]="none"}},re=function(){Ae&&(document.documentElement.style[Ae]=oe,oe=void 0)}}function Le(){Ue(window,"dragstart",Ze)}function Pe(){Be(window,"dragstart",Ze)}function Re(t){while(-1===t.tabIndex)t=t.parentNode;t.style&&(Oe(),se=t,ae=t.style.outline,t.style.outline="none",Ue(window,"keydown",Oe))}function Oe(){se&&(se.style.outline=ae,se=void 0,ae=void 0,Be(window,"keydown",Oe))}function Ne(t){do{t=t.parentNode}while((!t.offsetWidth||!t.offsetHeight)&&t!==document.body);return t}function Me(t){var e=t.getBoundingClientRect();return{x:e.width/t.offsetWidth||1,y:e.height/t.offsetHeight||1,boundingClientRect:e}}var De={__proto__:null,TRANSFORM:ce,TRANSITION:le,TRANSITION_END:ue,get:he,getStyle:de,create:fe,remove:pe,empty:me,toFront:ge,toBack:_e,hasClass:ve,addClass:ye,removeClass:we,setClass:be,getClass:Te,setOpacity:Ee,testProp:xe,setTransform:Ie,setPosition:Ce,getPosition:ke,get disableTextSelection(){return ie},get enableTextSelection(){return re},disableImageDrag:Le,enableImageDrag:Pe,preventOutline:Re,restoreOutline:Oe,getSizedParentNode:Ne,getScale:Me};function Ue(t,e,n,i){if(e&&"object"===typeof e)for(var r in e)je(t,r,e[r],n);else{e=d(e);for(var o=0,s=e.length;o<s;o++)je(t,e[o],n,i)}return this}var Fe="_leaflet_events";function Be(t,e,n,i){if(1===arguments.length)ze(t),delete t[Fe];else if(e&&"object"===typeof e)for(var r in e)$e(t,r,e[r],n);else if(e=d(e),2===arguments.length)ze(t,(function(t){return-1!==v(e,t)}));else for(var o=0,s=e.length;o<s;o++)$e(t,e[o],n,i);return this}function ze(t,e){for(var n in t[Fe]){var i=n.split(/\d/)[0];e&&!e(i)||$e(t,i,null,null,n)}}var Ve={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function je(t,e,n,i){var r=e+s(n)+(i?"_"+s(i):"");if(t[Fe]&&t[Fe][r])return this;var o=function(e){return n.call(i||t,e||window.event)},a=o;!Dt.touchNative&&Dt.pointer&&0===e.indexOf("touch")?o=qt(t,e,o):Dt.touch&&"dblclick"===e?o=ee(t,o):"addEventListener"in t?"touchstart"===e||"touchmove"===e||"wheel"===e||"mousewheel"===e?t.addEventListener(Ve[e]||e,o,!!Dt.passiveEvents&&{passive:!1}):"mouseenter"===e||"mouseleave"===e?(o=function(e){e=e||window.event,Ye(t,e)&&a(e)},t.addEventListener(Ve[e],o,!1)):t.addEventListener(e,a,!1):t.attachEvent("on"+e,o),t[Fe]=t[Fe]||{},t[Fe][r]=o}function $e(t,e,n,i,r){r=r||e+s(n)+(i?"_"+s(i):"");var o=t[Fe]&&t[Fe][r];if(!o)return this;!Dt.touchNative&&Dt.pointer&&0===e.indexOf("touch")?Wt(t,e,o):Dt.touch&&"dblclick"===e?ne(t,o):"removeEventListener"in t?t.removeEventListener(Ve[e]||e,o,!1):t.detachEvent("on"+e,o),t[Fe][r]=null}function He(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,this}function qe(t){return je(t,"wheel",He),this}function We(t){return Ue(t,"mousedown touchstart dblclick contextmenu",He),t["_leaflet_disable_click"]=!0,this}function Ze(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function Ke(t){return Ze(t),He(t),this}function Ge(t){if(t.composedPath)return t.composedPath();var e=[],n=t.target;while(n)e.push(n),n=n.parentNode;return e}function Je(t,e){if(!e)return new O(t.clientX,t.clientY);var n=Me(e),i=n.boundingClientRect;return new O((t.clientX-i.left)/n.x-e.clientLeft,(t.clientY-i.top)/n.y-e.clientTop)}var Xe=Dt.linux&&Dt.chrome?window.devicePixelRatio:Dt.mac?3*window.devicePixelRatio:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Qe(t){return Dt.edge?t.wheelDeltaY/2:t.deltaY&&0===t.deltaMode?-t.deltaY/Xe:t.deltaY&&1===t.deltaMode?20*-t.deltaY:t.deltaY&&2===t.deltaMode?60*-t.deltaY:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?20*-t.detail:t.detail?t.detail/-32765*60:0}function Ye(t,e){var n=e.relatedTarget;if(!n)return!0;try{while(n&&n!==t)n=n.parentNode}catch(i){return!1}return n!==t}var tn={__proto__:null,on:Ue,off:Be,stopPropagation:He,disableScrollPropagation:qe,disableClickPropagation:We,preventDefault:Ze,stop:Ke,getPropagationPath:Ge,getMousePosition:Je,getWheelDelta:Qe,isExternalTarget:Ye,addListener:Ue,removeListener:Be},en=R.extend({run:function(t,e,n,i){this.stop(),this._el=t,this._inProgress=!0,this._duration=n||.25,this._easeOutPower=1/Math.max(i||.5,.2),this._startPos=ke(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=x(this._animate,this),this._step()},_step:function(t){var e=+new Date-this._startTime,n=1e3*this._duration;e<n?this._runFrame(this._easeOut(e/n),t):(this._runFrame(1),this._complete())},_runFrame:function(t,e){var n=this._startPos.add(this._offset.multiplyBy(t));e&&n._round(),Ce(this._el,n),this.fire("step")},_complete:function(){I(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),nn=R.extend({options:{crs:K,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,e){e=f(this,e),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=r(this._onResize,this),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),void 0!==e.zoom&&(this._zoom=this._limitZoom(e.zoom)),e.center&&void 0!==e.zoom&&this.setView(V(e.center),e.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=le&&Dt.any3d&&!Dt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Ue(this._proxy,ue,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,e,i){if(e=void 0===e?this._zoom:this._limitZoom(e),t=this._limitCenter(V(t),e,this.options.maxBounds),i=i||{},this._stop(),this._loaded&&!i.reset&&!0!==i){void 0!==i.animate&&(i.zoom=n({animate:i.animate},i.zoom),i.pan=n({animate:i.animate,duration:i.duration},i.pan));var r=this._zoom!==e?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,e,i.zoom):this._tryAnimatedPan(t,i.pan);if(r)return clearTimeout(this._sizeTimer),this}return this._resetView(t,e,i.pan&&i.pan.noMoveStart),this},setZoom:function(t,e){return this._loaded?this.setView(this.getCenter(),t,{zoom:e}):(this._zoom=t,this)},zoomIn:function(t,e){return t=t||(Dt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+t,e)},zoomOut:function(t,e){return t=t||(Dt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-t,e)},setZoomAround:function(t,e,n){var i=this.getZoomScale(e),r=this.getSize().divideBy(2),o=t instanceof O?t:this.latLngToContainerPoint(t),s=o.subtract(r).multiplyBy(1-1/i),a=this.containerPointToLatLng(r.add(s));return this.setView(a,e,{zoom:n})},_getBoundsCenterZoom:function(t,e){e=e||{},t=t.getBounds?t.getBounds():B(t);var n=M(e.paddingTopLeft||e.padding||[0,0]),i=M(e.paddingBottomRight||e.padding||[0,0]),r=this.getBoundsZoom(t,!1,n.add(i));if(r="number"===typeof e.maxZoom?Math.min(e.maxZoom,r):r,r===1/0)return{center:t.getCenter(),zoom:r};var o=i.subtract(n).divideBy(2),s=this.project(t.getSouthWest(),r),a=this.project(t.getNorthEast(),r),c=this.unproject(s.add(a).divideBy(2).add(o),r);return{center:c,zoom:r}},fitBounds:function(t,e){if(t=B(t),!t.isValid())throw new Error("Bounds are not valid.");var n=this._getBoundsCenterZoom(t,e);return this.setView(n.center,n.zoom,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t,e){if(t=M(t).round(),e=e||{},!t.x&&!t.y)return this.fire("moveend");if(!0!==e.animate&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new en,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),e.noMoveStart||this.fire("movestart"),!1!==e.animate){ye(this._mapPane,"leaflet-pan-anim");var n=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,n,e.duration||.25,e.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,e,n){if(n=n||{},!1===n.animate||!Dt.any3d)return this.setView(t,e,n);this._stop();var i=this.project(this.getCenter()),r=this.project(t),o=this.getSize(),s=this._zoom;t=V(t),e=void 0===e?s:e;var a=Math.max(o.x,o.y),c=a*this.getZoomScale(s,e),l=r.distanceTo(i)||1,u=1.42,h=u*u;function d(t){var e=t?-1:1,n=t?c:a,i=c*c-a*a+e*h*h*l*l,r=2*n*h*l,o=i/r,s=Math.sqrt(o*o+1)-o,u=s<1e-9?-18:Math.log(s);return u}function f(t){return(Math.exp(t)-Math.exp(-t))/2}function p(t){return(Math.exp(t)+Math.exp(-t))/2}function m(t){return f(t)/p(t)}var g=d(0);function _(t){return a*(p(g)/p(g+u*t))}function v(t){return a*(p(g)*m(g+u*t)-f(g))/h}function y(t){return 1-Math.pow(1-t,1.5)}var w=Date.now(),b=(d(1)-g)/u,T=n.duration?1e3*n.duration:1e3*b*.8;function E(){var n=(Date.now()-w)/T,o=y(n)*b;n<=1?(this._flyToFrame=x(E,this),this._move(this.unproject(i.add(r.subtract(i).multiplyBy(v(o)/l)),s),this.getScaleZoom(a/_(o),s),{flyTo:!0})):this._move(t,e)._moveEnd(!0)}return this._moveStart(!0,n.noMoveStart),E.call(this),this},flyToBounds:function(t,e){var n=this._getBoundsCenterZoom(t,e);return this.flyTo(n.center,n.zoom,e)},setMaxBounds:function(t){return t=B(t),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),t.isValid()?(this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(t){var e=this.options.minZoom;return this.options.minZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var e=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,e){this._enforcingBounds=!0;var n=this.getCenter(),i=this._limitCenter(n,this._zoom,B(t));return n.equals(i)||this.panTo(i,e),this._enforcingBounds=!1,this},panInside:function(t,e){e=e||{};var n=M(e.paddingTopLeft||e.padding||[0,0]),i=M(e.paddingBottomRight||e.padding||[0,0]),r=this.project(this.getCenter()),o=this.project(t),s=this.getPixelBounds(),a=U([s.min.add(n),s.max.subtract(i)]),c=a.getSize();if(!a.contains(o)){this._enforcingBounds=!0;var l=o.subtract(a.getCenter()),u=a.extend(o).getSize().subtract(c);r.x+=l.x<0?-u.x:u.x,r.y+=l.y<0?-u.y:u.y,this.panTo(this.unproject(r),e),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=n({animate:!1,pan:!0},!0===t?{animate:!0}:t);var e=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var i=this.getSize(),o=e.divideBy(2).round(),s=i.divideBy(2).round(),a=o.subtract(s);return a.x||a.y?(t.animate&&t.pan?this.panBy(a):(t.pan&&this._rawPanBy(a),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(r(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:e,newSize:i})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=n({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var e=r(this._handleGeolocationResponse,this),i=r(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(e,i,t):navigator.geolocation.getCurrentPosition(e,i,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){if(this._container._leaflet_id){var e=t.code,n=t.message||(1===e?"permission denied":2===e?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:e,message:"Geolocation error: "+n+"."})}},_handleGeolocationResponse:function(t){if(this._container._leaflet_id){var e=t.coords.latitude,n=t.coords.longitude,i=new z(e,n),r=i.toBounds(2*t.coords.accuracy),o=this._locateOptions;if(o.setView){var s=this.getBoundsZoom(r);this.setView(i,o.maxZoom?Math.min(s,o.maxZoom):s)}var a={latlng:i,bounds:r,timestamp:t.timestamp};for(var c in t.coords)"number"===typeof t.coords[c]&&(a[c]=t.coords[c]);this.fire("locationfound",a)}},addHandler:function(t,e){if(!e)return this;var n=this[t]=new e(this);return this._handlers.push(n),this.options[t]&&n.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(e){this._container._leaflet_id=void 0,this._containerId=void 0}var t;for(t in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),pe(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(I(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[t].remove();for(t in this._panes)pe(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,e){var n="leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),i=fe("div",n,e||this._mapPane);return t&&(this._panes[t]=i),i},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds(),e=this.unproject(t.getBottomLeft()),n=this.unproject(t.getTopRight());return new F(e,n)},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,e,n){t=B(t),n=M(n||[0,0]);var i=this.getZoom()||0,r=this.getMinZoom(),o=this.getMaxZoom(),s=t.getNorthWest(),a=t.getSouthEast(),c=this.getSize().subtract(n),l=U(this.project(a,i),this.project(s,i)).getSize(),u=Dt.any3d?this.options.zoomSnap:1,h=c.x/l.x,d=c.y/l.y,f=e?Math.max(h,d):Math.min(h,d);return i=this.getScaleZoom(f,i),u&&(i=Math.round(i/(u/100))*(u/100),i=e?Math.ceil(i/u)*u:Math.floor(i/u)*u),Math.max(r,Math.min(o,i))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new O(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,e){var n=this._getTopLeftPoint(t,e);return new D(n,n.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(void 0===t?this.getZoom():t)},getPane:function(t){return"string"===typeof t?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,e){var n=this.options.crs;return e=void 0===e?this._zoom:e,n.scale(t)/n.scale(e)},getScaleZoom:function(t,e){var n=this.options.crs;e=void 0===e?this._zoom:e;var i=n.zoom(t*n.scale(e));return isNaN(i)?1/0:i},project:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.latLngToPoint(V(t),e)},unproject:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.pointToLatLng(M(t),e)},layerPointToLatLng:function(t){var e=M(t).add(this.getPixelOrigin());return this.unproject(e)},latLngToLayerPoint:function(t){var e=this.project(V(t))._round();return e._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(V(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(B(t))},distance:function(t,e){return this.options.crs.distance(V(t),V(e))},containerPointToLayerPoint:function(t){return M(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return M(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint(M(t));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(V(t)))},mouseEventToContainerPoint:function(t){return Je(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var e=this._container=he(t);if(!e)throw new Error("Map container not found.");if(e._leaflet_id)throw new Error("Map container is already initialized.");Ue(e,"scroll",this._onScroll,this),this._containerId=s(e)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&Dt.any3d,ye(t,"leaflet-container"+(Dt.touch?" leaflet-touch":"")+(Dt.retina?" leaflet-retina":"")+(Dt.ielt9?" leaflet-oldie":"")+(Dt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var e=de(t,"position");"absolute"!==e&&"relative"!==e&&"fixed"!==e&&"sticky"!==e&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ce(this._mapPane,new O(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(ye(t.markerPane,"leaflet-zoom-hide"),ye(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,e,n){Ce(this._mapPane,new O(0,0));var i=!this._loaded;this._loaded=!0,e=this._limitZoom(e),this.fire("viewprereset");var r=this._zoom!==e;this._moveStart(r,n)._move(t,e)._moveEnd(r),this.fire("viewreset"),i&&this.fire("load")},_moveStart:function(t,e){return t&&this.fire("zoomstart"),e||this.fire("movestart"),this},_move:function(t,e,n,i){void 0===e&&(e=this._zoom);var r=this._zoom!==e;return this._zoom=e,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),i?n&&n.pinch&&this.fire("zoom",n):((r||n&&n.pinch)&&this.fire("zoom",n),this.fire("move",n)),this},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return I(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){Ce(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[s(this._container)]=this;var e=t?Be:Ue;e(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&e(window,"resize",this._onResize,this),Dt.any3d&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){I(this._resizeRequest),this._resizeRequest=x((function(){this.invalidateSize({debounceMoveend:!0})}),this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,e){var n,i=[],r="mouseout"===e||"mouseover"===e,o=t.target||t.srcElement,a=!1;while(o){if(n=this._targets[s(o)],n&&("click"===e||"preclick"===e)&&this._draggableMoved(n)){a=!0;break}if(n&&n.listens(e,!0)){if(r&&!Ye(o,t))break;if(i.push(n),r)break}if(o===this._container)break;o=o.parentNode}return i.length||a||r||!this.listens(e,!0)||(i=[this]),i},_isClickDisabled:function(t){while(t&&t!==this._container){if(t["_leaflet_disable_click"])return!0;t=t.parentNode}},_handleDOMEvent:function(t){var e=t.target||t.srcElement;if(!(!this._loaded||e["_leaflet_disable_events"]||"click"===t.type&&this._isClickDisabled(e))){var n=t.type;"mousedown"===n&&Re(e),this._fireDOMEvent(t,n)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,e,i){if("click"===t.type){var r=n({},t);r.type="preclick",this._fireDOMEvent(r,r.type,i)}var o=this._findEventTargets(t,e);if(i){for(var s=[],a=0;a<i.length;a++)i[a].listens(e,!0)&&s.push(i[a]);o=s.concat(o)}if(o.length){"contextmenu"===e&&Ze(t);var c=o[0],l={originalEvent:t};if("keypress"!==t.type&&"keydown"!==t.type&&"keyup"!==t.type){var u=c.getLatLng&&(!c._radius||c._radius<=10);l.containerPoint=u?this.latLngToContainerPoint(c.getLatLng()):this.mouseEventToContainerPoint(t),l.layerPoint=this.containerPointToLayerPoint(l.containerPoint),l.latlng=u?c.getLatLng():this.layerPointToLatLng(l.layerPoint)}for(a=0;a<o.length;a++)if(o[a].fire(e,l,!0),l.originalEvent._stopped||!1===o[a].options.bubblingMouseEvents&&-1!==v(this._mouseEvents,e))return}},_draggableMoved:function(t){return t=t.dragging&&t.dragging.enabled()?t:this,t.dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,e=this._handlers.length;t<e;t++)this._handlers[t].disable()},whenReady:function(t,e){return this._loaded?t.call(e||this,{target:this}):this.on("load",t,e),this},_getMapPanePos:function(){return ke(this._mapPane)||new O(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,e){var n=t&&void 0!==e?this._getNewPixelOrigin(t,e):this.getPixelOrigin();return n.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,e){var n=this.getSize()._divideBy(2);return this.project(t,e)._subtract(n)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,e,n){var i=this._getNewPixelOrigin(n,e);return this.project(t,e)._subtract(i)},_latLngBoundsToNewLayerBounds:function(t,e,n){var i=this._getNewPixelOrigin(n,e);return U([this.project(t.getSouthWest(),e)._subtract(i),this.project(t.getNorthWest(),e)._subtract(i),this.project(t.getSouthEast(),e)._subtract(i),this.project(t.getNorthEast(),e)._subtract(i)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,e,n){if(!n)return t;var i=this.project(t,e),r=this.getSize().divideBy(2),o=new D(i.subtract(r),i.add(r)),s=this._getBoundsOffset(o,n,e);return Math.abs(s.x)<=1&&Math.abs(s.y)<=1?t:this.unproject(i.add(s),e)},_limitOffset:function(t,e){if(!e)return t;var n=this.getPixelBounds(),i=new D(n.min.add(t),n.max.add(t));return t.add(this._getBoundsOffset(i,e))},_getBoundsOffset:function(t,e,n){var i=U(this.project(e.getNorthEast(),n),this.project(e.getSouthWest(),n)),r=i.min.subtract(t.min),o=i.max.subtract(t.max),s=this._rebound(r.x,-o.x),a=this._rebound(r.y,-o.y);return new O(s,a)},_rebound:function(t,e){return t+e>0?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_limitZoom:function(t){var e=this.getMinZoom(),n=this.getMaxZoom(),i=Dt.any3d?this.options.zoomSnap:1;return i&&(t=Math.round(t/i)*i),Math.max(e,Math.min(n,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){we(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,e){var n=this._getCenterOffset(t)._trunc();return!(!0!==(e&&e.animate)&&!this.getSize().contains(n))&&(this.panBy(n,e),!0)},_createAnimProxy:function(){var t=this._proxy=fe("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",(function(t){var e=ce,n=this._proxy.style[e];Ie(this._proxy,this.project(t.center,t.zoom),this.getZoomScale(t.zoom,1)),n===this._proxy.style[e]&&this._animatingZoom&&this._onZoomTransitionEnd()}),this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){pe(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),e=this.getZoom();Ie(this._proxy,this.project(t,e),this.getZoomScale(e,1))},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,n){if(this._animatingZoom)return!0;if(n=n||{},!this._zoomAnimated||!1===n.animate||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold)return!1;var i=this.getZoomScale(e),r=this._getCenterOffset(t)._divideBy(1-1/i);return!(!0!==n.animate&&!this.getSize().contains(r))&&(x((function(){this._moveStart(!0,!1)._animateZoom(t,e,!0)}),this),!0)},_animateZoom:function(t,e,n,i){this._mapPane&&(n&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=e,ye(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:e,noUpdate:i}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(r(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&we(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function rn(t,e){return new nn(t,e)}var on=k.extend({options:{position:"topright"},initialize:function(t){f(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var e=this._container=this.onAdd(t),n=this.getPosition(),i=t._controlCorners[n];return ye(e,"leaflet-control"),-1!==n.indexOf("bottom")?i.insertBefore(e,i.firstChild):i.appendChild(e),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(pe(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),sn=function(t){return new on(t)};nn.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},e="leaflet-",n=this._controlContainer=fe("div",e+"control-container",this._container);function i(i,r){var o=e+i+" "+e+r;t[i+r]=fe("div",o,n)}i("top","left"),i("top","right"),i("bottom","left"),i("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)pe(this._controlCorners[t]);pe(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var an=on.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,e,n,i){return n<i?-1:i<n?1:0}},initialize:function(t,e,n){for(var i in f(this,n),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,t)this._addLayer(t[i],i);for(i in e)this._addLayer(e[i],i,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return on.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._map?this._update():this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var e=this._getLayer(s(t));return e&&this._layers.splice(this._layers.indexOf(e),1),this._map?this._update():this},expand:function(){ye(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(ye(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):we(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return we(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=fe("div",t),n=this.options.collapsed;e.setAttribute("aria-haspopup",!0),We(e),qe(e);var i=this._section=fe("section",t+"-list");n&&(this._map.on("click",this.collapse,this),Ue(e,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var r=this._layersLink=fe("a",t+"-toggle",e);r.href="#",r.title="Layers",r.setAttribute("role","button"),Ue(r,{keydown:function(t){13===t.keyCode&&this._expandSafely()},click:function(t){Ze(t),this._expandSafely()}},this),n||this.expand(),this._baseLayersList=fe("div",t+"-base",i),this._separator=fe("div",t+"-separator",i),this._overlaysList=fe("div",t+"-overlays",i),e.appendChild(i)},_getLayer:function(t){for(var e=0;e<this._layers.length;e++)if(this._layers[e]&&s(this._layers[e].layer)===t)return this._layers[e]},_addLayer:function(t,e,n){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:e,overlay:n}),this.options.sortLayers&&this._layers.sort(r((function(t,e){return this.options.sortFunction(t.layer,e.layer,t.name,e.name)}),this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;me(this._baseLayersList),me(this._overlaysList),this._layerControlInputs=[];var t,e,n,i,r=0;for(n=0;n<this._layers.length;n++)i=this._layers[n],this._addItem(i),e=e||i.overlay,t=t||!i.overlay,r+=i.overlay?0:1;return this.options.hideSingleBase&&(t=t&&r>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=e&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var e=this._getLayer(s(t.target)),n=e.overlay?"add"===t.type?"overlayadd":"overlayremove":"add"===t.type?"baselayerchange":null;n&&this._map.fire(n,e)},_createRadioElement:function(t,e){var n='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(e?' checked="checked"':"")+"/>",i=document.createElement("div");return i.innerHTML=n,i.firstChild},_addItem:function(t){var e,n=document.createElement("label"),i=this._map.hasLayer(t.layer);t.overlay?(e=document.createElement("input"),e.type="checkbox",e.className="leaflet-control-layers-selector",e.defaultChecked=i):e=this._createRadioElement("leaflet-base-layers_"+s(this),i),this._layerControlInputs.push(e),e.layerId=s(t.layer),Ue(e,"click",this._onInputClick,this);var r=document.createElement("span");r.innerHTML=" "+t.name;var o=document.createElement("span");n.appendChild(o),o.appendChild(e),o.appendChild(r);var a=t.overlay?this._overlaysList:this._baseLayersList;return a.appendChild(n),this._checkDisabledLayers(),n},_onInputClick:function(){var t,e,n=this._layerControlInputs,i=[],r=[];this._handlingClick=!0;for(var o=n.length-1;o>=0;o--)t=n[o],e=this._getLayer(t.layerId).layer,t.checked?i.push(e):t.checked||r.push(e);for(o=0;o<r.length;o++)this._map.hasLayer(r[o])&&this._map.removeLayer(r[o]);for(o=0;o<i.length;o++)this._map.hasLayer(i[o])||this._map.addLayer(i[o]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var t,e,n=this._layerControlInputs,i=this._map.getZoom(),r=n.length-1;r>=0;r--)t=n[r],e=this._getLayer(t.layerId).layer,t.disabled=void 0!==e.options.minZoom&&i<e.options.minZoom||void 0!==e.options.maxZoom&&i>e.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var t=this._section;Ue(t,"click",Ze),this.expand(),setTimeout((function(){Be(t,"click",Ze)}))}}),cn=function(t,e,n){return new an(t,e,n)},ln=on.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(t){var e="leaflet-control-zoom",n=fe("div",e+" leaflet-bar"),i=this.options;return this._zoomInButton=this._createButton(i.zoomInText,i.zoomInTitle,e+"-in",n,this._zoomIn),this._zoomOutButton=this._createButton(i.zoomOutText,i.zoomOutTitle,e+"-out",n,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),n},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,e,n,i,r){var o=fe("a",n,i);return o.innerHTML=t,o.href="#",o.title=e,o.setAttribute("role","button"),o.setAttribute("aria-label",e),We(o),Ue(o,"click",Ke),Ue(o,"click",r,this),Ue(o,"click",this._refocusOnMap,this),o},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";we(this._zoomInButton,e),we(this._zoomOutButton,e),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||t._zoom===t.getMinZoom())&&(ye(this._zoomOutButton,e),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||t._zoom===t.getMaxZoom())&&(ye(this._zoomInButton,e),this._zoomInButton.setAttribute("aria-disabled","true"))}});nn.mergeOptions({zoomControl:!0}),nn.addInitHook((function(){this.options.zoomControl&&(this.zoomControl=new ln,this.addControl(this.zoomControl))}));var un=function(t){return new ln(t)},hn=on.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var e="leaflet-control-scale",n=fe("div",e),i=this.options;return this._addScales(i,e+"-line",n),t.on(i.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),n},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,n){t.metric&&(this._mScale=fe("div",e,n)),t.imperial&&(this._iScale=fe("div",e,n))},_update:function(){var t=this._map,e=t.getSize().y/2,n=t.distance(t.containerPointToLatLng([0,e]),t.containerPointToLatLng([this.options.maxWidth,e]));this._updateScales(n)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var e=this._getRoundNum(t),n=e<1e3?e+" m":e/1e3+" km";this._updateScale(this._mScale,n,e/t)},_updateImperial:function(t){var e,n,i,r=3.2808399*t;r>5280?(e=r/5280,n=this._getRoundNum(e),this._updateScale(this._iScale,n+" mi",n/e)):(i=this._getRoundNum(r),this._updateScale(this._iScale,i+" ft",i/r))},_updateScale:function(t,e,n){t.style.width=Math.round(this.options.maxWidth*n)+"px",t.innerHTML=e},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),n=t/e;return n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:1,e*n}}),dn=function(t){return new hn(t)},fn='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',pn=on.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Dt.inlineSvg?fn+" ":"")+"Leaflet</a>"},initialize:function(t){f(this,t),this._attributions={}},onAdd:function(t){for(var e in t.attributionControl=this,this._container=fe("div","leaflet-control-attribution"),We(this._container),t._layers)t._layers[e].getAttribution&&this.addAttribution(t._layers[e].getAttribution());return this._update(),t.on("layeradd",this._addAttribution,this),this._container},onRemove:function(t){t.off("layeradd",this._addAttribution,this)},_addAttribution:function(t){t.layer.getAttribution&&(this.addAttribution(t.layer.getAttribution()),t.layer.once("remove",(function(){this.removeAttribution(t.layer.getAttribution())}),this))},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var e in this._attributions)this._attributions[e]&&t.push(e);var n=[];this.options.prefix&&n.push(this.options.prefix),t.length&&n.push(t.join(", ")),this._container.innerHTML=n.join(' <span aria-hidden="true">|</span> ')}}});nn.mergeOptions({attributionControl:!0}),nn.addInitHook((function(){this.options.attributionControl&&(new pn).addTo(this)}));var mn=function(t){return new pn(t)};on.Layers=an,on.Zoom=ln,on.Scale=hn,on.Attribution=pn,sn.layers=cn,sn.zoom=un,sn.scale=dn,sn.attribution=mn;var gn=k.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});gn.addTo=function(t,e){return t.addHandler(e,this),this};var _n,vn={Events:P},yn=Dt.touch?"touchstart mousedown":"mousedown",wn=R.extend({options:{clickTolerance:3},initialize:function(t,e,n,i){f(this,i),this._element=t,this._dragStartTarget=e||t,this._preventOutline=n},enable:function(){this._enabled||(Ue(this._dragStartTarget,yn,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(wn._dragging===this&&this.finishDrag(!0),Be(this._dragStartTarget,yn,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(this._enabled&&(this._moved=!1,!ve(this._element,"leaflet-zoom-anim")))if(t.touches&&1!==t.touches.length)wn._dragging===this&&this.finishDrag();else if(!(wn._dragging||t.shiftKey||1!==t.which&&1!==t.button&&!t.touches)&&(wn._dragging=this,this._preventOutline&&Re(this._element),Le(),ie(),!this._moving)){this.fire("down");var e=t.touches?t.touches[0]:t,n=Ne(this._element);this._startPoint=new O(e.clientX,e.clientY),this._startPos=ke(this._element),this._parentScale=Me(n);var i="mousedown"===t.type;Ue(document,i?"mousemove":"touchmove",this._onMove,this),Ue(document,i?"mouseup":"touchend touchcancel",this._onUp,this)}},_onMove:function(t){if(this._enabled)if(t.touches&&t.touches.length>1)this._moved=!0;else{var e=t.touches&&1===t.touches.length?t.touches[0]:t,n=new O(e.clientX,e.clientY)._subtract(this._startPoint);(n.x||n.y)&&(Math.abs(n.x)+Math.abs(n.y)<this.options.clickTolerance||(n.x/=this._parentScale.x,n.y/=this._parentScale.y,Ze(t),this._moved||(this.fire("dragstart"),this._moved=!0,ye(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),ye(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(n),this._moving=!0,this._lastEvent=t,this._updatePosition()))}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),Ce(this._element,this._newPos),this.fire("drag",t)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(t){we(document.body,"leaflet-dragging"),this._lastTarget&&(we(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Be(document,"mousemove touchmove",this._onMove,this),Be(document,"mouseup touchend touchcancel",this._onUp,this),Pe(),re(),this._moved&&this._moving&&this.fire("dragend",{noInertia:t,distance:this._newPos.distanceTo(this._startPos)}),this._moving=!1,wn._dragging=!1}});function bn(t,e){if(!e||!t.length)return t.slice();var n=e*e;return t=In(t,n),t=Sn(t,n),t}function Tn(t,e,n){return Math.sqrt(Pn(t,e,n,!0))}function En(t,e,n){return Pn(t,e,n)}function Sn(t,e){var n=t.length,i=typeof Uint8Array!==void 0+""?Uint8Array:Array,r=new i(n);r[0]=r[n-1]=1,xn(t,r,e,0,n-1);var o,s=[];for(o=0;o<n;o++)r[o]&&s.push(t[o]);return s}function xn(t,e,n,i,r){var o,s,a,c=0;for(s=i+1;s<=r-1;s++)a=Pn(t[s],t[i],t[r],!0),a>c&&(o=s,c=a);c>n&&(e[o]=1,xn(t,e,n,i,o),xn(t,e,n,o,r))}function In(t,e){for(var n=[t[0]],i=1,r=0,o=t.length;i<o;i++)Ln(t[i],t[r])>e&&(n.push(t[i]),r=i);return r<o-1&&n.push(t[o-1]),n}function Cn(t,e,n,i,r){var o,s,a,c=i?_n:An(t,n),l=An(e,n);_n=l;while(1){if(!(c|l))return[t,e];if(c&l)return!1;o=c||l,s=kn(t,e,o,n,r),a=An(s,n),o===c?(t=s,c=a):(e=s,l=a)}}function kn(t,e,n,i,r){var o,s,a=e.x-t.x,c=e.y-t.y,l=i.min,u=i.max;return 8&n?(o=t.x+a*(u.y-t.y)/c,s=u.y):4&n?(o=t.x+a*(l.y-t.y)/c,s=l.y):2&n?(o=u.x,s=t.y+c*(u.x-t.x)/a):1&n&&(o=l.x,s=t.y+c*(l.x-t.x)/a),new O(o,s,r)}function An(t,e){var n=0;return t.x<e.min.x?n|=1:t.x>e.max.x&&(n|=2),t.y<e.min.y?n|=4:t.y>e.max.y&&(n|=8),n}function Ln(t,e){var n=e.x-t.x,i=e.y-t.y;return n*n+i*i}function Pn(t,e,n,i){var r,o=e.x,s=e.y,a=n.x-o,c=n.y-s,l=a*a+c*c;return l>0&&(r=((t.x-o)*a+(t.y-s)*c)/l,r>1?(o=n.x,s=n.y):r>0&&(o+=a*r,s+=c*r)),a=t.x-o,c=t.y-s,i?a*a+c*c:new O(o,s)}function Rn(t){return!_(t[0])||"object"!==typeof t[0][0]&&"undefined"!==typeof t[0][0]}function On(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Rn(t)}function Nn(t,e){var n,i,r,o,s,a,c,l;if(!t||0===t.length)throw new Error("latlngs not passed");Rn(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var u=[];for(var h in t)u.push(e.project(V(t[h])));var d=u.length;for(n=0,i=0;n<d-1;n++)i+=u[n].distanceTo(u[n+1])/2;if(0===i)l=u[0];else for(n=0,o=0;n<d-1;n++)if(s=u[n],a=u[n+1],r=s.distanceTo(a),o+=r,o>i){c=(o-i)/r,l=[a.x-c*(a.x-s.x),a.y-c*(a.y-s.y)];break}return e.unproject(M(l))}var Mn={__proto__:null,simplify:bn,pointToSegmentDistance:Tn,closestPointOnSegment:En,clipSegment:Cn,_getEdgeIntersection:kn,_getBitCode:An,_sqClosestPointOnSegment:Pn,isFlat:Rn,_flat:On,polylineCenter:Nn};function Dn(t,e,n){var i,r,o,s,a,c,l,u,h,d=[1,4,2,8];for(r=0,l=t.length;r<l;r++)t[r]._code=An(t[r],e);for(s=0;s<4;s++){for(u=d[s],i=[],r=0,l=t.length,o=l-1;r<l;o=r++)a=t[r],c=t[o],a._code&u?c._code&u||(h=kn(c,a,u,e,n),h._code=An(h,e),i.push(h)):(c._code&u&&(h=kn(c,a,u,e,n),h._code=An(h,e),i.push(h)),i.push(a));t=i}return t}function Un(t,e){var n,i,r,o,s,a,c,l,u;if(!t||0===t.length)throw new Error("latlngs not passed");Rn(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var h=[];for(var d in t)h.push(e.project(V(t[d])));var f=h.length;for(a=c=l=0,n=0,i=f-1;n<f;i=n++)r=h[n],o=h[i],s=r.y*o.x-o.y*r.x,c+=(r.x+o.x)*s,l+=(r.y+o.y)*s,a+=3*s;return u=0===a?h[0]:[c/a,l/a],e.unproject(M(u))}var Fn={__proto__:null,clipPolygon:Dn,polygonCenter:Un},Bn={project:function(t){return new O(t.lng,t.lat)},unproject:function(t){return new z(t.y,t.x)},bounds:new D([-180,-90],[180,90])},zn={R:6378137,R_MINOR:6356752.314245179,bounds:new D([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(t){var e=Math.PI/180,n=this.R,i=t.lat*e,r=this.R_MINOR/n,o=Math.sqrt(1-r*r),s=o*Math.sin(i),a=Math.tan(Math.PI/4-i/2)/Math.pow((1-s)/(1+s),o/2);return i=-n*Math.log(Math.max(a,1e-10)),new O(t.lng*e*n,i)},unproject:function(t){for(var e,n=180/Math.PI,i=this.R,r=this.R_MINOR/i,o=Math.sqrt(1-r*r),s=Math.exp(-t.y/i),a=Math.PI/2-2*Math.atan(s),c=0,l=.1;c<15&&Math.abs(l)>1e-7;c++)e=o*Math.sin(a),e=Math.pow((1-e)/(1+e),o/2),l=Math.PI/2-2*Math.atan(s*e)-a,a+=l;return new z(a*n,t.x*n/i)}},Vn={__proto__:null,LonLat:Bn,Mercator:zn,SphericalMercator:q},jn=n({},$,{code:"EPSG:3395",projection:zn,transformation:function(){var t=.5/(Math.PI*zn.R);return Z(t,.5,-t,.5)}()}),$n=n({},$,{code:"EPSG:4326",projection:Bn,transformation:Z(1/180,1,-1/180,.5)}),Hn=n({},j,{projection:Bn,transformation:Z(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,e){var n=e.lng-t.lng,i=e.lat-t.lat;return Math.sqrt(n*n+i*i)},infinite:!0});j.Earth=$,j.EPSG3395=jn,j.EPSG3857=K,j.EPSG900913=G,j.EPSG4326=$n,j.Simple=Hn;var qn=R.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[s(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[s(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var e=t.target;if(e.hasLayer(this)){if(this._map=e,this._zoomAnimated=e._zoomAnimated,this.getEvents){var n=this.getEvents();e.on(n,this),this.once("remove",(function(){e.off(n,this)}),this)}this.onAdd(e),this.fire("add"),e.fire("layeradd",{layer:this})}}});nn.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var e=s(t);return this._layers[e]||(this._layers[e]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t)),this},removeLayer:function(t){var e=s(t);return this._layers[e]?(this._loaded&&t.onRemove(this),delete this._layers[e],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return s(t)in this._layers},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},_addLayers:function(t){t=t?_(t)?t:[t]:[];for(var e=0,n=t.length;e<n;e++)this.addLayer(t[e])},_addZoomLimit:function(t){isNaN(t.options.maxZoom)&&isNaN(t.options.minZoom)||(this._zoomBoundLayers[s(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var e=s(t);this._zoomBoundLayers[e]&&(delete this._zoomBoundLayers[e],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,e=-1/0,n=this._getZoomSpan();for(var i in this._zoomBoundLayers){var r=this._zoomBoundLayers[i].options;t=void 0===r.minZoom?t:Math.min(t,r.minZoom),e=void 0===r.maxZoom?e:Math.max(e,r.maxZoom)}this._layersMaxZoom=e===-1/0?void 0:e,this._layersMinZoom=t===1/0?void 0:t,n!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Wn=qn.extend({initialize:function(t,e){var n,i;if(f(this,e),this._layers={},t)for(n=0,i=t.length;n<i;n++)this.addLayer(t[n])},addLayer:function(t){var e=this.getLayerId(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var e=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[e]&&this._map.removeLayer(this._layers[e]),delete this._layers[e],this},hasLayer:function(t){var e="number"===typeof t?t:this.getLayerId(t);return e in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var e,n,i=Array.prototype.slice.call(arguments,1);for(e in this._layers)n=this._layers[e],n[t]&&n[t].apply(n,i);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return s(t)}}),Zn=function(t,e){return new Wn(t,e)},Kn=Wn.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),Wn.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),Wn.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new F;for(var e in this._layers){var n=this._layers[e];t.extend(n.getBounds?n.getBounds():n.getLatLng())}return t}}),Gn=function(t,e){return new Kn(t,e)},Jn=k.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(t){f(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var n=this._getIconUrl(t);if(!n){if("icon"===t)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var i=this._createImg(n,e&&"IMG"===e.tagName?e:null);return this._setIconStyles(i,t),(this.options.crossOrigin||""===this.options.crossOrigin)&&(i.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),i},_setIconStyles:function(t,e){var n=this.options,i=n[e+"Size"];"number"===typeof i&&(i=[i,i]);var r=M(i),o=M("shadow"===e&&n.shadowAnchor||n.iconAnchor||r&&r.divideBy(2,!0));t.className="leaflet-marker-"+e+" "+(n.className||""),o&&(t.style.marginLeft=-o.x+"px",t.style.marginTop=-o.y+"px"),r&&(t.style.width=r.x+"px",t.style.height=r.y+"px")},_createImg:function(t,e){return e=e||document.createElement("img"),e.src=t,e},_getIconUrl:function(t){return Dt.retina&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}});function Xn(t){return new Jn(t)}var Qn=Jn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return"string"!==typeof Qn.imagePath&&(Qn.imagePath=this._detectIconPath()),(this.options.imagePath||Qn.imagePath)+Jn.prototype._getIconUrl.call(this,t)},_stripUrl:function(t){var e=function(t,e,n){var i=e.exec(t);return i&&i[n]};return t=e(t,/^url\((['"])?(.+)\1\)$/,2),t&&e(t,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var t=fe("div","leaflet-default-icon-path",document.body),e=de(t,"background-image")||de(t,"backgroundImage");if(document.body.removeChild(t),e=this._stripUrl(e),e)return e;var n=document.querySelector('link[href$="leaflet.css"]');return n?n.href.substring(0,n.href.length-11-1):""}}),Yn=gn.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new wn(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),ye(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&we(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var e=this._marker,n=e._map,i=this._marker.options.autoPanSpeed,r=this._marker.options.autoPanPadding,o=ke(e._icon),s=n.getPixelBounds(),a=n.getPixelOrigin(),c=U(s.min._subtract(a).add(r),s.max._subtract(a).subtract(r));if(!c.contains(o)){var l=M((Math.max(c.max.x,o.x)-c.max.x)/(s.max.x-c.max.x)-(Math.min(c.min.x,o.x)-c.min.x)/(s.min.x-c.min.x),(Math.max(c.max.y,o.y)-c.max.y)/(s.max.y-c.max.y)-(Math.min(c.min.y,o.y)-c.min.y)/(s.min.y-c.min.y)).multiplyBy(i);n.panBy(l,{animate:!1}),this._draggable._newPos._add(l),this._draggable._startPos._add(l),Ce(e._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=x(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(I(this._panRequest),this._panRequest=x(this._adjustPan.bind(this,t)))},_onDrag:function(t){var e=this._marker,n=e._shadow,i=ke(e._icon),r=e._map.layerPointToLatLng(i);n&&Ce(n,i),e._latlng=r,t.latlng=r,t.oldLatLng=this._oldLatLng,e.fire("move",t).fire("drag",t)},_onDragEnd:function(t){I(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),ti=qn.extend({options:{icon:new Qn,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,e){f(this,e),this._latlng=V(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var e=this._latlng;return this._latlng=V(t),this.update(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,e="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),n=t.icon.createIcon(this._icon),i=!1;n!==this._icon&&(this._icon&&this._removeIcon(),i=!0,t.title&&(n.title=t.title),"IMG"===n.tagName&&(n.alt=t.alt||"")),ye(n,e),t.keyboard&&(n.tabIndex="0",n.setAttribute("role","button")),this._icon=n,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ue(n,"focus",this._panOnFocus,this);var r=t.icon.createShadow(this._shadow),o=!1;r!==this._shadow&&(this._removeShadow(),o=!0),r&&(ye(r,e),r.alt=""),this._shadow=r,t.opacity<1&&this._updateOpacity(),i&&this.getPane().appendChild(this._icon),this._initInteraction(),r&&o&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Be(this._icon,"focus",this._panOnFocus,this),pe(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&pe(this._shadow),this._shadow=null},_setPos:function(t){this._icon&&Ce(this._icon,t),this._shadow&&Ce(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon&&(this._icon.style.zIndex=this._zIndex+t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(e)},_initInteraction:function(){if(this.options.interactive&&(ye(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Yn)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Yn(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&Ee(this._icon,t),this._shadow&&Ee(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var t=this._map;if(t){var e=this.options.icon.options,n=e.iconSize?M(e.iconSize):M(0,0),i=e.iconAnchor?M(e.iconAnchor):M(0,0);t.panInside(this._latlng,{paddingTopLeft:i,paddingBottomRight:n.subtract(i)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function ei(t,e){return new ti(t,e)}var ni=qn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return f(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t&&Object.prototype.hasOwnProperty.call(t,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),ii=ni.extend({options:{fill:!0,radius:10},initialize:function(t,e){f(this,e),this._latlng=V(t),this._radius=this.options.radius},setLatLng:function(t){var e=this._latlng;return this._latlng=V(t),this.redraw(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var e=t&&t.radius||this._radius;return ni.prototype.setStyle.call(this,t),this.setRadius(e),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,e=this._radiusY||t,n=this._clickTolerance(),i=[t+n,e+n];this._pxBounds=new D(this._point.subtract(i),this._point.add(i))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function ri(t,e){return new ii(t,e)}var oi=ii.extend({initialize:function(t,e,i){if("number"===typeof e&&(e=n({},i,{radius:e})),f(this,e),this._latlng=V(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new F(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:ni.prototype.setStyle,_project:function(){var t=this._latlng.lng,e=this._latlng.lat,n=this._map,i=n.options.crs;if(i.distance===$.distance){var r=Math.PI/180,o=this._mRadius/$.R/r,s=n.project([e+o,t]),a=n.project([e-o,t]),c=s.add(a).divideBy(2),l=n.unproject(c).lat,u=Math.acos((Math.cos(o*r)-Math.sin(e*r)*Math.sin(l*r))/(Math.cos(e*r)*Math.cos(l*r)))/r;(isNaN(u)||0===u)&&(u=o/Math.cos(Math.PI/180*e)),this._point=c.subtract(n.getPixelOrigin()),this._radius=isNaN(u)?0:c.x-n.project([l,t-u]).x,this._radiusY=c.y-s.y}else{var h=i.unproject(i.project(this._latlng).subtract([this._mRadius,0]));this._point=n.latLngToLayerPoint(this._latlng),this._radius=this._point.x-n.latLngToLayerPoint(h).x}this._updateBounds()}});function si(t,e,n){return new oi(t,e,n)}var ai=ni.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,e){f(this,e),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var e,n,i=1/0,r=null,o=Pn,s=0,a=this._parts.length;s<a;s++)for(var c=this._parts[s],l=1,u=c.length;l<u;l++){e=c[l-1],n=c[l];var h=o(t,e,n,!0);h<i&&(i=h,r=o(t,e,n))}return r&&(r.distance=Math.sqrt(i)),r},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Nn(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(t,e){return e=e||this._defaultShape(),t=V(t),e.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new F,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return Rn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var e=[],n=Rn(t),i=0,r=t.length;i<r;i++)n?(e[i]=V(t[i]),this._bounds.extend(e[i])):e[i]=this._convertLatLngs(t[i]);return e},_project:function(){var t=new D;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),e=new O(t,t);this._rawPxBounds&&(this._pxBounds=new D([this._rawPxBounds.min.subtract(e),this._rawPxBounds.max.add(e)]))},_projectLatlngs:function(t,e,n){var i,r,o=t[0]instanceof z,s=t.length;if(o){for(r=[],i=0;i<s;i++)r[i]=this._map.latLngToLayerPoint(t[i]),n.extend(r[i]);e.push(r)}else for(i=0;i<s;i++)this._projectLatlngs(t[i],e,n)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else{var e,n,i,r,o,s,a,c=this._parts;for(e=0,i=0,r=this._rings.length;e<r;e++)for(a=this._rings[e],n=0,o=a.length;n<o-1;n++)s=Cn(a[n],a[n+1],t,n,!0),s&&(c[i]=c[i]||[],c[i].push(s[0]),s[1]===a[n+1]&&n!==o-2||(c[i].push(s[1]),i++))}},_simplifyPoints:function(){for(var t=this._parts,e=this.options.smoothFactor,n=0,i=t.length;n<i;n++)t[n]=bn(t[n],e)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,e){var n,i,r,o,s,a,c=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(n=0,o=this._parts.length;n<o;n++)for(a=this._parts[n],i=0,s=a.length,r=s-1;i<s;r=i++)if((e||0!==i)&&Tn(t,a[r],a[i])<=c)return!0;return!1}});function ci(t,e){return new ai(t,e)}ai._flat=On;var li=ai.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Un(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(t){var e=ai.prototype._convertLatLngs.call(this,t),n=e.length;return n>=2&&e[0]instanceof z&&e[0].equals(e[n-1])&&e.pop(),e},_setLatLngs:function(t){ai.prototype._setLatLngs.call(this,t),Rn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Rn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,e=this.options.weight,n=new O(e,e);if(t=new D(t.min.subtract(n),t.max.add(n)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else for(var i,r=0,o=this._rings.length;r<o;r++)i=Dn(this._rings[r],t,!0),i.length&&this._parts.push(i)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var e,n,i,r,o,s,a,c,l=!1;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(r=0,a=this._parts.length;r<a;r++)for(e=this._parts[r],o=0,c=e.length,s=c-1;o<c;s=o++)n=e[o],i=e[s],n.y>t.y!==i.y>t.y&&t.x<(i.x-n.x)*(t.y-n.y)/(i.y-n.y)+n.x&&(l=!l);return l||ai.prototype._containsPoint.call(this,t,!0)}});function ui(t,e){return new li(t,e)}var hi=Kn.extend({initialize:function(t,e){f(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e,n,i,r=_(t)?t:t.features;if(r){for(e=0,n=r.length;e<n;e++)i=r[e],(i.geometries||i.geometry||i.features||i.coordinates)&&this.addData(i);return this}var o=this.options;if(o.filter&&!o.filter(t))return this;var s=di(t,o);return s?(s.feature=yi(t),s.defaultOptions=s.options,this.resetStyle(s),o.onEachFeature&&o.onEachFeature(t,s),this.addLayer(s)):this},resetStyle:function(t){return void 0===t?this.eachLayer(this.resetStyle,this):(t.options=n({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this)},setStyle:function(t){return this.eachLayer((function(e){this._setLayerStyle(e,t)}),this)},_setLayerStyle:function(t,e){t.setStyle&&("function"===typeof e&&(e=e(t.feature)),t.setStyle(e))}});function di(t,e){var n,i,r,o,s="Feature"===t.type?t.geometry:t,a=s?s.coordinates:null,c=[],l=e&&e.pointToLayer,u=e&&e.coordsToLatLng||pi;if(!a&&!s)return null;switch(s.type){case"Point":return n=u(a),fi(l,t,n,e);case"MultiPoint":for(r=0,o=a.length;r<o;r++)n=u(a[r]),c.push(fi(l,t,n,e));return new Kn(c);case"LineString":case"MultiLineString":return i=mi(a,"LineString"===s.type?0:1,u),new ai(i,e);case"Polygon":case"MultiPolygon":return i=mi(a,"Polygon"===s.type?1:2,u),new li(i,e);case"GeometryCollection":for(r=0,o=s.geometries.length;r<o;r++){var h=di({geometry:s.geometries[r],type:"Feature",properties:t.properties},e);h&&c.push(h)}return new Kn(c);case"FeatureCollection":for(r=0,o=s.features.length;r<o;r++){var d=di(s.features[r],e);d&&c.push(d)}return new Kn(c);default:throw new Error("Invalid GeoJSON object.")}}function fi(t,e,n,i){return t?t(e,n):new ti(n,i&&i.markersInheritOptions&&i)}function pi(t){return new z(t[1],t[0],t[2])}function mi(t,e,n){for(var i,r=[],o=0,s=t.length;o<s;o++)i=e?mi(t[o],e-1,n):(n||pi)(t[o]),r.push(i);return r}function gi(t,e){return t=V(t),void 0!==t.alt?[u(t.lng,e),u(t.lat,e),u(t.alt,e)]:[u(t.lng,e),u(t.lat,e)]}function _i(t,e,n,i){for(var r=[],o=0,s=t.length;o<s;o++)r.push(e?_i(t[o],Rn(t[o])?0:e-1,n,i):gi(t[o],i));return!e&&n&&r.push(r[0].slice()),r}function vi(t,e){return t.feature?n({},t.feature,{geometry:e}):yi(e)}function yi(t){return"Feature"===t.type||"FeatureCollection"===t.type?t:{type:"Feature",properties:{},geometry:t}}var wi={toGeoJSON:function(t){return vi(this,{type:"Point",coordinates:gi(this.getLatLng(),t)})}};function bi(t,e){return new hi(t,e)}ti.include(wi),oi.include(wi),ii.include(wi),ai.include({toGeoJSON:function(t){var e=!Rn(this._latlngs),n=_i(this._latlngs,e?1:0,!1,t);return vi(this,{type:(e?"Multi":"")+"LineString",coordinates:n})}}),li.include({toGeoJSON:function(t){var e=!Rn(this._latlngs),n=e&&!Rn(this._latlngs[0]),i=_i(this._latlngs,n?2:e?1:0,!0,t);return e||(i=[i]),vi(this,{type:(n?"Multi":"")+"Polygon",coordinates:i})}}),Wn.include({toMultiPoint:function(t){var e=[];return this.eachLayer((function(n){e.push(n.toGeoJSON(t).geometry.coordinates)})),vi(this,{type:"MultiPoint",coordinates:e})},toGeoJSON:function(t){var e=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===e)return this.toMultiPoint(t);var n="GeometryCollection"===e,i=[];return this.eachLayer((function(e){if(e.toGeoJSON){var r=e.toGeoJSON(t);if(n)i.push(r.geometry);else{var o=yi(r);"FeatureCollection"===o.type?i.push.apply(i,o.features):i.push(o)}}})),n?vi(this,{geometries:i,type:"GeometryCollection"}):{type:"FeatureCollection",features:i}}});var Ti=bi,Ei=qn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,e,n){this._url=t,this._bounds=B(e),f(this,n)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(ye(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){pe(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&ge(this._image),this},bringToBack:function(){return this._map&&_e(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=B(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t="IMG"===this._url.tagName,e=this._image=t?this._url:fe("img");ye(e,"leaflet-image-layer"),this._zoomAnimated&&ye(e,"leaflet-zoom-animated"),this.options.className&&ye(e,this.options.className),e.onselectstart=l,e.onmousemove=l,e.onload=r(this.fire,this,"load"),e.onerror=r(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(e.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t?this._url=e.src:(e.src=this._url,e.alt=this.options.alt)},_animateZoom:function(t){var e=this._map.getZoomScale(t.zoom),n=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;Ie(this._image,n,e)},_reset:function(){var t=this._image,e=new D(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),n=e.getSize();Ce(t,e.min),t.style.width=n.x+"px",t.style.height=n.y+"px"},_updateOpacity:function(){Ee(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)},getCenter:function(){return this._bounds.getCenter()}}),Si=function(t,e,n){return new Ei(t,e,n)},xi=Ei.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var t="VIDEO"===this._url.tagName,e=this._image=t?this._url:fe("video");if(ye(e,"leaflet-image-layer"),this._zoomAnimated&&ye(e,"leaflet-zoom-animated"),this.options.className&&ye(e,this.options.className),e.onselectstart=l,e.onmousemove=l,e.onloadeddata=r(this.fire,this,"load"),t){for(var n=e.getElementsByTagName("source"),i=[],o=0;o<n.length;o++)i.push(n[o].src);this._url=n.length>0?i:[e.src]}else{_(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(e.style,"objectFit")&&(e.style["objectFit"]="fill"),e.autoplay=!!this.options.autoplay,e.loop=!!this.options.loop,e.muted=!!this.options.muted,e.playsInline=!!this.options.playsInline;for(var s=0;s<this._url.length;s++){var a=fe("source");a.src=this._url[s],e.appendChild(a)}}}});function Ii(t,e,n){return new xi(t,e,n)}var Ci=Ei.extend({_initImage:function(){var t=this._image=this._url;ye(t,"leaflet-image-layer"),this._zoomAnimated&&ye(t,"leaflet-zoom-animated"),this.options.className&&ye(t,this.options.className),t.onselectstart=l,t.onmousemove=l}});function ki(t,e,n){return new Ci(t,e,n)}var Ai=qn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(t,e){t&&(t instanceof z||_(t))?(this._latlng=V(t),f(this,e)):(f(this,t),this._source=e),this.options.content&&(this._content=this.options.content)},openOn:function(t){return t=arguments.length?t:this._source._map,t.hasLayer(this)||t.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(t){return this._map?this.close():(arguments.length?this._source=t:t=this._source,this._prepareOpen(),this.openOn(t._map)),this},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&Ee(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&Ee(this._container,1),this.bringToFront(),this.options.interactive&&(ye(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(t){t._fadeAnimated?(Ee(this._container,0),this._removeTimeout=setTimeout(r(pe,void 0,this._container),200)):pe(this._container),this.options.interactive&&(we(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=V(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&ge(this._container),this},bringToBack:function(){return this._map&&_e(this._container),this},_prepareOpen:function(t){var e=this._source;if(!e._map)return!1;if(e instanceof Kn){e=null;var n=this._source._layers;for(var i in n)if(n[i]._map){e=n[i];break}if(!e)return!1;this._source=e}if(!t)if(e.getCenter)t=e.getCenter();else if(e.getLatLng)t=e.getLatLng();else{if(!e.getBounds)throw new Error("Unable to get source layer LatLng.");t=e.getBounds().getCenter()}return this.setLatLng(t),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var t=this._contentNode,e="function"===typeof this._content?this._content(this._source||this):this._content;if("string"===typeof e)t.innerHTML=e;else{while(t.hasChildNodes())t.removeChild(t.firstChild);t.appendChild(e)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),e=M(this.options.offset),n=this._getAnchor();this._zoomAnimated?Ce(this._container,t.add(n)):e=e.add(t).add(n);var i=this._containerBottom=-e.y,r=this._containerLeft=-Math.round(this._containerWidth/2)+e.x;this._container.style.bottom=i+"px",this._container.style.left=r+"px"}},_getAnchor:function(){return[0,0]}});nn.include({_initOverlay:function(t,e,n,i){var r=e;return r instanceof t||(r=new t(i).setContent(e)),n&&r.setLatLng(n),r}}),qn.include({_initOverlay:function(t,e,n,i){var r=n;return r instanceof t?(f(r,i),r._source=this):(r=e&&!i?e:new t(i,this),r.setContent(n)),r}});var Li=Ai.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return t=arguments.length?t:this._source._map,!t.hasLayer(this)&&t._popup&&t._popup.options.autoClose&&t.removeLayer(t._popup),t._popup=this,Ai.prototype.openOn.call(this,t)},onAdd:function(t){Ai.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof ni||this._source.on("preclick",He))},onRemove:function(t){Ai.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof ni||this._source.off("preclick",He))},getEvents:function(){var t=Ai.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this.close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_initLayout:function(){var t="leaflet-popup",e=this._container=fe("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),n=this._wrapper=fe("div",t+"-content-wrapper",e);if(this._contentNode=fe("div",t+"-content",n),We(e),qe(this._contentNode),Ue(e,"contextmenu",He),this._tipContainer=fe("div",t+"-tip-container",e),this._tip=fe("div",t+"-tip",this._tipContainer),this.options.closeButton){var i=this._closeButton=fe("a",t+"-close-button",e);i.setAttribute("role","button"),i.setAttribute("aria-label","Close popup"),i.href="#close",i.innerHTML='<span aria-hidden="true">&#215;</span>',Ue(i,"click",(function(t){Ze(t),this.close()}),this)}},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width="",e.whiteSpace="nowrap";var n=t.offsetWidth;n=Math.min(n,this.options.maxWidth),n=Math.max(n,this.options.minWidth),e.width=n+1+"px",e.whiteSpace="",e.height="";var i=t.offsetHeight,r=this.options.maxHeight,o="leaflet-popup-scrolled";r&&i>r?(e.height=r+"px",ye(t,o)):we(t,o),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),n=this._getAnchor();Ce(this._container,e.add(n))},_adjustPan:function(){if(this.options.autoPan)if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning)this._autopanning=!1;else{var t=this._map,e=parseInt(de(this._container,"marginBottom"),10)||0,n=this._container.offsetHeight+e,i=this._containerWidth,r=new O(this._containerLeft,-n-this._containerBottom);r._add(ke(this._container));var o=t.layerPointToContainerPoint(r),s=M(this.options.autoPanPadding),a=M(this.options.autoPanPaddingTopLeft||s),c=M(this.options.autoPanPaddingBottomRight||s),l=t.getSize(),u=0,h=0;o.x+i+c.x>l.x&&(u=o.x+i-l.x+c.x),o.x-u-a.x<0&&(u=o.x-a.x),o.y+n+c.y>l.y&&(h=o.y+n-l.y+c.y),o.y-h-a.y<0&&(h=o.y-a.y),(u||h)&&(this.options.keepInView&&(this._autopanning=!0),t.fire("autopanstart").panBy([u,h]))}},_getAnchor:function(){return M(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Pi=function(t,e){return new Li(t,e)};nn.mergeOptions({closePopupOnClick:!0}),nn.include({openPopup:function(t,e,n){return this._initOverlay(Li,t,e,n).openOn(this),this},closePopup:function(t){return t=arguments.length?t:this._popup,t&&t.close(),this}}),qn.include({bindPopup:function(t,e){return this._popup=this._initOverlay(Li,this._popup,t,e),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t){return this._popup&&(this instanceof Kn||(this._popup._source=this),this._popup._prepareOpen(t||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){if(this._popup&&this._map){Ke(t);var e=t.layer||t.target;this._popup._source!==e||e instanceof ni?(this._popup._source=e,this.openPopup(t.latlng)):this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(t.latlng)}},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){13===t.originalEvent.keyCode&&this._openPopup(t)}});var Ri=Ai.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(t){Ai.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(t){Ai.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var t=Ai.prototype.getEvents.call(this);return this.options.permanent||(t.preclick=this.close),t},_initLayout:function(){var t="leaflet-tooltip",e=t+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=fe("div",e),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+s(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var e,n,i=this._map,r=this._container,o=i.latLngToContainerPoint(i.getCenter()),s=i.layerPointToContainerPoint(t),a=this.options.direction,c=r.offsetWidth,l=r.offsetHeight,u=M(this.options.offset),h=this._getAnchor();"top"===a?(e=c/2,n=l):"bottom"===a?(e=c/2,n=0):"center"===a?(e=c/2,n=l/2):"right"===a?(e=0,n=l/2):"left"===a?(e=c,n=l/2):s.x<o.x?(a="right",e=0,n=l/2):(a="left",e=c+2*(u.x+h.x),n=l/2),t=t.subtract(M(e,n,!0)).add(u).add(h),we(r,"leaflet-tooltip-right"),we(r,"leaflet-tooltip-left"),we(r,"leaflet-tooltip-top"),we(r,"leaflet-tooltip-bottom"),ye(r,"leaflet-tooltip-"+a),Ce(r,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&Ee(this._container,t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(e)},_getAnchor:function(){return M(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Oi=function(t,e){return new Ri(t,e)};nn.include({openTooltip:function(t,e,n){return this._initOverlay(Ri,t,e,n).openOn(this),this},closeTooltip:function(t){return t.close(),this}}),qn.include({bindTooltip:function(t,e){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Ri,this._tooltip,t,e),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(t||!this._tooltipHandlersAdded){var e=t?"off":"on",n={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?n.add=this._openTooltip:(n.mouseover=this._openTooltip,n.mouseout=this.closeTooltip,n.click=this._openTooltip,this._map?this._addFocusListeners():n.add=this._addFocusListeners),this._tooltip.options.sticky&&(n.mousemove=this._moveTooltip),this[e](n),this._tooltipHandlersAdded=!t}},openTooltip:function(t){return this._tooltip&&(this instanceof Kn||(this._tooltip._source=this),this._tooltip._prepareOpen(t)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(t){var e=t.getElement();e&&(Ue(e,"focus",(function(){this._tooltip._source=t,this.openTooltip()}),this),Ue(e,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(t){var e=t.getElement();e&&e.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(t){!this._tooltip||!this._map||this._map.dragging&&this._map.dragging.moving()||(this._tooltip._source=t.layer||t.target,this.openTooltip(this._tooltip.options.sticky?t.latlng:void 0))},_moveTooltip:function(t){var e,n,i=t.latlng;this._tooltip.options.sticky&&t.originalEvent&&(e=this._map.mouseEventToContainerPoint(t.originalEvent),n=this._map.containerPointToLayerPoint(e),i=this._map.layerPointToLatLng(n)),this._tooltip.setLatLng(i)}});var Ni=Jn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var e=t&&"DIV"===t.tagName?t:document.createElement("div"),n=this.options;if(n.html instanceof Element?(me(e),e.appendChild(n.html)):e.innerHTML=!1!==n.html?n.html:"",n.bgPos){var i=M(n.bgPos);e.style.backgroundPosition=-i.x+"px "+-i.y+"px"}return this._setIconStyles(e,"icon"),e},createShadow:function(){return null}});function Mi(t){return new Ni(t)}Jn.Default=Qn;var Di=qn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Dt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){f(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),pe(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(ge(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(_e(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var t=this._clampZoom(this._map.getZoom());t!==this._tileZoom&&(this._tileZoom=t,this._updateLevels()),this._update()}return this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=a(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof O?t:new O(t,t)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var e,n=this.getPane().children,i=-t(-1/0,1/0),r=0,o=n.length;r<o;r++)e=n[r].style.zIndex,n[r]!==this._container&&e&&(i=t(i,+e));isFinite(i)&&(this.options.zIndex=i+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Dt.ielt9){Ee(this._container,this.options.opacity);var t=+new Date,e=!1,n=!1;for(var i in this._tiles){var r=this._tiles[i];if(r.current&&r.loaded){var o=Math.min(1,(t-r.loaded)/200);Ee(r.el,o),o<1?e=!0:(r.active?n=!0:this._onOpaqueTile(r),r.active=!0)}}n&&!this._noPrune&&this._pruneTiles(),e&&(I(this._fadeFrame),this._fadeFrame=x(this._updateOpacity,this))}},_onOpaqueTile:l,_initContainer:function(){this._container||(this._container=fe("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,e=this.options.maxZoom;if(void 0!==t){for(var n in this._levels)n=Number(n),this._levels[n].el.children.length||n===t?(this._levels[n].el.style.zIndex=e-Math.abs(t-n),this._onUpdateLevel(n)):(pe(this._levels[n].el),this._removeTilesAtZoom(n),this._onRemoveLevel(n),delete this._levels[n]);var i=this._levels[t],r=this._map;return i||(i=this._levels[t]={},i.el=fe("div","leaflet-tile-container leaflet-zoom-animated",this._container),i.el.style.zIndex=e,i.origin=r.project(r.unproject(r.getPixelOrigin()),t).round(),i.zoom=t,this._setZoomTransform(i,r.getCenter(),r.getZoom()),l(i.el.offsetWidth),this._onCreateLevel(i)),this._level=i,i}},_onUpdateLevel:l,_onRemoveLevel:l,_onCreateLevel:l,_pruneTiles:function(){if(this._map){var t,e,n=this._map.getZoom();if(n>this.options.maxZoom||n<this.options.minZoom)this._removeAllTiles();else{for(t in this._tiles)e=this._tiles[t],e.retain=e.current;for(t in this._tiles)if(e=this._tiles[t],e.current&&!e.active){var i=e.coords;this._retainParent(i.x,i.y,i.z,i.z-5)||this._retainChildren(i.x,i.y,i.z,i.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}}},_removeTilesAtZoom:function(t){for(var e in this._tiles)this._tiles[e].coords.z===t&&this._removeTile(e)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)pe(this._levels[t].el),this._onRemoveLevel(Number(t)),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,e,n,i){var r=Math.floor(t/2),o=Math.floor(e/2),s=n-1,a=new O(+r,+o);a.z=+s;var c=this._tileCoordsToKey(a),l=this._tiles[c];return l&&l.active?(l.retain=!0,!0):(l&&l.loaded&&(l.retain=!0),s>i&&this._retainParent(r,o,s,i))},_retainChildren:function(t,e,n,i){for(var r=2*t;r<2*t+2;r++)for(var o=2*e;o<2*e+2;o++){var s=new O(r,o);s.z=n+1;var a=this._tileCoordsToKey(s),c=this._tiles[a];c&&c.active?c.retain=!0:(c&&c.loaded&&(c.retain=!0),n+1<i&&this._retainChildren(r,o,n+1,i))}},_resetView:function(t){var e=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),e,e)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var e=this.options;return void 0!==e.minNativeZoom&&t<e.minNativeZoom?e.minNativeZoom:void 0!==e.maxNativeZoom&&e.maxNativeZoom<t?e.maxNativeZoom:t},_setView:function(t,e,n,i){var r=Math.round(e);r=void 0!==this.options.maxZoom&&r>this.options.maxZoom||void 0!==this.options.minZoom&&r<this.options.minZoom?void 0:this._clampZoom(r);var o=this.options.updateWhenZooming&&r!==this._tileZoom;i&&!o||(this._tileZoom=r,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==r&&this._update(t),n||this._pruneTiles(),this._noPrune=!!n),this._setZoomTransforms(t,e)},_setZoomTransforms:function(t,e){for(var n in this._levels)this._setZoomTransform(this._levels[n],t,e)},_setZoomTransform:function(t,e,n){var i=this._map.getZoomScale(n,t.zoom),r=t.origin.multiplyBy(i).subtract(this._map._getNewPixelOrigin(e,n)).round();Dt.any3d?Ie(t.el,r,i):Ce(t.el,r)},_resetGrid:function(){var t=this._map,e=t.options.crs,n=this._tileSize=this.getTileSize(),i=this._tileZoom,r=this._map.getPixelWorldBounds(this._tileZoom);r&&(this._globalTileRange=this._pxBoundsToTileRange(r)),this._wrapX=e.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,e.wrapLng[0]],i).x/n.x),Math.ceil(t.project([0,e.wrapLng[1]],i).x/n.y)],this._wrapY=e.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([e.wrapLat[0],0],i).y/n.x),Math.ceil(t.project([e.wrapLat[1],0],i).y/n.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(t){var e=this._map,n=e._animatingZoom?Math.max(e._animateToZoom,e.getZoom()):e.getZoom(),i=e.getZoomScale(n,this._tileZoom),r=e.project(t,this._tileZoom).floor(),o=e.getSize().divideBy(2*i);return new D(r.subtract(o),r.add(o))},_update:function(t){var e=this._map;if(e){var n=this._clampZoom(e.getZoom());if(void 0===t&&(t=e.getCenter()),void 0!==this._tileZoom){var i=this._getTiledPixelBounds(t),r=this._pxBoundsToTileRange(i),o=r.getCenter(),s=[],a=this.options.keepBuffer,c=new D(r.getBottomLeft().subtract([a,-a]),r.getTopRight().add([a,-a]));if(!(isFinite(r.min.x)&&isFinite(r.min.y)&&isFinite(r.max.x)&&isFinite(r.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var l in this._tiles){var u=this._tiles[l].coords;u.z===this._tileZoom&&c.contains(new O(u.x,u.y))||(this._tiles[l].current=!1)}if(Math.abs(n-this._tileZoom)>1)this._setView(t,n);else{for(var h=r.min.y;h<=r.max.y;h++)for(var d=r.min.x;d<=r.max.x;d++){var f=new O(d,h);if(f.z=this._tileZoom,this._isValidTile(f)){var p=this._tiles[this._tileCoordsToKey(f)];p?p.current=!0:s.push(f)}}if(s.sort((function(t,e){return t.distanceTo(o)-e.distanceTo(o)})),0!==s.length){this._loading||(this._loading=!0,this.fire("loading"));var m=document.createDocumentFragment();for(d=0;d<s.length;d++)this._addTile(s[d],m);this._level.el.appendChild(m)}}}}},_isValidTile:function(t){var e=this._map.options.crs;if(!e.infinite){var n=this._globalTileRange;if(!e.wrapLng&&(t.x<n.min.x||t.x>n.max.x)||!e.wrapLat&&(t.y<n.min.y||t.y>n.max.y))return!1}if(!this.options.bounds)return!0;var i=this._tileCoordsToBounds(t);return B(this.options.bounds).overlaps(i)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var e=this._map,n=this.getTileSize(),i=t.scaleBy(n),r=i.add(n),o=e.unproject(i,t.z),s=e.unproject(r,t.z);return[o,s]},_tileCoordsToBounds:function(t){var e=this._tileCoordsToNwSe(t),n=new F(e[0],e[1]);return this.options.noWrap||(n=this._map.wrapLatLngBounds(n)),n},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var e=t.split(":"),n=new O(+e[0],+e[1]);return n.z=+e[2],n},_removeTile:function(t){var e=this._tiles[t];e&&(pe(e.el),delete this._tiles[t],this.fire("tileunload",{tile:e.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){ye(t,"leaflet-tile");var e=this.getTileSize();t.style.width=e.x+"px",t.style.height=e.y+"px",t.onselectstart=l,t.onmousemove=l,Dt.ielt9&&this.options.opacity<1&&Ee(t,this.options.opacity)},_addTile:function(t,e){var n=this._getTilePos(t),i=this._tileCoordsToKey(t),o=this.createTile(this._wrapCoords(t),r(this._tileReady,this,t));this._initTile(o),this.createTile.length<2&&x(r(this._tileReady,this,t,null,o)),Ce(o,n),this._tiles[i]={el:o,coords:t,current:!0},e.appendChild(o),this.fire("tileloadstart",{tile:o,coords:t})},_tileReady:function(t,e,n){e&&this.fire("tileerror",{error:e,tile:n,coords:t});var i=this._tileCoordsToKey(t);n=this._tiles[i],n&&(n.loaded=+new Date,this._map._fadeAnimated?(Ee(n.el,0),I(this._fadeFrame),this._fadeFrame=x(this._updateOpacity,this)):(n.active=!0,this._pruneTiles()),e||(ye(n.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:n.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Dt.ielt9||!this._map._fadeAnimated?x(this._pruneTiles,this):setTimeout(r(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var e=new O(this._wrapX?c(t.x,this._wrapX):t.x,this._wrapY?c(t.y,this._wrapY):t.y);return e.z=t.z,e},_pxBoundsToTileRange:function(t){var e=this.getTileSize();return new D(t.min.unscaleBy(e).floor(),t.max.unscaleBy(e).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}});function Ui(t){return new Di(t)}var Fi=Di.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(t,e){this._url=t,e=f(this,e),e.detectRetina&&Dt.retina&&e.maxZoom>0?(e.tileSize=Math.floor(e.tileSize/2),e.zoomReverse?(e.zoomOffset--,e.minZoom=Math.min(e.maxZoom,e.minZoom+1)):(e.zoomOffset++,e.maxZoom=Math.max(e.minZoom,e.maxZoom-1)),e.minZoom=Math.max(0,e.minZoom)):e.zoomReverse?e.minZoom=Math.min(e.maxZoom,e.minZoom):e.maxZoom=Math.max(e.minZoom,e.maxZoom),"string"===typeof e.subdomains&&(e.subdomains=e.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(t,e){return this._url===t&&void 0===e&&(e=!0),this._url=t,e||this.redraw(),this},createTile:function(t,e){var n=document.createElement("img");return Ue(n,"load",r(this._tileOnLoad,this,e,n)),Ue(n,"error",r(this._tileOnError,this,e,n)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(n.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),"string"===typeof this.options.referrerPolicy&&(n.referrerPolicy=this.options.referrerPolicy),n.alt="",n.src=this.getTileUrl(t),n},getTileUrl:function(t){var e={r:Dt.retina?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var i=this._globalTileRange.max.y-t.y;this.options.tms&&(e["y"]=i),e["-y"]=i}return g(this._url,n(e,this.options))},_tileOnLoad:function(t,e){Dt.ielt9?setTimeout(r(t,this,null,e),0):t(null,e)},_tileOnError:function(t,e,n){var i=this.options.errorTileUrl;i&&e.getAttribute("src")!==i&&(e.src=i),t(n,e)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,e=this.options.maxZoom,n=this.options.zoomReverse,i=this.options.zoomOffset;return n&&(t=e-t),t+i},_getSubdomain:function(t){var e=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_abortLoading:function(){var t,e;for(t in this._tiles)if(this._tiles[t].coords.z!==this._tileZoom&&(e=this._tiles[t].el,e.onload=l,e.onerror=l,!e.complete)){e.src=y;var n=this._tiles[t].coords;pe(e),delete this._tiles[t],this.fire("tileabort",{tile:e,coords:n})}},_removeTile:function(t){var e=this._tiles[t];if(e)return e.el.setAttribute("src",y),Di.prototype._removeTile.call(this,t)},_tileReady:function(t,e,n){if(this._map&&(!n||n.getAttribute("src")!==y))return Di.prototype._tileReady.call(this,t,e,n)}});function Bi(t,e){return new Fi(t,e)}var zi=Fi.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,e){this._url=t;var i=n({},this.defaultWmsParams);for(var r in e)r in this.options||(i[r]=e[r]);e=f(this,e);var o=e.detectRetina&&Dt.retina?2:1,s=this.getTileSize();i.width=s.x*o,i.height=s.y*o,this.wmsParams=i},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var e=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[e]=this._crs.code,Fi.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this._tileCoordsToNwSe(t),n=this._crs,i=U(n.project(e[0]),n.project(e[1])),r=i.min,o=i.max,s=(this._wmsVersion>=1.3&&this._crs===$n?[r.y,r.x,o.y,o.x]:[r.x,r.y,o.x,o.y]).join(","),a=Fi.prototype.getTileUrl.call(this,t);return a+p(this.wmsParams,a,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+s},setParams:function(t,e){return n(this.wmsParams,t),e||this.redraw(),this}});function Vi(t,e){return new zi(t,e)}Fi.WMS=zi,Bi.wms=Vi;var ji=qn.extend({options:{padding:.1},initialize:function(t){f(this,t),s(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&ye(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,e){var n=this._map.getZoomScale(e,this._zoom),i=this._map.getSize().multiplyBy(.5+this.options.padding),r=this._map.project(this._center,e),o=i.multiplyBy(-n).add(r).subtract(this._map._getNewPixelOrigin(t,e));Dt.any3d?Ie(this._container,o,n):Ce(this._container,o)},_reset:function(){for(var t in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,e=this._map.getSize(),n=this._map.containerPointToLayerPoint(e.multiplyBy(-t)).round();this._bounds=new D(n,n.add(e.multiplyBy(1+2*t)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),$i=ji.extend({options:{tolerance:0},getEvents:function(){var t=ji.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ji.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");Ue(t,"mousemove",this._onMouseMove,this),Ue(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Ue(t,"mouseout",this._handleMouseOut,this),t["_leaflet_disable_events"]=!0,this._ctx=t.getContext("2d")},_destroyContainer:function(){I(this._redrawRequest),delete this._ctx,pe(this._container),Be(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var t;for(var e in this._redrawBounds=null,this._layers)t=this._layers[e],t._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){ji.prototype._update.call(this);var t=this._bounds,e=this._container,n=t.getSize(),i=Dt.retina?2:1;Ce(e,t.min),e.width=i*n.x,e.height=i*n.y,e.style.width=n.x+"px",e.style.height=n.y+"px",Dt.retina&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){ji.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[s(t)]=t;var e=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=e),this._drawLast=e,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var e=t._order,n=e.next,i=e.prev;n?n.prev=i:this._drawLast=i,i?i.next=n:this._drawFirst=n,delete t._order,delete this._layers[s(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if("string"===typeof t.options.dashArray){var e,n,i=t.options.dashArray.split(/[, ]+/),r=[];for(n=0;n<i.length;n++){if(e=Number(i[n]),isNaN(e))return;r.push(e)}t.options._dashArray=r}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||x(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var e=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new D,this._redrawBounds.extend(t._pxBounds.min.subtract([e,e])),this._redrawBounds.extend(t._pxBounds.max.add([e,e]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var e=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,e.x,e.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var t,e=this._redrawBounds;if(this._ctx.save(),e){var n=e.getSize();this._ctx.beginPath(),this._ctx.rect(e.min.x,e.min.y,n.x,n.y),this._ctx.clip()}this._drawing=!0;for(var i=this._drawFirst;i;i=i.next)t=i.layer,(!e||t._pxBounds&&t._pxBounds.intersects(e))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,e){if(this._drawing){var n,i,r,o,s=t._parts,a=s.length,c=this._ctx;if(a){for(c.beginPath(),n=0;n<a;n++){for(i=0,r=s[n].length;i<r;i++)o=s[n][i],c[i?"lineTo":"moveTo"](o.x,o.y);e&&c.closePath()}this._fillStroke(c,t)}}},_updateCircle:function(t){if(this._drawing&&!t._empty()){var e=t._point,n=this._ctx,i=Math.max(Math.round(t._radius),1),r=(Math.max(Math.round(t._radiusY),1)||i)/i;1!==r&&(n.save(),n.scale(1,r)),n.beginPath(),n.arc(e.x,e.y/r,i,0,2*Math.PI,!1),1!==r&&n.restore(),this._fillStroke(n,t)}},_fillStroke:function(t,e){var n=e.options;n.fill&&(t.globalAlpha=n.fillOpacity,t.fillStyle=n.fillColor||n.color,t.fill(n.fillRule||"evenodd")),n.stroke&&0!==n.weight&&(t.setLineDash&&t.setLineDash(e.options&&e.options._dashArray||[]),t.globalAlpha=n.opacity,t.lineWidth=n.weight,t.strokeStyle=n.color,t.lineCap=n.lineCap,t.lineJoin=n.lineJoin,t.stroke())},_onClick:function(t){for(var e,n,i=this._map.mouseEventToLayerPoint(t),r=this._drawFirst;r;r=r.next)e=r.layer,e.options.interactive&&e._containsPoint(i)&&("click"!==t.type&&"preclick"!==t.type||!this._map._draggableMoved(e))&&(n=e);this._fireEvent(!!n&&[n],t)},_onMouseMove:function(t){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var e=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,e)}},_handleMouseOut:function(t){var e=this._hoveredLayer;e&&(we(this._container,"leaflet-interactive"),this._fireEvent([e],t,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(t,e){if(!this._mouseHoverThrottled){for(var n,i,o=this._drawFirst;o;o=o.next)n=o.layer,n.options.interactive&&n._containsPoint(e)&&(i=n);i!==this._hoveredLayer&&(this._handleMouseOut(t),i&&(ye(this._container,"leaflet-interactive"),this._fireEvent([i],t,"mouseover"),this._hoveredLayer=i)),this._fireEvent(!!this._hoveredLayer&&[this._hoveredLayer],t),this._mouseHoverThrottled=!0,setTimeout(r((function(){this._mouseHoverThrottled=!1}),this),32)}},_fireEvent:function(t,e,n){this._map._fireDOMEvent(e,n||e.type,t)},_bringToFront:function(t){var e=t._order;if(e){var n=e.next,i=e.prev;n&&(n.prev=i,i?i.next=n:n&&(this._drawFirst=n),e.prev=this._drawLast,this._drawLast.next=e,e.next=null,this._drawLast=e,this._requestRedraw(t))}},_bringToBack:function(t){var e=t._order;if(e){var n=e.next,i=e.prev;i&&(i.next=n,n?n.prev=i:i&&(this._drawLast=i),e.prev=null,e.next=this._drawFirst,this._drawFirst.prev=e,this._drawFirst=e,this._requestRedraw(t))}}});function Hi(t){return Dt.canvas?new $i(t):null}var qi=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch(t){}return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Wi={_initContainer:function(){this._container=fe("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ji.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var e=t._container=qi("shape");ye(e,"leaflet-vml-shape "+(this.options.className||"")),e.coordsize="1 1",t._path=qi("path"),e.appendChild(t._path),this._updateStyle(t),this._layers[s(t)]=t},_addPath:function(t){var e=t._container;this._container.appendChild(e),t.options.interactive&&t.addInteractiveTarget(e)},_removePath:function(t){var e=t._container;pe(e),t.removeInteractiveTarget(e),delete this._layers[s(t)]},_updateStyle:function(t){var e=t._stroke,n=t._fill,i=t.options,r=t._container;r.stroked=!!i.stroke,r.filled=!!i.fill,i.stroke?(e||(e=t._stroke=qi("stroke")),r.appendChild(e),e.weight=i.weight+"px",e.color=i.color,e.opacity=i.opacity,i.dashArray?e.dashStyle=_(i.dashArray)?i.dashArray.join(" "):i.dashArray.replace(/( *, *)/g," "):e.dashStyle="",e.endcap=i.lineCap.replace("butt","flat"),e.joinstyle=i.lineJoin):e&&(r.removeChild(e),t._stroke=null),i.fill?(n||(n=t._fill=qi("fill")),r.appendChild(n),n.color=i.fillColor||i.color,n.opacity=i.fillOpacity):n&&(r.removeChild(n),t._fill=null)},_updateCircle:function(t){var e=t._point.round(),n=Math.round(t._radius),i=Math.round(t._radiusY||n);this._setPath(t,t._empty()?"M0 0":"AL "+e.x+","+e.y+" "+n+","+i+" 0,23592600")},_setPath:function(t,e){t._path.v=e},_bringToFront:function(t){ge(t._container)},_bringToBack:function(t){_e(t._container)}},Zi=Dt.vml?qi:J,Ki=ji.extend({_initContainer:function(){this._container=Zi("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Zi("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){pe(this._container),Be(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!this._map._animatingZoom||!this._bounds){ji.prototype._update.call(this);var t=this._bounds,e=t.getSize(),n=this._container;this._svgSize&&this._svgSize.equals(e)||(this._svgSize=e,n.setAttribute("width",e.x),n.setAttribute("height",e.y)),Ce(n,t.min),n.setAttribute("viewBox",[t.min.x,t.min.y,e.x,e.y].join(" ")),this.fire("update")}},_initPath:function(t){var e=t._path=Zi("path");t.options.className&&ye(e,t.options.className),t.options.interactive&&ye(e,"leaflet-interactive"),this._updateStyle(t),this._layers[s(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){pe(t._path),t.removeInteractiveTarget(t._path),delete this._layers[s(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var e=t._path,n=t.options;e&&(n.stroke?(e.setAttribute("stroke",n.color),e.setAttribute("stroke-opacity",n.opacity),e.setAttribute("stroke-width",n.weight),e.setAttribute("stroke-linecap",n.lineCap),e.setAttribute("stroke-linejoin",n.lineJoin),n.dashArray?e.setAttribute("stroke-dasharray",n.dashArray):e.removeAttribute("stroke-dasharray"),n.dashOffset?e.setAttribute("stroke-dashoffset",n.dashOffset):e.removeAttribute("stroke-dashoffset")):e.setAttribute("stroke","none"),n.fill?(e.setAttribute("fill",n.fillColor||n.color),e.setAttribute("fill-opacity",n.fillOpacity),e.setAttribute("fill-rule",n.fillRule||"evenodd")):e.setAttribute("fill","none"))},_updatePoly:function(t,e){this._setPath(t,X(t._parts,e))},_updateCircle:function(t){var e=t._point,n=Math.max(Math.round(t._radius),1),i=Math.max(Math.round(t._radiusY),1)||n,r="a"+n+","+i+" 0 1,0 ",o=t._empty()?"M0 0":"M"+(e.x-n)+","+e.y+r+2*n+",0 "+r+2*-n+",0 ";this._setPath(t,o)},_setPath:function(t,e){t._path.setAttribute("d",e)},_bringToFront:function(t){ge(t._path)},_bringToBack:function(t){_e(t._path)}});function Gi(t){return Dt.svg||Dt.vml?new Ki(t):null}Dt.vml&&Ki.include(Wi),nn.include({getRenderer:function(t){var e=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return e||(e=this._renderer=this._createRenderer()),this.hasLayer(e)||this.addLayer(e),e},_getPaneRenderer:function(t){if("overlayPane"===t||void 0===t)return!1;var e=this._paneRenderers[t];return void 0===e&&(e=this._createRenderer({pane:t}),this._paneRenderers[t]=e),e},_createRenderer:function(t){return this.options.preferCanvas&&Hi(t)||Gi(t)}});var Ji=li.extend({initialize:function(t,e){li.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return t=B(t),[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});function Xi(t,e){return new Ji(t,e)}Ki.create=Zi,Ki.pointsToPath=X,hi.geometryToLayer=di,hi.coordsToLatLng=pi,hi.coordsToLatLngs=mi,hi.latLngToCoords=gi,hi.latLngsToCoords=_i,hi.getFeature=vi,hi.asFeature=yi,nn.mergeOptions({boxZoom:!0});var Qi=gn.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){Ue(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Be(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){pe(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||1!==t.which&&1!==t.button)return!1;this._clearDeferredResetState(),this._resetState(),ie(),Le(),this._startPoint=this._map.mouseEventToContainerPoint(t),Ue(document,{contextmenu:Ke,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=fe("div","leaflet-zoom-box",this._container),ye(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var e=new D(this._point,this._startPoint),n=e.getSize();Ce(this._box,e.min),this._box.style.width=n.x+"px",this._box.style.height=n.y+"px"},_finish:function(){this._moved&&(pe(this._box),we(this._container,"leaflet-crosshair")),re(),Pe(),Be(document,{contextmenu:Ke,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if((1===t.which||1===t.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(r(this._resetState,this),0);var e=new F(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(e).fire("boxzoomend",{boxZoomBounds:e})}},_onKeyDown:function(t){27===t.keyCode&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});nn.addInitHook("addHandler","boxZoom",Qi),nn.mergeOptions({doubleClickZoom:!0});var Yi=gn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var e=this._map,n=e.getZoom(),i=e.options.zoomDelta,r=t.originalEvent.shiftKey?n-i:n+i;"center"===e.options.doubleClickZoom?e.setZoom(r):e.setZoomAround(t.containerPoint,r)}});nn.addInitHook("addHandler","doubleClickZoom",Yi),nn.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var tr=gn.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new wn(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}ye(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){we(this._map._container,"leaflet-grab"),we(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var e=B(this._map.options.maxBounds);this._offsetLimit=U(this._map.latLngToContainerPoint(e.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(e.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var e=this._lastTime=+new Date,n=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(n),this._times.push(e),this._prunePositions(e)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){while(this._positions.length>1&&t-this._times[0]>50)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,e){return t-(t-e)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var t=this._draggable._newPos.subtract(this._draggable._startPos),e=this._offsetLimit;t.x<e.min.x&&(t.x=this._viscousLimit(t.x,e.min.x)),t.y<e.min.y&&(t.y=this._viscousLimit(t.y,e.min.y)),t.x>e.max.x&&(t.x=this._viscousLimit(t.x,e.max.x)),t.y>e.max.y&&(t.y=this._viscousLimit(t.y,e.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,e=Math.round(t/2),n=this._initialWorldOffset,i=this._draggable._newPos.x,r=(i-e+n)%t+e-n,o=(i+e+n)%t-e-n,s=Math.abs(r+n)<Math.abs(o+n)?r:o;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=s},_onDragEnd:function(t){var e=this._map,n=e.options,i=!n.inertia||t.noInertia||this._times.length<2;if(e.fire("dragend",t),i)e.fire("moveend");else{this._prunePositions(+new Date);var r=this._lastPos.subtract(this._positions[0]),o=(this._lastTime-this._times[0])/1e3,s=n.easeLinearity,a=r.multiplyBy(s/o),c=a.distanceTo([0,0]),l=Math.min(n.inertiaMaxSpeed,c),u=a.multiplyBy(l/c),h=l/(n.inertiaDeceleration*s),d=u.multiplyBy(-h/2).round();d.x||d.y?(d=e._limitOffset(d,e.options.maxBounds),x((function(){e.panBy(d,{duration:h,easeLinearity:s,noMoveStart:!0,animate:!0})}))):e.fire("moveend")}}});nn.addInitHook("addHandler","dragging",tr),nn.mergeOptions({keyboard:!0,keyboardPanDelta:80});var er=gn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),Ue(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Be(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,e=document.documentElement,n=t.scrollTop||e.scrollTop,i=t.scrollLeft||e.scrollLeft;this._map._container.focus(),window.scrollTo(i,n)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var e,n,i=this._panKeys={},r=this.keyCodes;for(e=0,n=r.left.length;e<n;e++)i[r.left[e]]=[-1*t,0];for(e=0,n=r.right.length;e<n;e++)i[r.right[e]]=[t,0];for(e=0,n=r.down.length;e<n;e++)i[r.down[e]]=[0,t];for(e=0,n=r.up.length;e<n;e++)i[r.up[e]]=[0,-1*t]},_setZoomDelta:function(t){var e,n,i=this._zoomKeys={},r=this.keyCodes;for(e=0,n=r.zoomIn.length;e<n;e++)i[r.zoomIn[e]]=t;for(e=0,n=r.zoomOut.length;e<n;e++)i[r.zoomOut[e]]=-t},_addHooks:function(){Ue(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Be(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e,n=t.keyCode,i=this._map;if(n in this._panKeys){if(!i._panAnim||!i._panAnim._inProgress)if(e=this._panKeys[n],t.shiftKey&&(e=M(e).multiplyBy(3)),i.options.maxBounds&&(e=i._limitOffset(M(e),i.options.maxBounds)),i.options.worldCopyJump){var r=i.wrapLatLng(i.unproject(i.project(i.getCenter()).add(e)));i.panTo(r)}else i.panBy(e)}else if(n in this._zoomKeys)i.setZoom(i.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[n]);else{if(27!==n||!i._popup||!i._popup.options.closeOnEscapeKey)return;i.closePopup()}Ke(t)}}});nn.addInitHook("addHandler","keyboard",er),nn.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var nr=gn.extend({addHooks:function(){Ue(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Be(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var e=Qe(t),n=this._map.options.wheelDebounceTime;this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var i=Math.max(n-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(r(this._performZoom,this),i),Ke(t)},_performZoom:function(){var t=this._map,e=t.getZoom(),n=this._map.options.zoomSnap||0;t._stop();var i=this._delta/(4*this._map.options.wheelPxPerZoomLevel),r=4*Math.log(2/(1+Math.exp(-Math.abs(i))))/Math.LN2,o=n?Math.ceil(r/n)*n:r,s=t._limitZoom(e+(this._delta>0?o:-o))-e;this._delta=0,this._startTime=null,s&&("center"===t.options.scrollWheelZoom?t.setZoom(e+s):t.setZoomAround(this._lastMousePos,e+s))}});nn.addInitHook("addHandler","scrollWheelZoom",nr);var ir=600;nn.mergeOptions({tapHold:Dt.touchNative&&Dt.safari&&Dt.mobile,tapTolerance:15});var rr=gn.extend({addHooks:function(){Ue(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Be(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(clearTimeout(this._holdTimeout),1===t.touches.length){var e=t.touches[0];this._startPos=this._newPos=new O(e.clientX,e.clientY),this._holdTimeout=setTimeout(r((function(){this._cancel(),this._isTapValid()&&(Ue(document,"touchend",Ze),Ue(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",e))}),this),ir),Ue(document,"touchend touchcancel contextmenu",this._cancel,this),Ue(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function t(){Be(document,"touchend",Ze),Be(document,"touchend touchcancel",t)},_cancel:function(){clearTimeout(this._holdTimeout),Be(document,"touchend touchcancel contextmenu",this._cancel,this),Be(document,"touchmove",this._onMove,this)},_onMove:function(t){var e=t.touches[0];this._newPos=new O(e.clientX,e.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(t,e){var n=new MouseEvent(t,{bubbles:!0,cancelable:!0,view:window,screenX:e.screenX,screenY:e.screenY,clientX:e.clientX,clientY:e.clientY});n._simulated=!0,e.target.dispatchEvent(n)}});nn.addInitHook("addHandler","tapHold",rr),nn.mergeOptions({touchZoom:Dt.touch,bounceAtZoomLimits:!0});var or=gn.extend({addHooks:function(){ye(this._map._container,"leaflet-touch-zoom"),Ue(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){we(this._map._container,"leaflet-touch-zoom"),Be(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var e=this._map;if(t.touches&&2===t.touches.length&&!e._animatingZoom&&!this._zooming){var n=e.mouseEventToContainerPoint(t.touches[0]),i=e.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=e.getSize()._divideBy(2),this._startLatLng=e.containerPointToLatLng(this._centerPoint),"center"!==e.options.touchZoom&&(this._pinchStartLatLng=e.containerPointToLatLng(n.add(i)._divideBy(2))),this._startDist=n.distanceTo(i),this._startZoom=e.getZoom(),this._moved=!1,this._zooming=!0,e._stop(),Ue(document,"touchmove",this._onTouchMove,this),Ue(document,"touchend touchcancel",this._onTouchEnd,this),Ze(t)}},_onTouchMove:function(t){if(t.touches&&2===t.touches.length&&this._zooming){var e=this._map,n=e.mouseEventToContainerPoint(t.touches[0]),i=e.mouseEventToContainerPoint(t.touches[1]),o=n.distanceTo(i)/this._startDist;if(this._zoom=e.getScaleZoom(o,this._startZoom),!e.options.bounceAtZoomLimits&&(this._zoom<e.getMinZoom()&&o<1||this._zoom>e.getMaxZoom()&&o>1)&&(this._zoom=e._limitZoom(this._zoom)),"center"===e.options.touchZoom){if(this._center=this._startLatLng,1===o)return}else{var s=n._add(i)._divideBy(2)._subtract(this._centerPoint);if(1===o&&0===s.x&&0===s.y)return;this._center=e.unproject(e.project(this._pinchStartLatLng,this._zoom).subtract(s),this._zoom)}this._moved||(e._moveStart(!0,!1),this._moved=!0),I(this._animRequest);var a=r(e._move,e,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=x(a,this,!0),Ze(t)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,I(this._animRequest),Be(document,"touchmove",this._onTouchMove,this),Be(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});nn.addInitHook("addHandler","touchZoom",or),nn.BoxZoom=Qi,nn.DoubleClickZoom=Yi,nn.Drag=tr,nn.Keyboard=er,nn.ScrollWheelZoom=nr,nn.TapHold=rr,nn.TouchZoom=or,t.Bounds=D,t.Browser=Dt,t.CRS=j,t.Canvas=$i,t.Circle=oi,t.CircleMarker=ii,t.Class=k,t.Control=on,t.DivIcon=Ni,t.DivOverlay=Ai,t.DomEvent=tn,t.DomUtil=De,t.Draggable=wn,t.Evented=R,t.FeatureGroup=Kn,t.GeoJSON=hi,t.GridLayer=Di,t.Handler=gn,t.Icon=Jn,t.ImageOverlay=Ei,t.LatLng=z,t.LatLngBounds=F,t.Layer=qn,t.LayerGroup=Wn,t.LineUtil=Mn,t.Map=nn,t.Marker=ti,t.Mixin=vn,t.Path=ni,t.Point=O,t.PolyUtil=Fn,t.Polygon=li,t.Polyline=ai,t.Popup=Li,t.PosAnimation=en,t.Projection=Vn,t.Rectangle=Ji,t.Renderer=ji,t.SVG=Ki,t.SVGOverlay=Ci,t.TileLayer=Fi,t.Tooltip=Ri,t.Transformation=W,t.Util=C,t.VideoOverlay=xi,t.bind=r,t.bounds=U,t.canvas=Hi,t.circle=si,t.circleMarker=ri,t.control=sn,t.divIcon=Mi,t.extend=n,t.featureGroup=Gn,t.geoJSON=bi,t.geoJson=Ti,t.gridLayer=Ui,t.icon=Xn,t.imageOverlay=Si,t.latLng=V,t.latLngBounds=B,t.layerGroup=Zn,t.map=rn,t.marker=ei,t.point=M,t.polygon=ui,t.polyline=ci,t.popup=Pi,t.rectangle=Xi,t.setOptions=f,t.stamp=s,t.svg=Gi,t.svgOverlay=ki,t.tileLayer=Bi,t.tooltip=Oi,t.transformation=Z,t.version=e,t.videoOverlay=Ii;var sr=window.L;t.noConflict=function(){return window.L=sr,this},window.L=t}))},5431:function(t,e,n){"use strict";n.d(e,{z:function(){return o}});var i,r=function(){return Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/))};function o(t,e){void 0===e&&(e={});var n=e.registrationOptions;void 0===n&&(n={}),delete e.registrationOptions;var o=function(t){var n=[],i=arguments.length-1;while(i-- >0)n[i]=arguments[i+1];e&&e[t]&&e[t].apply(e,n)};"serviceWorker"in navigator&&i.then((function(){r()?(c(t,o,n),navigator.serviceWorker.ready.then((function(t){o("ready",t)})).catch((function(t){return s(o,t)}))):(a(t,o,n),navigator.serviceWorker.ready.then((function(t){o("ready",t)})).catch((function(t){return s(o,t)})))}))}function s(t,e){navigator.onLine||t("offline"),t("error",e)}function a(t,e,n){navigator.serviceWorker.register(t,n).then((function(t){e("registered",t),t.waiting?e("updated",t):t.onupdatefound=function(){e("updatefound",t);var n=t.installing;n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?e("updated",t):e("cached",t))}}})).catch((function(t){return s(e,t)}))}function c(t,e,n){fetch(t).then((function(i){404===i.status?(e("error",new Error("Service worker not found at "+t)),l()):-1===i.headers.get("content-type").indexOf("javascript")?(e("error",new Error("Expected "+t+" to have javascript content-type, but received "+i.headers.get("content-type"))),l()):a(t,e,n)})).catch((function(t){return s(e,t)}))}function l(){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){return s(emit,t)}))}"undefined"!==typeof window&&(i="undefined"!==typeof Promise?new Promise((function(t){return window.addEventListener("load",t)})):{then:function(t){return window.addEventListener("load",t)}})},89:function(t,e){"use strict";e.Z=(t,e)=>{const n=t.__vccOpts||t;for(const[i,r]of e)n[i]=r;return n}},9199:function(t,e,n){"use strict";n.d(e,{HY:function(){return jo},Fl:function(){return $s},ri:function(){return Gc},j4:function(){return es},iD:function(){return ts},_:function(){return cs},Uk:function(){return fs},Wm:function(){return ls},aZ:function(){return Ki},h:function(){return ta},f3:function(){return ki},Y3:function(){return Un},wg:function(){return Ko},JJ:function(){return Ci},qj:function(){return $e},iH:function(){return sn},Ko:function(){return Lr},up:function(){return Sr},XI:function(){return an},zw:function(){return C},SU:function(){return hn},G2:function(){return xc},nr:function(){return Tc},F8:function(){return Bc},YP:function(){return Oi},w5:function(){return ai},wy:function(){return wr},iM:function(){return Dc}});var i={};n.r(i),n.d(i,{BaseTransition:function(){return Vi},Comment:function(){return Ho},EffectScope:function(){return vt},Fragment:function(){return jo},KeepAlive:function(){return tr},ReactiveEffect:function(){return Mt},Static:function(){return qo},Suspense:function(){return _i},Teleport:function(){return zo},Text:function(){return $o},Transition:function(){return Ka},TransitionGroup:function(){return pc},VueElement:function(){return Va},assertNumber:function(){return En},callWithAsyncErrorHandling:function(){return xn},callWithErrorHandling:function(){return Sn},camelize:function(){return ot},capitalize:function(){return ct},cloneVNode:function(){return ds},compatUtils:function(){return ua},computed:function(){return $s},createApp:function(){return Gc},createBlock:function(){return es},createCommentVNode:function(){return ms},createElementBlock:function(){return ts},createElementVNode:function(){return cs},createHydrationRenderer:function(){return ko},createPropsRestProxy:function(){return Qs},createRenderer:function(){return Co},createSSRApp:function(){return Jc},createSlots:function(){return Pr},createStaticVNode:function(){return ps},createTextVNode:function(){return fs},createVNode:function(){return ls},customRef:function(){return mn},defineAsyncComponent:function(){return Ji},defineComponent:function(){return Ki},defineCustomElement:function(){return Fa},defineEmits:function(){return qs},defineExpose:function(){return Ws},defineProps:function(){return Hs},defineSSRCustomElement:function(){return Ba},devtools:function(){return Kn},effect:function(){return Ut},effectScope:function(){return yt},getCurrentInstance:function(){return xs},getCurrentScope:function(){return bt},getTransitionRawChildren:function(){return Zi},guardReactiveProps:function(){return hs},h:function(){return ta},handleError:function(){return In},hydrate:function(){return Kc},initCustomFormatter:function(){return ia},initDirectivesForSSR:function(){return Yc},inject:function(){return ki},isMemoSame:function(){return oa},isProxy:function(){return Xe},isReactive:function(){return Ke},isReadonly:function(){return Ge},isRef:function(){return on},isRuntimeOnly:function(){return Ds},isShallow:function(){return Je},isVNode:function(){return ns},markRaw:function(){return Ye},mergeDefaults:function(){return Xs},mergeProps:function(){return ys},nextTick:function(){return Un},normalizeClass:function(){return f},normalizeProps:function(){return p},normalizeStyle:function(){return c},onActivated:function(){return nr},onBeforeMount:function(){return ur},onBeforeUnmount:function(){return pr},onBeforeUpdate:function(){return dr},onDeactivated:function(){return ir},onErrorCaptured:function(){return yr},onMounted:function(){return hr},onRenderTracked:function(){return vr},onRenderTriggered:function(){return _r},onScopeDispose:function(){return Tt},onServerPrefetch:function(){return gr},onUnmounted:function(){return mr},onUpdated:function(){return fr},openBlock:function(){return Ko},popScopeId:function(){return oi},provide:function(){return Ci},proxyRefs:function(){return fn},pushScopeId:function(){return ri},queuePostFlushCb:function(){return jn},reactive:function(){return $e},readonly:function(){return qe},ref:function(){return sn},registerRuntimeCompiler:function(){return Ms},render:function(){return Zc},renderList:function(){return Lr},renderSlot:function(){return Rr},resolveComponent:function(){return Sr},resolveDirective:function(){return Cr},resolveDynamicComponent:function(){return Ir},resolveFilter:function(){return la},resolveTransitionHooks:function(){return $i},setBlockTracking:function(){return Qo},setDevtoolsHook:function(){return Xn},setTransitionHooks:function(){return Wi},shallowReactive:function(){return He},shallowReadonly:function(){return We},shallowRef:function(){return an},ssrContextKey:function(){return ea},ssrUtils:function(){return ca},stop:function(){return Ft},toDisplayString:function(){return C},toHandlerKey:function(){return lt},toHandlers:function(){return Nr},toRaw:function(){return Qe},toRef:function(){return vn},toRefs:function(){return gn},transformVNodeArgs:function(){return rs},triggerRef:function(){return un},unref:function(){return hn},useAttrs:function(){return Gs},useCssModule:function(){return ja},useCssVars:function(){return $a},useSSRContext:function(){return na},useSlots:function(){return Ks},useTransitionState:function(){return Fi},vModelCheckbox:function(){return Ec},vModelDynamic:function(){return Lc},vModelRadio:function(){return xc},vModelSelect:function(){return Ic},vModelText:function(){return Tc},vShow:function(){return Bc},version:function(){return sa},warn:function(){return Tn},watch:function(){return Oi},watchEffect:function(){return Ai},watchPostEffect:function(){return Li},watchSyncEffect:function(){return Pi},withAsyncContext:function(){return Ys},withCtx:function(){return ai},withDefaults:function(){return Zs},withDirectives:function(){return wr},withKeys:function(){return Fc},withMemo:function(){return ra},withModifiers:function(){return Dc},withScopeId:function(){return si}});n(7658);function r(t,e){const n=Object.create(null),i=t.split(",");for(let r=0;r<i.length;r++)n[i[r]]=!0;return e?t=>!!n[t.toLowerCase()]:t=>!!n[t]}const o={[1]:"TEXT",[2]:"CLASS",[4]:"STYLE",[8]:"PROPS",[16]:"FULL_PROPS",[32]:"HYDRATE_EVENTS",[64]:"STABLE_FRAGMENT",[128]:"KEYED_FRAGMENT",[256]:"UNKEYED_FRAGMENT",[512]:"NEED_PATCH",[1024]:"DYNAMIC_SLOTS",[2048]:"DEV_ROOT_FRAGMENT",[-1]:"HOISTED",[-2]:"BAIL"},s="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt",a=r(s);function c(t){if(z(t)){const e={};for(let n=0;n<t.length;n++){const i=t[n],r=W(i)?d(i):c(i);if(r)for(const t in r)e[t]=r[t]}return e}return W(t)||K(t)?t:void 0}const l=/;(?![^(]*\))/g,u=/:([^]+)/,h=/\/\*.*?\*\//gs;function d(t){const e={};return t.replace(h,"").split(l).forEach((t=>{if(t){const n=t.split(u);n.length>1&&(e[n[0].trim()]=n[1].trim())}})),e}function f(t){let e="";if(W(t))e=t;else if(z(t))for(let n=0;n<t.length;n++){const i=f(t[n]);i&&(e+=i+" ")}else if(K(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function p(t){if(!t)return null;let{class:e,style:n}=t;return e&&!W(e)&&(t.class=f(e)),n&&(t.style=c(n)),t}const m="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",g="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",_="area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr",v=r(m),y=r(g),w=r(_),b="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",T=r(b);function E(t){return!!t||""===t}function S(t,e){if(t.length!==e.length)return!1;let n=!0;for(let i=0;n&&i<t.length;i++)n=x(t[i],e[i]);return n}function x(t,e){if(t===e)return!0;let n=$(t),i=$(e);if(n||i)return!(!n||!i)&&t.getTime()===e.getTime();if(n=Z(t),i=Z(e),n||i)return t===e;if(n=z(t),i=z(e),n||i)return!(!n||!i)&&S(t,e);if(n=K(t),i=K(e),n||i){if(!n||!i)return!1;const r=Object.keys(t).length,o=Object.keys(e).length;if(r!==o)return!1;for(const n in t){const i=t.hasOwnProperty(n),r=e.hasOwnProperty(n);if(i&&!r||!i&&r||!x(t[n],e[n]))return!1}}return String(t)===String(e)}function I(t,e){return t.findIndex((t=>x(t,e)))}const C=t=>W(t)?t:null==t?"":z(t)||K(t)&&(t.toString===J||!q(t.toString))?JSON.stringify(t,k,2):String(t),k=(t,e)=>e&&e.__v_isRef?k(t,e.value):V(e)?{[`Map(${e.size})`]:[...e.entries()].reduce(((t,[e,n])=>(t[`${e} =>`]=n,t)),{})}:j(e)?{[`Set(${e.size})`]:[...e.values()]}:!K(e)||z(e)||Y(e)?e:String(e),A={},L=[],P=()=>{},R=()=>!1,O=/^on[^a-z]/,N=t=>O.test(t),M=t=>t.startsWith("onUpdate:"),D=Object.assign,U=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},F=Object.prototype.hasOwnProperty,B=(t,e)=>F.call(t,e),z=Array.isArray,V=t=>"[object Map]"===X(t),j=t=>"[object Set]"===X(t),$=t=>"[object Date]"===X(t),H=t=>"[object RegExp]"===X(t),q=t=>"function"===typeof t,W=t=>"string"===typeof t,Z=t=>"symbol"===typeof t,K=t=>null!==t&&"object"===typeof t,G=t=>K(t)&&q(t.then)&&q(t.catch),J=Object.prototype.toString,X=t=>J.call(t),Q=t=>X(t).slice(8,-1),Y=t=>"[object Object]"===X(t),tt=t=>W(t)&&"NaN"!==t&&"-"!==t[0]&&""+parseInt(t,10)===t,et=r(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),nt=r("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),it=t=>{const e=Object.create(null);return n=>{const i=e[n];return i||(e[n]=t(n))}},rt=/-(\w)/g,ot=it((t=>t.replace(rt,((t,e)=>e?e.toUpperCase():"")))),st=/\B([A-Z])/g,at=it((t=>t.replace(st,"-$1").toLowerCase())),ct=it((t=>t.charAt(0).toUpperCase()+t.slice(1))),lt=it((t=>t?`on${ct(t)}`:"")),ut=(t,e)=>!Object.is(t,e),ht=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},dt=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},ft=t=>{const e=parseFloat(t);return isNaN(e)?t:e},pt=t=>{const e=W(t)?Number(t):NaN;return isNaN(e)?t:e};let mt;const gt=()=>mt||(mt="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{});n(541);let _t;class vt{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=_t,!t&&_t&&(this.index=(_t.scopes||(_t.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const e=_t;try{return _t=this,t()}finally{_t=e}}else 0}on(){_t=this}off(){_t=this.parent}stop(t){if(this._active){let e,n;for(e=0,n=this.effects.length;e<n;e++)this.effects[e].stop();for(e=0,n=this.cleanups.length;e<n;e++)this.cleanups[e]();if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].stop(!0);if(!this.detached&&this.parent&&!t){const t=this.parent.scopes.pop();t&&t!==this&&(this.parent.scopes[this.index]=t,t.index=this.index)}this.parent=void 0,this._active=!1}}}function yt(t){return new vt(t)}function wt(t,e=_t){e&&e.active&&e.effects.push(t)}function bt(){return _t}function Tt(t){_t&&_t.cleanups.push(t)}const Et=t=>{const e=new Set(t);return e.w=0,e.n=0,e},St=t=>(t.w&Lt)>0,xt=t=>(t.n&Lt)>0,It=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=Lt},Ct=t=>{const{deps:e}=t;if(e.length){let n=0;for(let i=0;i<e.length;i++){const r=e[i];St(r)&&!xt(r)?r.delete(t):e[n++]=r,r.w&=~Lt,r.n&=~Lt}e.length=n}},kt=new WeakMap;let At=0,Lt=1;const Pt=30;let Rt;const Ot=Symbol(""),Nt=Symbol("");class Mt{constructor(t,e=null,n){this.fn=t,this.scheduler=e,this.active=!0,this.deps=[],this.parent=void 0,wt(this,n)}run(){if(!this.active)return this.fn();let t=Rt,e=Bt;while(t){if(t===this)return;t=t.parent}try{return this.parent=Rt,Rt=this,Bt=!0,Lt=1<<++At,At<=Pt?It(this):Dt(this),this.fn()}finally{At<=Pt&&Ct(this),Lt=1<<--At,Rt=this.parent,Bt=e,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Rt===this?this.deferStop=!0:this.active&&(Dt(this),this.onStop&&this.onStop(),this.active=!1)}}function Dt(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}function Ut(t,e){t.effect&&(t=t.effect.fn);const n=new Mt(t);e&&(D(n,e),e.scope&&wt(n,e.scope)),e&&e.lazy||n.run();const i=n.run.bind(n);return i.effect=n,i}function Ft(t){t.effect.stop()}let Bt=!0;const zt=[];function Vt(){zt.push(Bt),Bt=!1}function jt(){const t=zt.pop();Bt=void 0===t||t}function $t(t,e,n){if(Bt&&Rt){let e=kt.get(t);e||kt.set(t,e=new Map);let i=e.get(n);i||e.set(n,i=Et());const r=void 0;Ht(i,r)}}function Ht(t,e){let n=!1;At<=Pt?xt(t)||(t.n|=Lt,n=!St(t)):n=!t.has(Rt),n&&(t.add(Rt),Rt.deps.push(t))}function qt(t,e,n,i,r,o){const s=kt.get(t);if(!s)return;let a=[];if("clear"===e)a=[...s.values()];else if("length"===n&&z(t)){const t=Number(i);s.forEach(((e,n)=>{("length"===n||n>=t)&&a.push(e)}))}else switch(void 0!==n&&a.push(s.get(n)),e){case"add":z(t)?tt(n)&&a.push(s.get("length")):(a.push(s.get(Ot)),V(t)&&a.push(s.get(Nt)));break;case"delete":z(t)||(a.push(s.get(Ot)),V(t)&&a.push(s.get(Nt)));break;case"set":V(t)&&a.push(s.get(Ot));break}if(1===a.length)a[0]&&Wt(a[0]);else{const t=[];for(const e of a)e&&t.push(...e);Wt(Et(t))}}function Wt(t,e){const n=z(t)?t:[...t];for(const i of n)i.computed&&Zt(i,e);for(const i of n)i.computed||Zt(i,e)}function Zt(t,e){(t!==Rt||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}function Kt(t,e){var n;return null===(n=kt.get(t))||void 0===n?void 0:n.get(e)}const Gt=r("__proto__,__v_isRef,__isVue"),Jt=new Set(Object.getOwnPropertyNames(Symbol).filter((t=>"arguments"!==t&&"caller"!==t)).map((t=>Symbol[t])).filter(Z)),Xt=re(),Qt=re(!1,!0),Yt=re(!0),te=re(!0,!0),ee=ne();function ne(){const t={};return["includes","indexOf","lastIndexOf"].forEach((e=>{t[e]=function(...t){const n=Qe(this);for(let e=0,r=this.length;e<r;e++)$t(n,"get",e+"");const i=n[e](...t);return-1===i||!1===i?n[e](...t.map(Qe)):i}})),["push","pop","shift","unshift","splice"].forEach((e=>{t[e]=function(...t){Vt();const n=Qe(this)[e].apply(this,t);return jt(),n}})),t}function ie(t){const e=Qe(this);return $t(e,"has",t),e.hasOwnProperty(t)}function re(t=!1,e=!1){return function(n,i,r){if("__v_isReactive"===i)return!t;if("__v_isReadonly"===i)return t;if("__v_isShallow"===i)return e;if("__v_raw"===i&&r===(t?e?ze:Be:e?Fe:Ue).get(n))return n;const o=z(n);if(!t){if(o&&B(ee,i))return Reflect.get(ee,i,r);if("hasOwnProperty"===i)return ie}const s=Reflect.get(n,i,r);return(Z(i)?Jt.has(i):Gt(i))?s:(t||$t(n,"get",i),e?s:on(s)?o&&tt(i)?s:s.value:K(s)?t?qe(s):$e(s):s)}}const oe=ae(),se=ae(!0);function ae(t=!1){return function(e,n,i,r){let o=e[n];if(Ge(o)&&on(o)&&!on(i))return!1;if(!t&&(Je(i)||Ge(i)||(o=Qe(o),i=Qe(i)),!z(e)&&on(o)&&!on(i)))return o.value=i,!0;const s=z(e)&&tt(n)?Number(n)<e.length:B(e,n),a=Reflect.set(e,n,i,r);return e===Qe(r)&&(s?ut(i,o)&&qt(e,"set",n,i,o):qt(e,"add",n,i)),a}}function ce(t,e){const n=B(t,e),i=t[e],r=Reflect.deleteProperty(t,e);return r&&n&&qt(t,"delete",e,void 0,i),r}function le(t,e){const n=Reflect.has(t,e);return Z(e)&&Jt.has(e)||$t(t,"has",e),n}function ue(t){return $t(t,"iterate",z(t)?"length":Ot),Reflect.ownKeys(t)}const he={get:Xt,set:oe,deleteProperty:ce,has:le,ownKeys:ue},de={get:Yt,set(t,e){return!0},deleteProperty(t,e){return!0}},fe=D({},he,{get:Qt,set:se}),pe=D({},de,{get:te}),me=t=>t,ge=t=>Reflect.getPrototypeOf(t);function _e(t,e,n=!1,i=!1){t=t["__v_raw"];const r=Qe(t),o=Qe(e);n||(e!==o&&$t(r,"get",e),$t(r,"get",o));const{has:s}=ge(r),a=i?me:n?en:tn;return s.call(r,e)?a(t.get(e)):s.call(r,o)?a(t.get(o)):void(t!==r&&t.get(e))}function ve(t,e=!1){const n=this["__v_raw"],i=Qe(n),r=Qe(t);return e||(t!==r&&$t(i,"has",t),$t(i,"has",r)),t===r?n.has(t):n.has(t)||n.has(r)}function ye(t,e=!1){return t=t["__v_raw"],!e&&$t(Qe(t),"iterate",Ot),Reflect.get(t,"size",t)}function we(t){t=Qe(t);const e=Qe(this),n=ge(e),i=n.has.call(e,t);return i||(e.add(t),qt(e,"add",t,t)),this}function be(t,e){e=Qe(e);const n=Qe(this),{has:i,get:r}=ge(n);let o=i.call(n,t);o||(t=Qe(t),o=i.call(n,t));const s=r.call(n,t);return n.set(t,e),o?ut(e,s)&&qt(n,"set",t,e,s):qt(n,"add",t,e),this}function Te(t){const e=Qe(this),{has:n,get:i}=ge(e);let r=n.call(e,t);r||(t=Qe(t),r=n.call(e,t));const o=i?i.call(e,t):void 0,s=e.delete(t);return r&&qt(e,"delete",t,void 0,o),s}function Ee(){const t=Qe(this),e=0!==t.size,n=void 0,i=t.clear();return e&&qt(t,"clear",void 0,void 0,n),i}function Se(t,e){return function(n,i){const r=this,o=r["__v_raw"],s=Qe(o),a=e?me:t?en:tn;return!t&&$t(s,"iterate",Ot),o.forEach(((t,e)=>n.call(i,a(t),a(e),r)))}}function xe(t,e,n){return function(...i){const r=this["__v_raw"],o=Qe(r),s=V(o),a="entries"===t||t===Symbol.iterator&&s,c="keys"===t&&s,l=r[t](...i),u=n?me:e?en:tn;return!e&&$t(o,"iterate",c?Nt:Ot),{next(){const{value:t,done:e}=l.next();return e?{value:t,done:e}:{value:a?[u(t[0]),u(t[1])]:u(t),done:e}},[Symbol.iterator](){return this}}}}function Ie(t){return function(...e){return"delete"!==t&&this}}function Ce(){const t={get(t){return _e(this,t)},get size(){return ye(this)},has:ve,add:we,set:be,delete:Te,clear:Ee,forEach:Se(!1,!1)},e={get(t){return _e(this,t,!1,!0)},get size(){return ye(this)},has:ve,add:we,set:be,delete:Te,clear:Ee,forEach:Se(!1,!0)},n={get(t){return _e(this,t,!0)},get size(){return ye(this,!0)},has(t){return ve.call(this,t,!0)},add:Ie("add"),set:Ie("set"),delete:Ie("delete"),clear:Ie("clear"),forEach:Se(!0,!1)},i={get(t){return _e(this,t,!0,!0)},get size(){return ye(this,!0)},has(t){return ve.call(this,t,!0)},add:Ie("add"),set:Ie("set"),delete:Ie("delete"),clear:Ie("clear"),forEach:Se(!0,!0)},r=["keys","values","entries",Symbol.iterator];return r.forEach((r=>{t[r]=xe(r,!1,!1),n[r]=xe(r,!0,!1),e[r]=xe(r,!1,!0),i[r]=xe(r,!0,!0)})),[t,n,e,i]}const[ke,Ae,Le,Pe]=Ce();function Re(t,e){const n=e?t?Pe:Le:t?Ae:ke;return(e,i,r)=>"__v_isReactive"===i?!t:"__v_isReadonly"===i?t:"__v_raw"===i?e:Reflect.get(B(n,i)&&i in e?n:e,i,r)}const Oe={get:Re(!1,!1)},Ne={get:Re(!1,!0)},Me={get:Re(!0,!1)},De={get:Re(!0,!0)};const Ue=new WeakMap,Fe=new WeakMap,Be=new WeakMap,ze=new WeakMap;function Ve(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function je(t){return t["__v_skip"]||!Object.isExtensible(t)?0:Ve(Q(t))}function $e(t){return Ge(t)?t:Ze(t,!1,he,Oe,Ue)}function He(t){return Ze(t,!1,fe,Ne,Fe)}function qe(t){return Ze(t,!0,de,Me,Be)}function We(t){return Ze(t,!0,pe,De,ze)}function Ze(t,e,n,i,r){if(!K(t))return t;if(t["__v_raw"]&&(!e||!t["__v_isReactive"]))return t;const o=r.get(t);if(o)return o;const s=je(t);if(0===s)return t;const a=new Proxy(t,2===s?i:n);return r.set(t,a),a}function Ke(t){return Ge(t)?Ke(t["__v_raw"]):!(!t||!t["__v_isReactive"])}function Ge(t){return!(!t||!t["__v_isReadonly"])}function Je(t){return!(!t||!t["__v_isShallow"])}function Xe(t){return Ke(t)||Ge(t)}function Qe(t){const e=t&&t["__v_raw"];return e?Qe(e):t}function Ye(t){return dt(t,"__v_skip",!0),t}const tn=t=>K(t)?$e(t):t,en=t=>K(t)?qe(t):t;function nn(t){Bt&&Rt&&(t=Qe(t),Ht(t.dep||(t.dep=Et())))}function rn(t,e){t=Qe(t);const n=t.dep;n&&Wt(n)}function on(t){return!(!t||!0!==t.__v_isRef)}function sn(t){return cn(t,!1)}function an(t){return cn(t,!0)}function cn(t,e){return on(t)?t:new ln(t,e)}class ln{constructor(t,e){this.__v_isShallow=e,this.dep=void 0,this.__v_isRef=!0,this._rawValue=e?t:Qe(t),this._value=e?t:tn(t)}get value(){return nn(this),this._value}set value(t){const e=this.__v_isShallow||Je(t)||Ge(t);t=e?t:Qe(t),ut(t,this._rawValue)&&(this._rawValue=t,this._value=e?t:tn(t),rn(this,t))}}function un(t){rn(t,void 0)}function hn(t){return on(t)?t.value:t}const dn={get:(t,e,n)=>hn(Reflect.get(t,e,n)),set:(t,e,n,i)=>{const r=t[e];return on(r)&&!on(n)?(r.value=n,!0):Reflect.set(t,e,n,i)}};function fn(t){return Ke(t)?t:new Proxy(t,dn)}class pn{constructor(t){this.dep=void 0,this.__v_isRef=!0;const{get:e,set:n}=t((()=>nn(this)),(()=>rn(this)));this._get=e,this._set=n}get value(){return this._get()}set value(t){this._set(t)}}function mn(t){return new pn(t)}function gn(t){const e=z(t)?new Array(t.length):{};for(const n in t)e[n]=vn(t,n);return e}class _n{constructor(t,e,n){this._object=t,this._key=e,this._defaultValue=n,this.__v_isRef=!0}get value(){const t=this._object[this._key];return void 0===t?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return Kt(Qe(this._object),this._key)}}function vn(t,e,n){const i=t[e];return on(i)?i:new _n(t,e,n)}var yn;class wn{constructor(t,e,n,i){this._setter=e,this.dep=void 0,this.__v_isRef=!0,this[yn]=!1,this._dirty=!0,this.effect=new Mt(t,(()=>{this._dirty||(this._dirty=!0,rn(this))})),this.effect.computed=this,this.effect.active=this._cacheable=!i,this["__v_isReadonly"]=n}get value(){const t=Qe(this);return nn(t),!t._dirty&&t._cacheable||(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function bn(t,e,n=!1){let i,r;const o=q(t);o?(i=t,r=P):(i=t.get,r=t.set);const s=new wn(i,r,o||!r,n);return s}yn="__v_isReadonly";function Tn(t,...e){}function En(t,e){}function Sn(t,e,n,i){let r;try{r=i?t(...i):t()}catch(o){In(o,e,n)}return r}function xn(t,e,n,i){if(q(t)){const r=Sn(t,e,n,i);return r&&G(r)&&r.catch((t=>{In(t,e,n)})),r}const r=[];for(let o=0;o<t.length;o++)r.push(xn(t[o],e,n,i));return r}function In(t,e,n,i=!0){const r=e?e.vnode:null;if(e){let i=e.parent;const r=e.proxy,o=n;while(i){const e=i.ec;if(e)for(let n=0;n<e.length;n++)if(!1===e[n](t,r,o))return;i=i.parent}const s=e.appContext.config.errorHandler;if(s)return void Sn(s,null,10,[t,r,o])}Cn(t,n,r,i)}function Cn(t,e,n,i=!0){console.error(t)}let kn=!1,An=!1;const Ln=[];let Pn=0;const Rn=[];let On=null,Nn=0;const Mn=Promise.resolve();let Dn=null;function Un(t){const e=Dn||Mn;return t?e.then(this?t.bind(this):t):e}function Fn(t){let e=Pn+1,n=Ln.length;while(e<n){const i=e+n>>>1,r=qn(Ln[i]);r<t?e=i+1:n=i}return e}function Bn(t){Ln.length&&Ln.includes(t,kn&&t.allowRecurse?Pn+1:Pn)||(null==t.id?Ln.push(t):Ln.splice(Fn(t.id),0,t),zn())}function zn(){kn||An||(An=!0,Dn=Mn.then(Zn))}function Vn(t){const e=Ln.indexOf(t);e>Pn&&Ln.splice(e,1)}function jn(t){z(t)?Rn.push(...t):On&&On.includes(t,t.allowRecurse?Nn+1:Nn)||Rn.push(t),zn()}function $n(t,e=(kn?Pn+1:0)){for(0;e<Ln.length;e++){const t=Ln[e];t&&t.pre&&(Ln.splice(e,1),e--,t())}}function Hn(t){if(Rn.length){const t=[...new Set(Rn)];if(Rn.length=0,On)return void On.push(...t);for(On=t,On.sort(((t,e)=>qn(t)-qn(e))),Nn=0;Nn<On.length;Nn++)On[Nn]();On=null,Nn=0}}const qn=t=>null==t.id?1/0:t.id,Wn=(t,e)=>{const n=qn(t)-qn(e);if(0===n){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function Zn(t){An=!1,kn=!0,Ln.sort(Wn);try{for(Pn=0;Pn<Ln.length;Pn++){const t=Ln[Pn];t&&!1!==t.active&&Sn(t,null,14)}}finally{Pn=0,Ln.length=0,Hn(t),kn=!1,Dn=null,(Ln.length||Rn.length)&&Zn(t)}}new Set;new Map;let Kn,Gn=[],Jn=!1;function Xn(t,e){var n,i;if(Kn=t,Kn)Kn.enabled=!0,Gn.forEach((({event:t,args:e})=>Kn.emit(t,...e))),Gn=[];else if("undefined"!==typeof window&&window.HTMLElement&&!(null===(i=null===(n=window.navigator)||void 0===n?void 0:n.userAgent)||void 0===i?void 0:i.includes("jsdom"))){const t=e.__VUE_DEVTOOLS_HOOK_REPLAY__=e.__VUE_DEVTOOLS_HOOK_REPLAY__||[];t.push((t=>{Xn(t,e)})),setTimeout((()=>{Kn||(e.__VUE_DEVTOOLS_HOOK_REPLAY__=null,Jn=!0,Gn=[])}),3e3)}else Jn=!0,Gn=[]}function Qn(t,e,...n){if(t.isUnmounted)return;const i=t.vnode.props||A;let r=n;const o=e.startsWith("update:"),s=o&&e.slice(7);if(s&&s in i){const t=`${"modelValue"===s?"model":s}Modifiers`,{number:e,trim:o}=i[t]||A;o&&(r=n.map((t=>W(t)?t.trim():t))),e&&(r=n.map(ft))}let a;let c=i[a=lt(e)]||i[a=lt(ot(e))];!c&&o&&(c=i[a=lt(at(e))]),c&&xn(c,t,6,r);const l=i[a+"Once"];if(l){if(t.emitted){if(t.emitted[a])return}else t.emitted={};t.emitted[a]=!0,xn(l,t,6,r)}}function Yn(t,e,n=!1){const i=e.emitsCache,r=i.get(t);if(void 0!==r)return r;const o=t.emits;let s={},a=!1;if(!q(t)){const i=t=>{const n=Yn(t,e,!0);n&&(a=!0,D(s,n))};!n&&e.mixins.length&&e.mixins.forEach(i),t.extends&&i(t.extends),t.mixins&&t.mixins.forEach(i)}return o||a?(z(o)?o.forEach((t=>s[t]=null)):D(s,o),K(t)&&i.set(t,s),s):(K(t)&&i.set(t,null),null)}function ti(t,e){return!(!t||!N(e))&&(e=e.slice(2).replace(/Once$/,""),B(t,e[0].toLowerCase()+e.slice(1))||B(t,at(e))||B(t,e))}let ei=null,ni=null;function ii(t){const e=ei;return ei=t,ni=t&&t.type.__scopeId||null,e}function ri(t){ni=t}function oi(){ni=null}const si=t=>ai;function ai(t,e=ei,n){if(!e)return t;if(t._n)return t;const i=(...n)=>{i._d&&Qo(-1);const r=ii(e);let o;try{o=t(...n)}finally{ii(r),i._d&&Qo(1)}return o};return i._n=!0,i._c=!0,i._d=!0,i}function ci(t){const{type:e,vnode:n,proxy:i,withProxy:r,props:o,propsOptions:[s],slots:a,attrs:c,emit:l,render:u,renderCache:h,data:d,setupState:f,ctx:p,inheritAttrs:m}=t;let g,_;const v=ii(t);try{if(4&n.shapeFlag){const t=r||i;g=gs(u.call(t,t,h,o,f,d,p)),_=c}else{const t=e;0,g=gs(t.length>1?t(o,{attrs:c,slots:a,emit:l}):t(o,null)),_=e.props?c:ui(c)}}catch(w){Wo.length=0,In(w,t,1),g=ls(Ho)}let y=g;if(_&&!1!==m){const t=Object.keys(_),{shapeFlag:e}=y;t.length&&7&e&&(s&&t.some(M)&&(_=hi(_,s)),y=ds(y,_))}return n.dirs&&(y=ds(y),y.dirs=y.dirs?y.dirs.concat(n.dirs):n.dirs),n.transition&&(y.transition=n.transition),g=y,ii(v),g}function li(t){let e;for(let n=0;n<t.length;n++){const i=t[n];if(!ns(i))return;if(i.type!==Ho||"v-if"===i.children){if(e)return;e=i}}return e}const ui=t=>{let e;for(const n in t)("class"===n||"style"===n||N(n))&&((e||(e={}))[n]=t[n]);return e},hi=(t,e)=>{const n={};for(const i in t)M(i)&&i.slice(9)in e||(n[i]=t[i]);return n};function di(t,e,n){const{props:i,children:r,component:o}=t,{props:s,children:a,patchFlag:c}=e,l=o.emitsOptions;if(e.dirs||e.transition)return!0;if(!(n&&c>=0))return!(!r&&!a||a&&a.$stable)||i!==s&&(i?!s||fi(i,s,l):!!s);if(1024&c)return!0;if(16&c)return i?fi(i,s,l):!!s;if(8&c){const t=e.dynamicProps;for(let e=0;e<t.length;e++){const n=t[e];if(s[n]!==i[n]&&!ti(l,n))return!0}}return!1}function fi(t,e,n){const i=Object.keys(e);if(i.length!==Object.keys(t).length)return!0;for(let r=0;r<i.length;r++){const o=i[r];if(e[o]!==t[o]&&!ti(n,o))return!0}return!1}function pi({vnode:t,parent:e},n){while(e&&e.subTree===t)(t=e.vnode).el=n,e=e.parent}const mi=t=>t.__isSuspense,gi={name:"Suspense",__isSuspense:!0,process(t,e,n,i,r,o,s,a,c,l){null==t?yi(e,n,i,r,o,s,a,c,l):wi(t,e,n,i,r,s,a,c,l)},hydrate:Ti,create:bi,normalize:Ei},_i=gi;function vi(t,e){const n=t.props&&t.props[e];q(n)&&n()}function yi(t,e,n,i,r,o,s,a,c){const{p:l,o:{createElement:u}}=c,h=u("div"),d=t.suspense=bi(t,r,i,e,h,n,o,s,a,c);l(null,d.pendingBranch=t.ssContent,h,null,i,d,o,s),d.deps>0?(vi(t,"onPending"),vi(t,"onFallback"),l(null,t.ssFallback,e,n,i,null,o,s),Ii(d,t.ssFallback)):d.resolve()}function wi(t,e,n,i,r,o,s,a,{p:c,um:l,o:{createElement:u}}){const h=e.suspense=t.suspense;h.vnode=e,e.el=t.el;const d=e.ssContent,f=e.ssFallback,{activeBranch:p,pendingBranch:m,isInFallback:g,isHydrating:_}=h;if(m)h.pendingBranch=d,is(d,m)?(c(m,d,h.hiddenContainer,null,r,h,o,s,a),h.deps<=0?h.resolve():g&&(c(p,f,n,i,r,null,o,s,a),Ii(h,f))):(h.pendingId++,_?(h.isHydrating=!1,h.activeBranch=m):l(m,r,h),h.deps=0,h.effects.length=0,h.hiddenContainer=u("div"),g?(c(null,d,h.hiddenContainer,null,r,h,o,s,a),h.deps<=0?h.resolve():(c(p,f,n,i,r,null,o,s,a),Ii(h,f))):p&&is(d,p)?(c(p,d,n,i,r,h,o,s,a),h.resolve(!0)):(c(null,d,h.hiddenContainer,null,r,h,o,s,a),h.deps<=0&&h.resolve()));else if(p&&is(d,p))c(p,d,n,i,r,h,o,s,a),Ii(h,d);else if(vi(e,"onPending"),h.pendingBranch=d,h.pendingId++,c(null,d,h.hiddenContainer,null,r,h,o,s,a),h.deps<=0)h.resolve();else{const{timeout:t,pendingId:e}=h;t>0?setTimeout((()=>{h.pendingId===e&&h.fallback(f)}),t):0===t&&h.fallback(f)}}function bi(t,e,n,i,r,o,s,a,c,l,u=!1){const{p:h,m:d,um:f,n:p,o:{parentNode:m,remove:g}}=l,_=t.props?pt(t.props.timeout):void 0;const v={vnode:t,parent:e,parentComponent:n,isSVG:s,container:i,hiddenContainer:r,anchor:o,deps:0,pendingId:0,timeout:"number"===typeof _?_:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:u,isUnmounted:!1,effects:[],resolve(t=!1){const{vnode:e,activeBranch:n,pendingBranch:i,pendingId:r,effects:o,parentComponent:s,container:a}=v;if(v.isHydrating)v.isHydrating=!1;else if(!t){const t=n&&i.transition&&"out-in"===i.transition.mode;t&&(n.transition.afterLeave=()=>{r===v.pendingId&&d(i,a,e,0)});let{anchor:e}=v;n&&(e=p(n),f(n,s,v,!0)),t||d(i,a,e,0)}Ii(v,i),v.pendingBranch=null,v.isInFallback=!1;let c=v.parent,l=!1;while(c){if(c.pendingBranch){c.effects.push(...o),l=!0;break}c=c.parent}l||jn(o),v.effects=[],vi(e,"onResolve")},fallback(t){if(!v.pendingBranch)return;const{vnode:e,activeBranch:n,parentComponent:i,container:r,isSVG:o}=v;vi(e,"onFallback");const s=p(n),l=()=>{v.isInFallback&&(h(null,t,r,s,i,null,o,a,c),Ii(v,t))},u=t.transition&&"out-in"===t.transition.mode;u&&(n.transition.afterLeave=l),v.isInFallback=!0,f(n,i,null,!0),u||l()},move(t,e,n){v.activeBranch&&d(v.activeBranch,t,e,n),v.container=t},next(){return v.activeBranch&&p(v.activeBranch)},registerDep(t,e){const n=!!v.pendingBranch;n&&v.deps++;const i=t.vnode.el;t.asyncDep.catch((e=>{In(e,t,0)})).then((r=>{if(t.isUnmounted||v.isUnmounted||v.pendingId!==t.suspenseId)return;t.asyncResolved=!0;const{vnode:o}=t;Ns(t,r,!1),i&&(o.el=i);const a=!i&&t.subTree.el;e(t,o,m(i||t.subTree.el),i?null:p(t.subTree),v,s,c),a&&g(a),pi(t,o.el),n&&0===--v.deps&&v.resolve()}))},unmount(t,e){v.isUnmounted=!0,v.activeBranch&&f(v.activeBranch,n,t,e),v.pendingBranch&&f(v.pendingBranch,n,t,e)}};return v}function Ti(t,e,n,i,r,o,s,a,c){const l=e.suspense=bi(e,i,n,t.parentNode,document.createElement("div"),null,r,o,s,a,!0),u=c(t,l.pendingBranch=e.ssContent,n,l,o,s);return 0===l.deps&&l.resolve(),u}function Ei(t){const{shapeFlag:e,children:n}=t,i=32&e;t.ssContent=Si(i?n.default:n),t.ssFallback=i?Si(n.fallback):ls(Ho)}function Si(t){let e;if(q(t)){const n=Xo&&t._c;n&&(t._d=!1,Ko()),t=t(),n&&(t._d=!0,e=Zo,Go())}if(z(t)){const e=li(t);0,t=e}return t=gs(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter((e=>e!==t))),t}function xi(t,e){e&&e.pendingBranch?z(t)?e.effects.push(...t):e.effects.push(t):jn(t)}function Ii(t,e){t.activeBranch=e;const{vnode:n,parentComponent:i}=t,r=n.el=e.el;i&&i.subTree===n&&(i.vnode.el=r,pi(i,r))}function Ci(t,e){if(Ss){let n=Ss.provides;const i=Ss.parent&&Ss.parent.provides;i===n&&(n=Ss.provides=Object.create(i)),n[t]=e}else 0}function ki(t,e,n=!1){const i=Ss||ei;if(i){const r=null==i.parent?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides;if(r&&t in r)return r[t];if(arguments.length>1)return n&&q(e)?e.call(i.proxy):e}else 0}function Ai(t,e){return Ni(t,null,e)}function Li(t,e){return Ni(t,null,{flush:"post"})}function Pi(t,e){return Ni(t,null,{flush:"sync"})}const Ri={};function Oi(t,e,n){return Ni(t,e,n)}function Ni(t,e,{immediate:n,deep:i,flush:r,onTrack:o,onTrigger:s}=A){const a=bt()===(null===Ss||void 0===Ss?void 0:Ss.scope)?Ss:null;let c,l,u=!1,h=!1;if(on(t)?(c=()=>t.value,u=Je(t)):Ke(t)?(c=()=>t,i=!0):z(t)?(h=!0,u=t.some((t=>Ke(t)||Je(t))),c=()=>t.map((t=>on(t)?t.value:Ke(t)?Ui(t):q(t)?Sn(t,a,2):void 0))):c=q(t)?e?()=>Sn(t,a,2):()=>{if(!a||!a.isUnmounted)return l&&l(),xn(t,a,3,[f])}:P,e&&i){const t=c;c=()=>Ui(t())}let d,f=t=>{l=_.onStop=()=>{Sn(t,a,4)}};if(Ps){if(f=P,e?n&&xn(e,a,3,[c(),h?[]:void 0,f]):c(),"sync"!==r)return P;{const t=na();d=t.__watcherHandles||(t.__watcherHandles=[])}}let p=h?new Array(t.length).fill(Ri):Ri;const m=()=>{if(_.active)if(e){const t=_.run();(i||u||(h?t.some(((t,e)=>ut(t,p[e]))):ut(t,p)))&&(l&&l(),xn(e,a,3,[t,p===Ri?void 0:h&&p[0]===Ri?[]:p,f]),p=t)}else _.run()};let g;m.allowRecurse=!!e,"sync"===r?g=m:"post"===r?g=()=>Io(m,a&&a.suspense):(m.pre=!0,a&&(m.id=a.uid),g=()=>Bn(m));const _=new Mt(c,g);e?n?m():p=_.run():"post"===r?Io(_.run.bind(_),a&&a.suspense):_.run();const v=()=>{_.stop(),a&&a.scope&&U(a.scope.effects,_)};return d&&d.push(v),v}function Mi(t,e,n){const i=this.proxy,r=W(t)?t.includes(".")?Di(i,t):()=>i[t]:t.bind(i,i);let o;q(e)?o=e:(o=e.handler,n=e);const s=Ss;Is(this);const a=Ni(r,o.bind(i),n);return s?Is(s):Cs(),a}function Di(t,e){const n=e.split(".");return()=>{let e=t;for(let t=0;t<n.length&&e;t++)e=e[n[t]];return e}}function Ui(t,e){if(!K(t)||t["__v_skip"])return t;if(e=e||new Set,e.has(t))return t;if(e.add(t),on(t))Ui(t.value,e);else if(z(t))for(let n=0;n<t.length;n++)Ui(t[n],e);else if(j(t)||V(t))t.forEach((t=>{Ui(t,e)}));else if(Y(t))for(const n in t)Ui(t[n],e);return t}function Fi(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return hr((()=>{t.isMounted=!0})),pr((()=>{t.isUnmounting=!0})),t}const Bi=[Function,Array],zi={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Bi,onEnter:Bi,onAfterEnter:Bi,onEnterCancelled:Bi,onBeforeLeave:Bi,onLeave:Bi,onAfterLeave:Bi,onLeaveCancelled:Bi,onBeforeAppear:Bi,onAppear:Bi,onAfterAppear:Bi,onAppearCancelled:Bi},setup(t,{slots:e}){const n=xs(),i=Fi();let r;return()=>{const o=e.default&&Zi(e.default(),!0);if(!o||!o.length)return;let s=o[0];if(o.length>1){let t=!1;for(const e of o)if(e.type!==Ho){0,s=e,t=!0;break}}const a=Qe(t),{mode:c}=a;if(i.isLeaving)return Hi(s);const l=qi(s);if(!l)return Hi(s);const u=$i(l,a,i,n);Wi(l,u);const h=n.subTree,d=h&&qi(h);let f=!1;const{getTransitionKey:p}=l.type;if(p){const t=p();void 0===r?r=t:t!==r&&(r=t,f=!0)}if(d&&d.type!==Ho&&(!is(l,d)||f)){const t=$i(d,a,i,n);if(Wi(d,t),"out-in"===c)return i.isLeaving=!0,t.afterLeave=()=>{i.isLeaving=!1,!1!==n.update.active&&n.update()},Hi(s);"in-out"===c&&l.type!==Ho&&(t.delayLeave=(t,e,n)=>{const r=ji(i,d);r[String(d.key)]=d,t._leaveCb=()=>{e(),t._leaveCb=void 0,delete u.delayedLeave},u.delayedLeave=n})}return s}}},Vi=zi;function ji(t,e){const{leavingVNodes:n}=t;let i=n.get(e.type);return i||(i=Object.create(null),n.set(e.type,i)),i}function $i(t,e,n,i){const{appear:r,mode:o,persisted:s=!1,onBeforeEnter:a,onEnter:c,onAfterEnter:l,onEnterCancelled:u,onBeforeLeave:h,onLeave:d,onAfterLeave:f,onLeaveCancelled:p,onBeforeAppear:m,onAppear:g,onAfterAppear:_,onAppearCancelled:v}=e,y=String(t.key),w=ji(n,t),b=(t,e)=>{t&&xn(t,i,9,e)},T=(t,e)=>{const n=e[1];b(t,e),z(t)?t.every((t=>t.length<=1))&&n():t.length<=1&&n()},E={mode:o,persisted:s,beforeEnter(e){let i=a;if(!n.isMounted){if(!r)return;i=m||a}e._leaveCb&&e._leaveCb(!0);const o=w[y];o&&is(t,o)&&o.el._leaveCb&&o.el._leaveCb(),b(i,[e])},enter(t){let e=c,i=l,o=u;if(!n.isMounted){if(!r)return;e=g||c,i=_||l,o=v||u}let s=!1;const a=t._enterCb=e=>{s||(s=!0,b(e?o:i,[t]),E.delayedLeave&&E.delayedLeave(),t._enterCb=void 0)};e?T(e,[t,a]):a()},leave(e,i){const r=String(t.key);if(e._enterCb&&e._enterCb(!0),n.isUnmounting)return i();b(h,[e]);let o=!1;const s=e._leaveCb=n=>{o||(o=!0,i(),b(n?p:f,[e]),e._leaveCb=void 0,w[r]===t&&delete w[r])};w[r]=t,d?T(d,[e,s]):s()},clone(t){return $i(t,e,n,i)}};return E}function Hi(t){if(Qi(t))return t=ds(t),t.children=null,t}function qi(t){return Qi(t)?t.children?t.children[0]:void 0:t}function Wi(t,e){6&t.shapeFlag&&t.component?Wi(t.component.subTree,e):128&t.shapeFlag?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Zi(t,e=!1,n){let i=[],r=0;for(let o=0;o<t.length;o++){let s=t[o];const a=null==n?s.key:String(n)+String(null!=s.key?s.key:o);s.type===jo?(128&s.patchFlag&&r++,i=i.concat(Zi(s.children,e,a))):(e||s.type!==Ho)&&i.push(null!=a?ds(s,{key:a}):s)}if(r>1)for(let o=0;o<i.length;o++)i[o].patchFlag=-2;return i}function Ki(t){return q(t)?{setup:t,name:t.name}:t}const Gi=t=>!!t.type.__asyncLoader;function Ji(t){q(t)&&(t={loader:t});const{loader:e,loadingComponent:n,errorComponent:i,delay:r=200,timeout:o,suspensible:s=!0,onError:a}=t;let c,l=null,u=0;const h=()=>(u++,l=null,d()),d=()=>{let t;return l||(t=l=e().catch((t=>{if(t=t instanceof Error?t:new Error(String(t)),a)return new Promise(((e,n)=>{const i=()=>e(h()),r=()=>n(t);a(t,i,r,u+1)}));throw t})).then((e=>t!==l&&l?l:(e&&(e.__esModule||"Module"===e[Symbol.toStringTag])&&(e=e.default),c=e,e))))};return Ki({name:"AsyncComponentWrapper",__asyncLoader:d,get __asyncResolved(){return c},setup(){const t=Ss;if(c)return()=>Xi(c,t);const e=e=>{l=null,In(e,t,13,!i)};if(s&&t.suspense||Ps)return d().then((e=>()=>Xi(e,t))).catch((t=>(e(t),()=>i?ls(i,{error:t}):null)));const a=sn(!1),u=sn(),h=sn(!!r);return r&&setTimeout((()=>{h.value=!1}),r),null!=o&&setTimeout((()=>{if(!a.value&&!u.value){const t=new Error(`Async component timed out after ${o}ms.`);e(t),u.value=t}}),o),d().then((()=>{a.value=!0,t.parent&&Qi(t.parent.vnode)&&Bn(t.parent.update)})).catch((t=>{e(t),u.value=t})),()=>a.value&&c?Xi(c,t):u.value&&i?ls(i,{error:u.value}):n&&!h.value?ls(n):void 0}})}function Xi(t,e){const{ref:n,props:i,children:r,ce:o}=e.vnode,s=ls(t,i,r);return s.ref=n,s.ce=o,delete e.vnode.ce,s}const Qi=t=>t.type.__isKeepAlive,Yi={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:e}){const n=xs(),i=n.ctx;if(!i.renderer)return()=>{const t=e.default&&e.default();return t&&1===t.length?t[0]:t};const r=new Map,o=new Set;let s=null;const a=n.suspense,{renderer:{p:c,m:l,um:u,o:{createElement:h}}}=i,d=h("div");function f(t){sr(t),u(t,n,a,!0)}function p(t){r.forEach(((e,n)=>{const i=Vs(e.type);!i||t&&t(i)||m(n)}))}function m(t){const e=r.get(t);s&&is(e,s)?s&&sr(s):f(e),r.delete(t),o.delete(t)}i.activate=(t,e,n,i,r)=>{const o=t.component;l(t,e,n,0,a),c(o.vnode,t,e,n,o,a,i,t.slotScopeIds,r),Io((()=>{o.isDeactivated=!1,o.a&&ht(o.a);const e=t.props&&t.props.onVnodeMounted;e&&ws(e,o.parent,t)}),a)},i.deactivate=t=>{const e=t.component;l(t,d,null,1,a),Io((()=>{e.da&&ht(e.da);const n=t.props&&t.props.onVnodeUnmounted;n&&ws(n,e.parent,t),e.isDeactivated=!0}),a)},Oi((()=>[t.include,t.exclude]),(([t,e])=>{t&&p((e=>er(t,e))),e&&p((t=>!er(e,t)))}),{flush:"post",deep:!0});let g=null;const _=()=>{null!=g&&r.set(g,ar(n.subTree))};return hr(_),fr(_),pr((()=>{r.forEach((t=>{const{subTree:e,suspense:i}=n,r=ar(e);if(t.type!==r.type||t.key!==r.key)f(t);else{sr(r);const t=r.component.da;t&&Io(t,i)}}))})),()=>{if(g=null,!e.default)return null;const n=e.default(),i=n[0];if(n.length>1)return s=null,n;if(!ns(i)||!(4&i.shapeFlag)&&!(128&i.shapeFlag))return s=null,i;let a=ar(i);const c=a.type,l=Vs(Gi(a)?a.type.__asyncResolved||{}:c),{include:u,exclude:h,max:d}=t;if(u&&(!l||!er(u,l))||h&&l&&er(h,l))return s=a,i;const f=null==a.key?c:a.key,p=r.get(f);return a.el&&(a=ds(a),128&i.shapeFlag&&(i.ssContent=a)),g=f,p?(a.el=p.el,a.component=p.component,a.transition&&Wi(a,a.transition),a.shapeFlag|=512,o.delete(f),o.add(f)):(o.add(f),d&&o.size>parseInt(d,10)&&m(o.values().next().value)),a.shapeFlag|=256,s=a,mi(i.type)?i:a}}},tr=Yi;function er(t,e){return z(t)?t.some((t=>er(t,e))):W(t)?t.split(",").includes(e):!!H(t)&&t.test(e)}function nr(t,e){rr(t,"a",e)}function ir(t,e){rr(t,"da",e)}function rr(t,e,n=Ss){const i=t.__wdc||(t.__wdc=()=>{let e=n;while(e){if(e.isDeactivated)return;e=e.parent}return t()});if(cr(e,i,n),n){let t=n.parent;while(t&&t.parent)Qi(t.parent.vnode)&&or(i,e,n,t),t=t.parent}}function or(t,e,n,i){const r=cr(e,t,i,!0);mr((()=>{U(i[e],r)}),n)}function sr(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function ar(t){return 128&t.shapeFlag?t.ssContent:t}function cr(t,e,n=Ss,i=!1){if(n){const r=n[t]||(n[t]=[]),o=e.__weh||(e.__weh=(...i)=>{if(n.isUnmounted)return;Vt(),Is(n);const r=xn(e,n,t,i);return Cs(),jt(),r});return i?r.unshift(o):r.push(o),o}}const lr=t=>(e,n=Ss)=>(!Ps||"sp"===t)&&cr(t,((...t)=>e(...t)),n),ur=lr("bm"),hr=lr("m"),dr=lr("bu"),fr=lr("u"),pr=lr("bum"),mr=lr("um"),gr=lr("sp"),_r=lr("rtg"),vr=lr("rtc");function yr(t,e=Ss){cr("ec",t,e)}function wr(t,e){const n=ei;if(null===n)return t;const i=zs(n)||n.proxy,r=t.dirs||(t.dirs=[]);for(let o=0;o<e.length;o++){let[t,n,s,a=A]=e[o];t&&(q(t)&&(t={mounted:t,updated:t}),t.deep&&Ui(n),r.push({dir:t,instance:i,value:n,oldValue:void 0,arg:s,modifiers:a}))}return t}function br(t,e,n,i){const r=t.dirs,o=e&&e.dirs;for(let s=0;s<r.length;s++){const a=r[s];o&&(a.oldValue=o[s].value);let c=a.dir[i];c&&(Vt(),xn(c,n,8,[t.el,a,t,e]),jt())}}const Tr="components",Er="directives";function Sr(t,e){return kr(Tr,t,!0,e)||t}const xr=Symbol();function Ir(t){return W(t)?kr(Tr,t,!1)||t:t||xr}function Cr(t){return kr(Er,t)}function kr(t,e,n=!0,i=!1){const r=ei||Ss;if(r){const n=r.type;if(t===Tr){const t=Vs(n,!1);if(t&&(t===e||t===ot(e)||t===ct(ot(e))))return n}const o=Ar(r[t]||n[t],e)||Ar(r.appContext[t],e);return!o&&i?n:o}}function Ar(t,e){return t&&(t[e]||t[ot(e)]||t[ct(ot(e))])}function Lr(t,e,n,i){let r;const o=n&&n[i];if(z(t)||W(t)){r=new Array(t.length);for(let n=0,i=t.length;n<i;n++)r[n]=e(t[n],n,void 0,o&&o[n])}else if("number"===typeof t){0,r=new Array(t);for(let n=0;n<t;n++)r[n]=e(n+1,n,void 0,o&&o[n])}else if(K(t))if(t[Symbol.iterator])r=Array.from(t,((t,n)=>e(t,n,void 0,o&&o[n])));else{const n=Object.keys(t);r=new Array(n.length);for(let i=0,s=n.length;i<s;i++){const s=n[i];r[i]=e(t[s],s,i,o&&o[i])}}else r=[];return n&&(n[i]=r),r}function Pr(t,e){for(let n=0;n<e.length;n++){const i=e[n];if(z(i))for(let e=0;e<i.length;e++)t[i[e].name]=i[e].fn;else i&&(t[i.name]=i.key?(...t)=>{const e=i.fn(...t);return e&&(e.key=i.key),e}:i.fn)}return t}function Rr(t,e,n={},i,r){if(ei.isCE||ei.parent&&Gi(ei.parent)&&ei.parent.isCE)return"default"!==e&&(n.name=e),ls("slot",n,i&&i());let o=t[e];o&&o._c&&(o._d=!1),Ko();const s=o&&Or(o(n)),a=es(jo,{key:n.key||s&&s.key||`_${e}`},s||(i?i():[]),s&&1===t._?64:-2);return!r&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),o&&o._c&&(o._d=!0),a}function Or(t){return t.some((t=>!ns(t)||t.type!==Ho&&!(t.type===jo&&!Or(t.children))))?t:null}function Nr(t,e){const n={};for(const i in t)n[e&&/[A-Z]/.test(i)?`on:${i}`:lt(i)]=t[i];return n}const Mr=t=>t?ks(t)?zs(t)||t.proxy:Mr(t.parent):null,Dr=D(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Mr(t.parent),$root:t=>Mr(t.root),$emit:t=>t.emit,$options:t=>qr(t),$forceUpdate:t=>t.f||(t.f=()=>Bn(t.update)),$nextTick:t=>t.n||(t.n=Un.bind(t.proxy)),$watch:t=>Mi.bind(t)}),Ur=(t,e)=>t!==A&&!t.__isScriptSetup&&B(t,e),Fr={get({_:t},e){const{ctx:n,setupState:i,data:r,props:o,accessCache:s,type:a,appContext:c}=t;let l;if("$"!==e[0]){const a=s[e];if(void 0!==a)switch(a){case 1:return i[e];case 2:return r[e];case 4:return n[e];case 3:return o[e]}else{if(Ur(i,e))return s[e]=1,i[e];if(r!==A&&B(r,e))return s[e]=2,r[e];if((l=t.propsOptions[0])&&B(l,e))return s[e]=3,o[e];if(n!==A&&B(n,e))return s[e]=4,n[e];zr&&(s[e]=0)}}const u=Dr[e];let h,d;return u?("$attrs"===e&&$t(t,"get",e),u(t)):(h=a.__cssModules)&&(h=h[e])?h:n!==A&&B(n,e)?(s[e]=4,n[e]):(d=c.config.globalProperties,B(d,e)?d[e]:void 0)},set({_:t},e,n){const{data:i,setupState:r,ctx:o}=t;return Ur(r,e)?(r[e]=n,!0):i!==A&&B(i,e)?(i[e]=n,!0):!B(t.props,e)&&(("$"!==e[0]||!(e.slice(1)in t))&&(o[e]=n,!0))},has({_:{data:t,setupState:e,accessCache:n,ctx:i,appContext:r,propsOptions:o}},s){let a;return!!n[s]||t!==A&&B(t,s)||Ur(e,s)||(a=o[0])&&B(a,s)||B(i,s)||B(Dr,s)||B(r.config.globalProperties,s)},defineProperty(t,e,n){return null!=n.get?t._.accessCache[e]=0:B(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};const Br=D({},Fr,{get(t,e){if(e!==Symbol.unscopables)return Fr.get(t,e,t)},has(t,e){const n="_"!==e[0]&&!a(e);return n}});let zr=!0;function Vr(t){const e=qr(t),n=t.proxy,i=t.ctx;zr=!1,e.beforeCreate&&$r(e.beforeCreate,t,"bc");const{data:r,computed:o,methods:s,watch:a,provide:c,inject:l,created:u,beforeMount:h,mounted:d,beforeUpdate:f,updated:p,activated:m,deactivated:g,beforeDestroy:_,beforeUnmount:v,destroyed:y,unmounted:w,render:b,renderTracked:T,renderTriggered:E,errorCaptured:S,serverPrefetch:x,expose:I,inheritAttrs:C,components:k,directives:A,filters:L}=e,R=null;if(l&&jr(l,i,R,t.appContext.config.unwrapInjectedRef),s)for(const P in s){const t=s[P];q(t)&&(i[P]=t.bind(n))}if(r){0;const e=r.call(n,n);0,K(e)&&(t.data=$e(e))}if(zr=!0,o)for(const N in o){const t=o[N],e=q(t)?t.bind(n,n):q(t.get)?t.get.bind(n,n):P;0;const r=!q(t)&&q(t.set)?t.set.bind(n):P,s=$s({get:e,set:r});Object.defineProperty(i,N,{enumerable:!0,configurable:!0,get:()=>s.value,set:t=>s.value=t})}if(a)for(const P in a)Hr(a[P],i,n,P);if(c){const t=q(c)?c.call(n):c;Reflect.ownKeys(t).forEach((e=>{Ci(e,t[e])}))}function O(t,e){z(e)?e.forEach((e=>t(e.bind(n)))):e&&t(e.bind(n))}if(u&&$r(u,t,"c"),O(ur,h),O(hr,d),O(dr,f),O(fr,p),O(nr,m),O(ir,g),O(yr,S),O(vr,T),O(_r,E),O(pr,v),O(mr,w),O(gr,x),z(I))if(I.length){const e=t.exposed||(t.exposed={});I.forEach((t=>{Object.defineProperty(e,t,{get:()=>n[t],set:e=>n[t]=e})}))}else t.exposed||(t.exposed={});b&&t.render===P&&(t.render=b),null!=C&&(t.inheritAttrs=C),k&&(t.components=k),A&&(t.directives=A)}function jr(t,e,n=P,i=!1){z(t)&&(t=Jr(t));for(const r in t){const n=t[r];let o;o=K(n)?"default"in n?ki(n.from||r,n.default,!0):ki(n.from||r):ki(n),on(o)&&i?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>o.value,set:t=>o.value=t}):e[r]=o}}function $r(t,e,n){xn(z(t)?t.map((t=>t.bind(e.proxy))):t.bind(e.proxy),e,n)}function Hr(t,e,n,i){const r=i.includes(".")?Di(n,i):()=>n[i];if(W(t)){const n=e[t];q(n)&&Oi(r,n)}else if(q(t))Oi(r,t.bind(n));else if(K(t))if(z(t))t.forEach((t=>Hr(t,e,n,i)));else{const i=q(t.handler)?t.handler.bind(n):e[t.handler];q(i)&&Oi(r,i,t)}else 0}function qr(t){const e=t.type,{mixins:n,extends:i}=e,{mixins:r,optionsCache:o,config:{optionMergeStrategies:s}}=t.appContext,a=o.get(e);let c;return a?c=a:r.length||n||i?(c={},r.length&&r.forEach((t=>Wr(c,t,s,!0))),Wr(c,e,s)):c=e,K(e)&&o.set(e,c),c}function Wr(t,e,n,i=!1){const{mixins:r,extends:o}=e;o&&Wr(t,o,n,!0),r&&r.forEach((e=>Wr(t,e,n,!0)));for(const s in e)if(i&&"expose"===s);else{const i=Zr[s]||n&&n[s];t[s]=i?i(t[s],e[s]):e[s]}return t}const Zr={data:Kr,props:Qr,emits:Qr,methods:Qr,computed:Qr,beforeCreate:Xr,created:Xr,beforeMount:Xr,mounted:Xr,beforeUpdate:Xr,updated:Xr,beforeDestroy:Xr,beforeUnmount:Xr,destroyed:Xr,unmounted:Xr,activated:Xr,deactivated:Xr,errorCaptured:Xr,serverPrefetch:Xr,components:Qr,directives:Qr,watch:Yr,provide:Kr,inject:Gr};function Kr(t,e){return e?t?function(){return D(q(t)?t.call(this,this):t,q(e)?e.call(this,this):e)}:e:t}function Gr(t,e){return Qr(Jr(t),Jr(e))}function Jr(t){if(z(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Xr(t,e){return t?[...new Set([].concat(t,e))]:e}function Qr(t,e){return t?D(D(Object.create(null),t),e):e}function Yr(t,e){if(!t)return e;if(!e)return t;const n=D(Object.create(null),t);for(const i in e)n[i]=Xr(t[i],e[i]);return n}function to(t,e,n,i=!1){const r={},o={};dt(o,os,1),t.propsDefaults=Object.create(null),no(t,e,r,o);for(const s in t.propsOptions[0])s in r||(r[s]=void 0);n?t.props=i?r:He(r):t.type.props?t.props=r:t.props=o,t.attrs=o}function eo(t,e,n,i){const{props:r,attrs:o,vnode:{patchFlag:s}}=t,a=Qe(r),[c]=t.propsOptions;let l=!1;if(!(i||s>0)||16&s){let i;no(t,e,r,o)&&(l=!0);for(const o in a)e&&(B(e,o)||(i=at(o))!==o&&B(e,i))||(c?!n||void 0===n[o]&&void 0===n[i]||(r[o]=io(c,a,o,void 0,t,!0)):delete r[o]);if(o!==a)for(const t in o)e&&B(e,t)||(delete o[t],l=!0)}else if(8&s){const n=t.vnode.dynamicProps;for(let i=0;i<n.length;i++){let s=n[i];if(ti(t.emitsOptions,s))continue;const u=e[s];if(c)if(B(o,s))u!==o[s]&&(o[s]=u,l=!0);else{const e=ot(s);r[e]=io(c,a,e,u,t,!1)}else u!==o[s]&&(o[s]=u,l=!0)}}l&&qt(t,"set","$attrs")}function no(t,e,n,i){const[r,o]=t.propsOptions;let s,a=!1;if(e)for(let c in e){if(et(c))continue;const l=e[c];let u;r&&B(r,u=ot(c))?o&&o.includes(u)?(s||(s={}))[u]=l:n[u]=l:ti(t.emitsOptions,c)||c in i&&l===i[c]||(i[c]=l,a=!0)}if(o){const e=Qe(n),i=s||A;for(let s=0;s<o.length;s++){const a=o[s];n[a]=io(r,e,a,i[a],t,!B(i,a))}}return a}function io(t,e,n,i,r,o){const s=t[n];if(null!=s){const t=B(s,"default");if(t&&void 0===i){const t=s.default;if(s.type!==Function&&q(t)){const{propsDefaults:o}=r;n in o?i=o[n]:(Is(r),i=o[n]=t.call(null,e),Cs())}else i=t}s[0]&&(o&&!t?i=!1:!s[1]||""!==i&&i!==at(n)||(i=!0))}return i}function ro(t,e,n=!1){const i=e.propsCache,r=i.get(t);if(r)return r;const o=t.props,s={},a=[];let c=!1;if(!q(t)){const i=t=>{c=!0;const[n,i]=ro(t,e,!0);D(s,n),i&&a.push(...i)};!n&&e.mixins.length&&e.mixins.forEach(i),t.extends&&i(t.extends),t.mixins&&t.mixins.forEach(i)}if(!o&&!c)return K(t)&&i.set(t,L),L;if(z(o))for(let u=0;u<o.length;u++){0;const t=ot(o[u]);oo(t)&&(s[t]=A)}else if(o){0;for(const t in o){const e=ot(t);if(oo(e)){const n=o[t],i=s[e]=z(n)||q(n)?{type:n}:Object.assign({},n);if(i){const t=co(Boolean,i.type),n=co(String,i.type);i[0]=t>-1,i[1]=n<0||t<n,(t>-1||B(i,"default"))&&a.push(e)}}}}const l=[s,a];return K(t)&&i.set(t,l),l}function oo(t){return"$"!==t[0]}function so(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:null===t?"null":""}function ao(t,e){return so(t)===so(e)}function co(t,e){return z(e)?e.findIndex((e=>ao(e,t))):q(e)&&ao(e,t)?0:-1}const lo=t=>"_"===t[0]||"$stable"===t,uo=t=>z(t)?t.map(gs):[gs(t)],ho=(t,e,n)=>{if(e._n)return e;const i=ai(((...t)=>uo(e(...t))),n);return i._c=!1,i},fo=(t,e,n)=>{const i=t._ctx;for(const r in t){if(lo(r))continue;const n=t[r];if(q(n))e[r]=ho(r,n,i);else if(null!=n){0;const t=uo(n);e[r]=()=>t}}},po=(t,e)=>{const n=uo(e);t.slots.default=()=>n},mo=(t,e)=>{if(32&t.vnode.shapeFlag){const n=e._;n?(t.slots=Qe(e),dt(e,"_",n)):fo(e,t.slots={})}else t.slots={},e&&po(t,e);dt(t.slots,os,1)},go=(t,e,n)=>{const{vnode:i,slots:r}=t;let o=!0,s=A;if(32&i.shapeFlag){const t=e._;t?n&&1===t?o=!1:(D(r,e),n||1!==t||delete r._):(o=!e.$stable,fo(e,r)),s=e}else e&&(po(t,e),s={default:1});if(o)for(const a in r)lo(a)||a in s||delete r[a]};function _o(){return{app:null,config:{isNativeTag:R,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let vo=0;function yo(t,e){return function(n,i=null){q(n)||(n=Object.assign({},n)),null==i||K(i)||(i=null);const r=_o(),o=new Set;let s=!1;const a=r.app={_uid:vo++,_component:n,_props:i,_container:null,_context:r,_instance:null,version:sa,get config(){return r.config},set config(t){0},use(t,...e){return o.has(t)||(t&&q(t.install)?(o.add(t),t.install(a,...e)):q(t)&&(o.add(t),t(a,...e))),a},mixin(t){return r.mixins.includes(t)||r.mixins.push(t),a},component(t,e){return e?(r.components[t]=e,a):r.components[t]},directive(t,e){return e?(r.directives[t]=e,a):r.directives[t]},mount(o,c,l){if(!s){0;const u=ls(n,i);return u.appContext=r,c&&e?e(u,o):t(u,o,l),s=!0,a._container=o,o.__vue_app__=a,zs(u.component)||u.component.proxy}},unmount(){s&&(t(null,a._container),delete a._container.__vue_app__)},provide(t,e){return r.provides[t]=e,a}};return a}}function wo(t,e,n,i,r=!1){if(z(t))return void t.forEach(((t,o)=>wo(t,e&&(z(e)?e[o]:e),n,i,r)));if(Gi(i)&&!r)return;const o=4&i.shapeFlag?zs(i.component)||i.component.proxy:i.el,s=r?null:o,{i:a,r:c}=t;const l=e&&e.r,u=a.refs===A?a.refs={}:a.refs,h=a.setupState;if(null!=l&&l!==c&&(W(l)?(u[l]=null,B(h,l)&&(h[l]=null)):on(l)&&(l.value=null)),q(c))Sn(c,a,12,[s,u]);else{const e=W(c),i=on(c);if(e||i){const a=()=>{if(t.f){const n=e?B(h,c)?h[c]:u[c]:c.value;r?z(n)&&U(n,o):z(n)?n.includes(o)||n.push(o):e?(u[c]=[o],B(h,c)&&(h[c]=u[c])):(c.value=[o],t.k&&(u[t.k]=c.value))}else e?(u[c]=s,B(h,c)&&(h[c]=s)):i&&(c.value=s,t.k&&(u[t.k]=s))};s?(a.id=-1,Io(a,n)):a()}else 0}}let bo=!1;const To=t=>/svg/.test(t.namespaceURI)&&"foreignObject"!==t.tagName,Eo=t=>8===t.nodeType;function So(t){const{mt:e,p:n,o:{patchProp:i,createText:r,nextSibling:o,parentNode:s,remove:a,insert:c,createComment:l}}=t,u=(t,e)=>{if(!e.hasChildNodes())return n(null,t,e),Hn(),void(e._vnode=t);bo=!1,h(e.firstChild,t,null,null,null),Hn(),e._vnode=t,bo&&console.error("Hydration completed but contains mismatches.")},h=(n,i,a,l,u,_=!1)=>{const v=Eo(n)&&"["===n.data,y=()=>m(n,i,a,l,u,v),{type:w,ref:b,shapeFlag:T,patchFlag:E}=i;let S=n.nodeType;i.el=n,-2===E&&(_=!1,i.dynamicChildren=null);let x=null;switch(w){case $o:3!==S?""===i.children?(c(i.el=r(""),s(n),n),x=n):x=y():(n.data!==i.children&&(bo=!0,n.data=i.children),x=o(n));break;case Ho:x=8!==S||v?y():o(n);break;case qo:if(v&&(n=o(n),S=n.nodeType),1===S||3===S){x=n;const t=!i.children.length;for(let e=0;e<i.staticCount;e++)t&&(i.children+=1===x.nodeType?x.outerHTML:x.data),e===i.staticCount-1&&(i.anchor=x),x=o(x);return v?o(x):x}y();break;case jo:x=v?p(n,i,a,l,u,_):y();break;default:if(1&T)x=1!==S||i.type.toLowerCase()!==n.tagName.toLowerCase()?y():d(n,i,a,l,u,_);else if(6&T){i.slotScopeIds=u;const t=s(n);if(e(i,t,null,a,l,To(t),_),x=v?g(n):o(n),x&&Eo(x)&&"teleport end"===x.data&&(x=o(x)),Gi(i)){let e;v?(e=ls(jo),e.anchor=x?x.previousSibling:t.lastChild):e=3===n.nodeType?fs(""):ls("div"),e.el=n,i.component.subTree=e}}else 64&T?x=8!==S?y():i.type.hydrate(n,i,a,l,u,_,t,f):128&T&&(x=i.type.hydrate(n,i,a,l,To(s(n)),u,_,t,h))}return null!=b&&wo(b,null,l,i),x},d=(t,e,n,r,o,s)=>{s=s||!!e.dynamicChildren;const{type:c,props:l,patchFlag:u,shapeFlag:h,dirs:d}=e,p="input"===c&&d||"option"===c;if(p||-1!==u){if(d&&br(e,null,n,"created"),l)if(p||!s||48&u)for(const e in l)(p&&e.endsWith("value")||N(e)&&!et(e))&&i(t,e,null,l[e],!1,void 0,n);else l.onClick&&i(t,"onClick",null,l.onClick,!1,void 0,n);let c;if((c=l&&l.onVnodeBeforeMount)&&ws(c,n,e),d&&br(e,null,n,"beforeMount"),((c=l&&l.onVnodeMounted)||d)&&xi((()=>{c&&ws(c,n,e),d&&br(e,null,n,"mounted")}),r),16&h&&(!l||!l.innerHTML&&!l.textContent)){let i=f(t.firstChild,e,t,n,r,o,s);while(i){bo=!0;const t=i;i=i.nextSibling,a(t)}}else 8&h&&t.textContent!==e.children&&(bo=!0,t.textContent=e.children)}return t.nextSibling},f=(t,e,i,r,o,s,a)=>{a=a||!!e.dynamicChildren;const c=e.children,l=c.length;for(let u=0;u<l;u++){const e=a?c[u]:c[u]=gs(c[u]);if(t)t=h(t,e,r,o,s,a);else{if(e.type===$o&&!e.children)continue;bo=!0,n(null,e,i,null,r,o,To(i),s)}}return t},p=(t,e,n,i,r,a)=>{const{slotScopeIds:u}=e;u&&(r=r?r.concat(u):u);const h=s(t),d=f(o(t),e,h,n,i,r,a);return d&&Eo(d)&&"]"===d.data?o(e.anchor=d):(bo=!0,c(e.anchor=l("]"),h,d),d)},m=(t,e,i,r,c,l)=>{if(bo=!0,e.el=null,l){const e=g(t);while(1){const n=o(t);if(!n||n===e)break;a(n)}}const u=o(t),h=s(t);return a(t),n(null,e,h,u,i,r,To(h),c),u},g=t=>{let e=0;while(t)if(t=o(t),t&&Eo(t)&&("["===t.data&&e++,"]"===t.data)){if(0===e)return o(t);e--}return t};return[u,h]}function xo(){}const Io=xi;function Co(t){return Ao(t)}function ko(t){return Ao(t,So)}function Ao(t,e){xo();const n=gt();n.__VUE__=!0;const{insert:i,remove:r,patchProp:o,createElement:s,createText:a,createComment:c,setText:l,setElementText:u,parentNode:h,nextSibling:d,setScopeId:f=P,insertStaticContent:p}=t,m=(t,e,n,i=null,r=null,o=null,s=!1,a=null,c=!!e.dynamicChildren)=>{if(t===e)return;t&&!is(t,e)&&(i=W(t),V(t,r,o,!0),t=null),-2===e.patchFlag&&(c=!1,e.dynamicChildren=null);const{type:l,ref:u,shapeFlag:h}=e;switch(l){case $o:g(t,e,n,i);break;case Ho:_(t,e,n,i);break;case qo:null==t&&v(e,n,i,s);break;case jo:k(t,e,n,i,r,o,s,a,c);break;default:1&h?b(t,e,n,i,r,o,s,a,c):6&h?R(t,e,n,i,r,o,s,a,c):(64&h||128&h)&&l.process(t,e,n,i,r,o,s,a,c,K)}null!=u&&r&&wo(u,t&&t.ref,o,e||t,!e)},g=(t,e,n,r)=>{if(null==t)i(e.el=a(e.children),n,r);else{const n=e.el=t.el;e.children!==t.children&&l(n,e.children)}},_=(t,e,n,r)=>{null==t?i(e.el=c(e.children||""),n,r):e.el=t.el},v=(t,e,n,i)=>{[t.el,t.anchor]=p(t.children,e,n,i,t.el,t.anchor)},y=({el:t,anchor:e},n,r)=>{let o;while(t&&t!==e)o=d(t),i(t,n,r),t=o;i(e,n,r)},w=({el:t,anchor:e})=>{let n;while(t&&t!==e)n=d(t),r(t),t=n;r(e)},b=(t,e,n,i,r,o,s,a,c)=>{s=s||"svg"===e.type,null==t?T(e,n,i,r,o,s,a,c):x(t,e,r,o,s,a,c)},T=(t,e,n,r,a,c,l,h)=>{let d,f;const{type:p,props:m,shapeFlag:g,transition:_,dirs:v}=t;if(d=t.el=s(t.type,c,m&&m.is,m),8&g?u(d,t.children):16&g&&S(t.children,d,null,r,a,c&&"foreignObject"!==p,l,h),v&&br(t,null,r,"created"),E(d,t,t.scopeId,l,r),m){for(const e in m)"value"===e||et(e)||o(d,e,null,m[e],c,t.children,r,a,q);"value"in m&&o(d,"value",null,m.value),(f=m.onVnodeBeforeMount)&&ws(f,r,t)}v&&br(t,null,r,"beforeMount");const y=(!a||a&&!a.pendingBranch)&&_&&!_.persisted;y&&_.beforeEnter(d),i(d,e,n),((f=m&&m.onVnodeMounted)||y||v)&&Io((()=>{f&&ws(f,r,t),y&&_.enter(d),v&&br(t,null,r,"mounted")}),a)},E=(t,e,n,i,r)=>{if(n&&f(t,n),i)for(let o=0;o<i.length;o++)f(t,i[o]);if(r){let n=r.subTree;if(e===n){const e=r.vnode;E(t,e,e.scopeId,e.slotScopeIds,r.parent)}}},S=(t,e,n,i,r,o,s,a,c=0)=>{for(let l=c;l<t.length;l++){const c=t[l]=a?_s(t[l]):gs(t[l]);m(null,c,e,n,i,r,o,s,a)}},x=(t,e,n,i,r,s,a)=>{const c=e.el=t.el;let{patchFlag:l,dynamicChildren:h,dirs:d}=e;l|=16&t.patchFlag;const f=t.props||A,p=e.props||A;let m;n&&Lo(n,!1),(m=p.onVnodeBeforeUpdate)&&ws(m,n,e,t),d&&br(e,t,n,"beforeUpdate"),n&&Lo(n,!0);const g=r&&"foreignObject"!==e.type;if(h?I(t.dynamicChildren,h,c,n,i,g,s):a||U(t,e,c,null,n,i,g,s,!1),l>0){if(16&l)C(c,e,f,p,n,i,r);else if(2&l&&f.class!==p.class&&o(c,"class",null,p.class,r),4&l&&o(c,"style",f.style,p.style,r),8&l){const s=e.dynamicProps;for(let e=0;e<s.length;e++){const a=s[e],l=f[a],u=p[a];u===l&&"value"!==a||o(c,a,l,u,r,t.children,n,i,q)}}1&l&&t.children!==e.children&&u(c,e.children)}else a||null!=h||C(c,e,f,p,n,i,r);((m=p.onVnodeUpdated)||d)&&Io((()=>{m&&ws(m,n,e,t),d&&br(e,t,n,"updated")}),i)},I=(t,e,n,i,r,o,s)=>{for(let a=0;a<e.length;a++){const c=t[a],l=e[a],u=c.el&&(c.type===jo||!is(c,l)||70&c.shapeFlag)?h(c.el):n;m(c,l,u,null,i,r,o,s,!0)}},C=(t,e,n,i,r,s,a)=>{if(n!==i){if(n!==A)for(const c in n)et(c)||c in i||o(t,c,n[c],null,a,e.children,r,s,q);for(const c in i){if(et(c))continue;const l=i[c],u=n[c];l!==u&&"value"!==c&&o(t,c,u,l,a,e.children,r,s,q)}"value"in i&&o(t,"value",n.value,i.value)}},k=(t,e,n,r,o,s,c,l,u)=>{const h=e.el=t?t.el:a(""),d=e.anchor=t?t.anchor:a("");let{patchFlag:f,dynamicChildren:p,slotScopeIds:m}=e;m&&(l=l?l.concat(m):m),null==t?(i(h,n,r),i(d,n,r),S(e.children,n,d,o,s,c,l,u)):f>0&&64&f&&p&&t.dynamicChildren?(I(t.dynamicChildren,p,n,o,s,c,l),(null!=e.key||o&&e===o.subTree)&&Po(t,e,!0)):U(t,e,n,d,o,s,c,l,u)},R=(t,e,n,i,r,o,s,a,c)=>{e.slotScopeIds=a,null==t?512&e.shapeFlag?r.ctx.activate(e,n,i,s,c):O(e,n,i,r,o,s,c):N(t,e,c)},O=(t,e,n,i,r,o,s)=>{const a=t.component=Es(t,i,r);if(Qi(t)&&(a.ctx.renderer=K),Rs(a),a.asyncDep){if(r&&r.registerDep(a,M),!t.el){const t=a.subTree=ls(Ho);_(null,t,e,n)}}else M(a,t,e,n,r,o,s)},N=(t,e,n)=>{const i=e.component=t.component;if(di(t,e,n)){if(i.asyncDep&&!i.asyncResolved)return void D(i,e,n);i.next=e,Vn(i.update),i.update()}else e.el=t.el,i.vnode=e},M=(t,e,n,i,r,o,s)=>{const a=()=>{if(t.isMounted){let e,{next:n,bu:i,u:a,parent:c,vnode:l}=t,u=n;0,Lo(t,!1),n?(n.el=l.el,D(t,n,s)):n=l,i&&ht(i),(e=n.props&&n.props.onVnodeBeforeUpdate)&&ws(e,c,n,l),Lo(t,!0);const d=ci(t);0;const f=t.subTree;t.subTree=d,m(f,d,h(f.el),W(f),t,r,o),n.el=d.el,null===u&&pi(t,d.el),a&&Io(a,r),(e=n.props&&n.props.onVnodeUpdated)&&Io((()=>ws(e,c,n,l)),r)}else{let s;const{el:a,props:c}=e,{bm:l,m:u,parent:h}=t,d=Gi(e);if(Lo(t,!1),l&&ht(l),!d&&(s=c&&c.onVnodeBeforeMount)&&ws(s,h,e),Lo(t,!0),a&&J){const n=()=>{t.subTree=ci(t),J(a,t.subTree,t,r,null)};d?e.type.__asyncLoader().then((()=>!t.isUnmounted&&n())):n()}else{0;const s=t.subTree=ci(t);0,m(null,s,n,i,t,r,o),e.el=s.el}if(u&&Io(u,r),!d&&(s=c&&c.onVnodeMounted)){const t=e;Io((()=>ws(s,h,t)),r)}(256&e.shapeFlag||h&&Gi(h.vnode)&&256&h.vnode.shapeFlag)&&t.a&&Io(t.a,r),t.isMounted=!0,e=n=i=null}},c=t.effect=new Mt(a,(()=>Bn(l)),t.scope),l=t.update=()=>c.run();l.id=t.uid,Lo(t,!0),l()},D=(t,e,n)=>{e.component=t;const i=t.vnode.props;t.vnode=e,t.next=null,eo(t,e.props,i,n),go(t,e.children,n),Vt(),$n(),jt()},U=(t,e,n,i,r,o,s,a,c=!1)=>{const l=t&&t.children,h=t?t.shapeFlag:0,d=e.children,{patchFlag:f,shapeFlag:p}=e;if(f>0){if(128&f)return void B(l,d,n,i,r,o,s,a,c);if(256&f)return void F(l,d,n,i,r,o,s,a,c)}8&p?(16&h&&q(l,r,o),d!==l&&u(n,d)):16&h?16&p?B(l,d,n,i,r,o,s,a,c):q(l,r,o,!0):(8&h&&u(n,""),16&p&&S(d,n,i,r,o,s,a,c))},F=(t,e,n,i,r,o,s,a,c)=>{t=t||L,e=e||L;const l=t.length,u=e.length,h=Math.min(l,u);let d;for(d=0;d<h;d++){const i=e[d]=c?_s(e[d]):gs(e[d]);m(t[d],i,n,null,r,o,s,a,c)}l>u?q(t,r,o,!0,!1,h):S(e,n,i,r,o,s,a,c,h)},B=(t,e,n,i,r,o,s,a,c)=>{let l=0;const u=e.length;let h=t.length-1,d=u-1;while(l<=h&&l<=d){const i=t[l],u=e[l]=c?_s(e[l]):gs(e[l]);if(!is(i,u))break;m(i,u,n,null,r,o,s,a,c),l++}while(l<=h&&l<=d){const i=t[h],l=e[d]=c?_s(e[d]):gs(e[d]);if(!is(i,l))break;m(i,l,n,null,r,o,s,a,c),h--,d--}if(l>h){if(l<=d){const t=d+1,h=t<u?e[t].el:i;while(l<=d)m(null,e[l]=c?_s(e[l]):gs(e[l]),n,h,r,o,s,a,c),l++}}else if(l>d)while(l<=h)V(t[l],r,o,!0),l++;else{const f=l,p=l,g=new Map;for(l=p;l<=d;l++){const t=e[l]=c?_s(e[l]):gs(e[l]);null!=t.key&&g.set(t.key,l)}let _,v=0;const y=d-p+1;let w=!1,b=0;const T=new Array(y);for(l=0;l<y;l++)T[l]=0;for(l=f;l<=h;l++){const i=t[l];if(v>=y){V(i,r,o,!0);continue}let u;if(null!=i.key)u=g.get(i.key);else for(_=p;_<=d;_++)if(0===T[_-p]&&is(i,e[_])){u=_;break}void 0===u?V(i,r,o,!0):(T[u-p]=l+1,u>=b?b=u:w=!0,m(i,e[u],n,null,r,o,s,a,c),v++)}const E=w?Ro(T):L;for(_=E.length-1,l=y-1;l>=0;l--){const t=p+l,h=e[t],d=t+1<u?e[t+1].el:i;0===T[l]?m(null,h,n,d,r,o,s,a,c):w&&(_<0||l!==E[_]?z(h,n,d,2):_--)}}},z=(t,e,n,r,o=null)=>{const{el:s,type:a,transition:c,children:l,shapeFlag:u}=t;if(6&u)return void z(t.component.subTree,e,n,r);if(128&u)return void t.suspense.move(e,n,r);if(64&u)return void a.move(t,e,n,K);if(a===jo){i(s,e,n);for(let t=0;t<l.length;t++)z(l[t],e,n,r);return void i(t.anchor,e,n)}if(a===qo)return void y(t,e,n);const h=2!==r&&1&u&&c;if(h)if(0===r)c.beforeEnter(s),i(s,e,n),Io((()=>c.enter(s)),o);else{const{leave:t,delayLeave:r,afterLeave:o}=c,a=()=>i(s,e,n),l=()=>{t(s,(()=>{a(),o&&o()}))};r?r(s,a,l):l()}else i(s,e,n)},V=(t,e,n,i=!1,r=!1)=>{const{type:o,props:s,ref:a,children:c,dynamicChildren:l,shapeFlag:u,patchFlag:h,dirs:d}=t;if(null!=a&&wo(a,null,n,t,!0),256&u)return void e.ctx.deactivate(t);const f=1&u&&d,p=!Gi(t);let m;if(p&&(m=s&&s.onVnodeBeforeUnmount)&&ws(m,e,t),6&u)H(t.component,n,i);else{if(128&u)return void t.suspense.unmount(n,i);f&&br(t,null,e,"beforeUnmount"),64&u?t.type.remove(t,e,n,r,K,i):l&&(o!==jo||h>0&&64&h)?q(l,e,n,!1,!0):(o===jo&&384&h||!r&&16&u)&&q(c,e,n),i&&j(t)}(p&&(m=s&&s.onVnodeUnmounted)||f)&&Io((()=>{m&&ws(m,e,t),f&&br(t,null,e,"unmounted")}),n)},j=t=>{const{type:e,el:n,anchor:i,transition:o}=t;if(e===jo)return void $(n,i);if(e===qo)return void w(t);const s=()=>{r(n),o&&!o.persisted&&o.afterLeave&&o.afterLeave()};if(1&t.shapeFlag&&o&&!o.persisted){const{leave:e,delayLeave:i}=o,r=()=>e(n,s);i?i(t.el,s,r):r()}else s()},$=(t,e)=>{let n;while(t!==e)n=d(t),r(t),t=n;r(e)},H=(t,e,n)=>{const{bum:i,scope:r,update:o,subTree:s,um:a}=t;i&&ht(i),r.stop(),o&&(o.active=!1,V(s,t,e,n)),a&&Io(a,e),Io((()=>{t.isUnmounted=!0}),e),e&&e.pendingBranch&&!e.isUnmounted&&t.asyncDep&&!t.asyncResolved&&t.suspenseId===e.pendingId&&(e.deps--,0===e.deps&&e.resolve())},q=(t,e,n,i=!1,r=!1,o=0)=>{for(let s=o;s<t.length;s++)V(t[s],e,n,i,r)},W=t=>6&t.shapeFlag?W(t.component.subTree):128&t.shapeFlag?t.suspense.next():d(t.anchor||t.el),Z=(t,e,n)=>{null==t?e._vnode&&V(e._vnode,null,null,!0):m(e._vnode||null,t,e,null,null,null,n),$n(),Hn(),e._vnode=t},K={p:m,um:V,m:z,r:j,mt:O,mc:S,pc:U,pbc:I,n:W,o:t};let G,J;return e&&([G,J]=e(K)),{render:Z,hydrate:G,createApp:yo(Z,G)}}function Lo({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function Po(t,e,n=!1){const i=t.children,r=e.children;if(z(i)&&z(r))for(let o=0;o<i.length;o++){const t=i[o];let e=r[o];1&e.shapeFlag&&!e.dynamicChildren&&((e.patchFlag<=0||32===e.patchFlag)&&(e=r[o]=_s(r[o]),e.el=t.el),n||Po(t,e)),e.type===$o&&(e.el=t.el)}}function Ro(t){const e=t.slice(),n=[0];let i,r,o,s,a;const c=t.length;for(i=0;i<c;i++){const c=t[i];if(0!==c){if(r=n[n.length-1],t[r]<c){e[i]=r,n.push(i);continue}o=0,s=n.length-1;while(o<s)a=o+s>>1,t[n[a]]<c?o=a+1:s=a;c<t[n[o]]&&(o>0&&(e[i]=n[o-1]),n[o]=i)}}o=n.length,s=n[o-1];while(o-- >0)n[o]=s,s=e[s];return n}const Oo=t=>t.__isTeleport,No=t=>t&&(t.disabled||""===t.disabled),Mo=t=>"undefined"!==typeof SVGElement&&t instanceof SVGElement,Do=(t,e)=>{const n=t&&t.to;if(W(n)){if(e){const t=e(n);return t}return null}return n},Uo={__isTeleport:!0,process(t,e,n,i,r,o,s,a,c,l){const{mc:u,pc:h,pbc:d,o:{insert:f,querySelector:p,createText:m,createComment:g}}=l,_=No(e.props);let{shapeFlag:v,children:y,dynamicChildren:w}=e;if(null==t){const t=e.el=m(""),l=e.anchor=m("");f(t,n,i),f(l,n,i);const h=e.target=Do(e.props,p),d=e.targetAnchor=m("");h&&(f(d,h),s=s||Mo(h));const g=(t,e)=>{16&v&&u(y,t,e,r,o,s,a,c)};_?g(n,l):h&&g(h,d)}else{e.el=t.el;const i=e.anchor=t.anchor,u=e.target=t.target,f=e.targetAnchor=t.targetAnchor,m=No(t.props),g=m?n:u,v=m?i:f;if(s=s||Mo(u),w?(d(t.dynamicChildren,w,g,r,o,s,a),Po(t,e,!0)):c||h(t,e,g,v,r,o,s,a,!1),_)m||Fo(e,n,i,l,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const t=e.target=Do(e.props,p);t&&Fo(e,t,null,l,0)}else m&&Fo(e,u,f,l,1)}Vo(e)},remove(t,e,n,i,{um:r,o:{remove:o}},s){const{shapeFlag:a,children:c,anchor:l,targetAnchor:u,target:h,props:d}=t;if(h&&o(u),(s||!No(d))&&(o(l),16&a))for(let f=0;f<c.length;f++){const t=c[f];r(t,e,n,!0,!!t.dynamicChildren)}},move:Fo,hydrate:Bo};function Fo(t,e,n,{o:{insert:i},m:r},o=2){0===o&&i(t.targetAnchor,e,n);const{el:s,anchor:a,shapeFlag:c,children:l,props:u}=t,h=2===o;if(h&&i(s,e,n),(!h||No(u))&&16&c)for(let d=0;d<l.length;d++)r(l[d],e,n,2);h&&i(a,e,n)}function Bo(t,e,n,i,r,o,{o:{nextSibling:s,parentNode:a,querySelector:c}},l){const u=e.target=Do(e.props,c);if(u){const c=u._lpa||u.firstChild;if(16&e.shapeFlag)if(No(e.props))e.anchor=l(s(t),e,a(t),n,i,r,o),e.targetAnchor=c;else{e.anchor=s(t);let a=c;while(a)if(a=s(a),a&&8===a.nodeType&&"teleport anchor"===a.data){e.targetAnchor=a,u._lpa=e.targetAnchor&&s(e.targetAnchor);break}l(c,e,u,n,i,r,o)}Vo(e)}return e.anchor&&s(e.anchor)}const zo=Uo;function Vo(t){const e=t.ctx;if(e&&e.ut){let n=t.children[0].el;while(n!==t.targetAnchor)1===n.nodeType&&n.setAttribute("data-v-owner",e.uid),n=n.nextSibling;e.ut()}}const jo=Symbol(void 0),$o=Symbol(void 0),Ho=Symbol(void 0),qo=Symbol(void 0),Wo=[];let Zo=null;function Ko(t=!1){Wo.push(Zo=t?null:[])}function Go(){Wo.pop(),Zo=Wo[Wo.length-1]||null}let Jo,Xo=1;function Qo(t){Xo+=t}function Yo(t){return t.dynamicChildren=Xo>0?Zo||L:null,Go(),Xo>0&&Zo&&Zo.push(t),t}function ts(t,e,n,i,r,o){return Yo(cs(t,e,n,i,r,o,!0))}function es(t,e,n,i,r){return Yo(ls(t,e,n,i,r,!0))}function ns(t){return!!t&&!0===t.__v_isVNode}function is(t,e){return t.type===e.type&&t.key===e.key}function rs(t){Jo=t}const os="__vInternal",ss=({key:t})=>null!=t?t:null,as=({ref:t,ref_key:e,ref_for:n})=>null!=t?W(t)||on(t)||q(t)?{i:ei,r:t,k:e,f:!!n}:t:null;function cs(t,e=null,n=null,i=0,r=null,o=(t===jo?0:1),s=!1,a=!1){const c={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&ss(e),ref:e&&as(e),scopeId:ni,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:i,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:ei};return a?(vs(c,n),128&o&&t.normalize(c)):n&&(c.shapeFlag|=W(n)?8:16),Xo>0&&!s&&Zo&&(c.patchFlag>0||6&o)&&32!==c.patchFlag&&Zo.push(c),c}const ls=us;function us(t,e=null,n=null,i=0,r=null,o=!1){if(t&&t!==xr||(t=Ho),ns(t)){const i=ds(t,e,!0);return n&&vs(i,n),Xo>0&&!o&&Zo&&(6&i.shapeFlag?Zo[Zo.indexOf(t)]=i:Zo.push(i)),i.patchFlag|=-2,i}if(js(t)&&(t=t.__vccOpts),e){e=hs(e);let{class:t,style:n}=e;t&&!W(t)&&(e.class=f(t)),K(n)&&(Xe(n)&&!z(n)&&(n=D({},n)),e.style=c(n))}const s=W(t)?1:mi(t)?128:Oo(t)?64:K(t)?4:q(t)?2:0;return cs(t,e,n,i,r,s,o,!0)}function hs(t){return t?Xe(t)||os in t?D({},t):t:null}function ds(t,e,n=!1){const{props:i,ref:r,patchFlag:o,children:s}=t,a=e?ys(i||{},e):i,c={__v_isVNode:!0,__v_skip:!0,type:t.type,props:a,key:a&&ss(a),ref:e&&e.ref?n&&r?z(r)?r.concat(as(e)):[r,as(e)]:as(e):r,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:s,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==jo?-1===o?16:16|o:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&ds(t.ssContent),ssFallback:t.ssFallback&&ds(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return c}function fs(t=" ",e=0){return ls($o,null,t,e)}function ps(t,e){const n=ls(qo,null,t);return n.staticCount=e,n}function ms(t="",e=!1){return e?(Ko(),es(Ho,null,t)):ls(Ho,null,t)}function gs(t){return null==t||"boolean"===typeof t?ls(Ho):z(t)?ls(jo,null,t.slice()):"object"===typeof t?_s(t):ls($o,null,String(t))}function _s(t){return null===t.el&&-1!==t.patchFlag||t.memo?t:ds(t)}function vs(t,e){let n=0;const{shapeFlag:i}=t;if(null==e)e=null;else if(z(e))n=16;else if("object"===typeof e){if(65&i){const n=e.default;return void(n&&(n._c&&(n._d=!1),vs(t,n()),n._c&&(n._d=!0)))}{n=32;const i=e._;i||os in e?3===i&&ei&&(1===ei.slots._?e._=1:(e._=2,t.patchFlag|=1024)):e._ctx=ei}}else q(e)?(e={default:e,_ctx:ei},n=32):(e=String(e),64&i?(n=16,e=[fs(e)]):n=8);t.children=e,t.shapeFlag|=n}function ys(...t){const e={};for(let n=0;n<t.length;n++){const i=t[n];for(const t in i)if("class"===t)e.class!==i.class&&(e.class=f([e.class,i.class]));else if("style"===t)e.style=c([e.style,i.style]);else if(N(t)){const n=e[t],r=i[t];!r||n===r||z(n)&&n.includes(r)||(e[t]=n?[].concat(n,r):r)}else""!==t&&(e[t]=i[t])}return e}function ws(t,e,n,i=null){xn(t,e,7,[n,i])}const bs=_o();let Ts=0;function Es(t,e,n){const i=t.type,r=(e?e.appContext:t.appContext)||bs,o={uid:Ts++,vnode:t,type:i,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,scope:new vt(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ro(i,r),emitsOptions:Yn(i,r),emit:null,emitted:null,propsDefaults:A,inheritAttrs:i.inheritAttrs,ctx:A,data:A,props:A,attrs:A,slots:A,refs:A,setupState:A,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=e?e.root:o,o.emit=Qn.bind(null,o),t.ce&&t.ce(o),o}let Ss=null;const xs=()=>Ss||ei,Is=t=>{Ss=t,t.scope.on()},Cs=()=>{Ss&&Ss.scope.off(),Ss=null};function ks(t){return 4&t.vnode.shapeFlag}let As,Ls,Ps=!1;function Rs(t,e=!1){Ps=e;const{props:n,children:i}=t.vnode,r=ks(t);to(t,n,r,e),mo(t,i);const o=r?Os(t,e):void 0;return Ps=!1,o}function Os(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=Ye(new Proxy(t.ctx,Fr));const{setup:i}=n;if(i){const n=t.setupContext=i.length>1?Bs(t):null;Is(t),Vt();const r=Sn(i,t,0,[t.props,n]);if(jt(),Cs(),G(r)){if(r.then(Cs,Cs),e)return r.then((n=>{Ns(t,n,e)})).catch((e=>{In(e,t,0)}));t.asyncDep=r}else Ns(t,r,e)}else Us(t,e)}function Ns(t,e,n){q(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:K(e)&&(t.setupState=fn(e)),Us(t,n)}function Ms(t){As=t,Ls=t=>{t.render._rc&&(t.withProxy=new Proxy(t.ctx,Br))}}const Ds=()=>!As;function Us(t,e,n){const i=t.type;if(!t.render){if(!e&&As&&!i.render){const e=i.template||qr(t).template;if(e){0;const{isCustomElement:n,compilerOptions:r}=t.appContext.config,{delimiters:o,compilerOptions:s}=i,a=D(D({isCustomElement:n,delimiters:o},r),s);i.render=As(e,a)}}t.render=i.render||P,Ls&&Ls(t)}Is(t),Vt(),Vr(t),jt(),Cs()}function Fs(t){return new Proxy(t.attrs,{get(e,n){return $t(t,"get","$attrs"),e[n]}})}function Bs(t){const e=e=>{t.exposed=e||{}};let n;return{get attrs(){return n||(n=Fs(t))},slots:t.slots,emit:t.emit,expose:e}}function zs(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(fn(Ye(t.exposed)),{get(e,n){return n in e?e[n]:n in Dr?Dr[n](t):void 0},has(t,e){return e in t||e in Dr}}))}function Vs(t,e=!0){return q(t)?t.displayName||t.name:t.name||e&&t.__name}function js(t){return q(t)&&"__vccOpts"in t}const $s=(t,e)=>bn(t,e,Ps);function Hs(){return null}function qs(){return null}function Ws(t){0}function Zs(t,e){return null}function Ks(){return Js().slots}function Gs(){return Js().attrs}function Js(){const t=xs();return t.setupContext||(t.setupContext=Bs(t))}function Xs(t,e){const n=z(t)?t.reduce(((t,e)=>(t[e]={},t)),{}):t;for(const i in e){const t=n[i];t?z(t)||q(t)?n[i]={type:t,default:e[i]}:t.default=e[i]:null===t&&(n[i]={default:e[i]})}return n}function Qs(t,e){const n={};for(const i in t)e.includes(i)||Object.defineProperty(n,i,{enumerable:!0,get:()=>t[i]});return n}function Ys(t){const e=xs();let n=t();return Cs(),G(n)&&(n=n.catch((t=>{throw Is(e),t}))),[n,()=>Is(e)]}function ta(t,e,n){const i=arguments.length;return 2===i?K(e)&&!z(e)?ns(e)?ls(t,null,[e]):ls(t,e):ls(t,null,e):(i>3?n=Array.prototype.slice.call(arguments,2):3===i&&ns(n)&&(n=[n]),ls(t,e,n))}const ea=Symbol(""),na=()=>{{const t=ki(ea);return t}};function ia(){return void 0}function ra(t,e,n,i){const r=n[i];if(r&&oa(r,t))return r;const o=e();return o.memo=t.slice(),n[i]=o}function oa(t,e){const n=t.memo;if(n.length!=e.length)return!1;for(let i=0;i<n.length;i++)if(ut(n[i],e[i]))return!1;return Xo>0&&Zo&&Zo.push(t),!0}const sa="3.2.47",aa={createComponentInstance:Es,setupComponent:Rs,renderComponentRoot:ci,setCurrentRenderingInstance:ii,isVNode:ns,normalizeVNode:gs},ca=aa,la=null,ua=null,ha="http://www.w3.org/2000/svg",da="undefined"!==typeof document?document:null,fa=da&&da.createElement("template"),pa={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,i)=>{const r=e?da.createElementNS(ha,t):da.createElement(t,n?{is:n}:void 0);return"select"===t&&i&&null!=i.multiple&&r.setAttribute("multiple",i.multiple),r},createText:t=>da.createTextNode(t),createComment:t=>da.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>da.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,i,r,o){const s=n?n.previousSibling:e.lastChild;if(r&&(r===o||r.nextSibling)){while(1)if(e.insertBefore(r.cloneNode(!0),n),r===o||!(r=r.nextSibling))break}else{fa.innerHTML=i?`<svg>${t}</svg>`:t;const r=fa.content;if(i){const t=r.firstChild;while(t.firstChild)r.appendChild(t.firstChild);r.removeChild(t)}e.insertBefore(r,n)}return[s?s.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}};function ma(t,e,n){const i=t._vtc;i&&(e=(e?[e,...i]:[...i]).join(" ")),null==e?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}function ga(t,e,n){const i=t.style,r=W(n);if(n&&!r){if(e&&!W(e))for(const t in e)null==n[t]&&va(i,t,"");for(const t in n)va(i,t,n[t])}else{const o=i.display;r?e!==n&&(i.cssText=n):e&&t.removeAttribute("style"),"_vod"in t&&(i.display=o)}}const _a=/\s*!important$/;function va(t,e,n){if(z(n))n.forEach((n=>va(t,e,n)));else if(null==n&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const i=ba(t,e);_a.test(n)?t.setProperty(at(i),n.replace(_a,""),"important"):t[i]=n}}const ya=["Webkit","Moz","ms"],wa={};function ba(t,e){const n=wa[e];if(n)return n;let i=ot(e);if("filter"!==i&&i in t)return wa[e]=i;i=ct(i);for(let r=0;r<ya.length;r++){const n=ya[r]+i;if(n in t)return wa[e]=n}return e}const Ta="http://www.w3.org/1999/xlink";function Ea(t,e,n,i,r){if(i&&e.startsWith("xlink:"))null==n?t.removeAttributeNS(Ta,e.slice(6,e.length)):t.setAttributeNS(Ta,e,n);else{const i=T(e);null==n||i&&!E(n)?t.removeAttribute(e):t.setAttribute(e,i?"":n)}}function Sa(t,e,n,i,r,o,s){if("innerHTML"===e||"textContent"===e)return i&&s(i,r,o),void(t[e]=null==n?"":n);if("value"===e&&"PROGRESS"!==t.tagName&&!t.tagName.includes("-")){t._value=n;const i=null==n?"":n;return t.value===i&&"OPTION"!==t.tagName||(t.value=i),void(null==n&&t.removeAttribute(e))}let a=!1;if(""===n||null==n){const i=typeof t[e];"boolean"===i?n=E(n):null==n&&"string"===i?(n="",a=!0):"number"===i&&(n=0,a=!0)}try{t[e]=n}catch(c){0}a&&t.removeAttribute(e)}function xa(t,e,n,i){t.addEventListener(e,n,i)}function Ia(t,e,n,i){t.removeEventListener(e,n,i)}function Ca(t,e,n,i,r=null){const o=t._vei||(t._vei={}),s=o[e];if(i&&s)s.value=i;else{const[n,a]=Aa(e);if(i){const s=o[e]=Oa(i,r);xa(t,n,s,a)}else s&&(Ia(t,n,s,a),o[e]=void 0)}}const ka=/(?:Once|Passive|Capture)$/;function Aa(t){let e;if(ka.test(t)){let n;e={};while(n=t.match(ka))t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}const n=":"===t[2]?t.slice(3):at(t.slice(2));return[n,e]}let La=0;const Pa=Promise.resolve(),Ra=()=>La||(Pa.then((()=>La=0)),La=Date.now());function Oa(t,e){const n=t=>{if(t._vts){if(t._vts<=n.attached)return}else t._vts=Date.now();xn(Na(t,n.value),e,5,[t])};return n.value=t,n.attached=Ra(),n}function Na(t,e){if(z(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map((t=>e=>!e._stopped&&t&&t(e)))}return e}const Ma=/^on[a-z]/,Da=(t,e,n,i,r=!1,o,s,a,c)=>{"class"===e?ma(t,i,r):"style"===e?ga(t,n,i):N(e)?M(e)||Ca(t,e,n,i,s):("."===e[0]?(e=e.slice(1),1):"^"===e[0]?(e=e.slice(1),0):Ua(t,e,i,r))?Sa(t,e,i,o,s,a,c):("true-value"===e?t._trueValue=i:"false-value"===e&&(t._falseValue=i),Ea(t,e,i,r))};function Ua(t,e,n,i){return i?"innerHTML"===e||"textContent"===e||!!(e in t&&Ma.test(e)&&q(n)):"spellcheck"!==e&&"draggable"!==e&&"translate"!==e&&("form"!==e&&(("list"!==e||"INPUT"!==t.tagName)&&(("type"!==e||"TEXTAREA"!==t.tagName)&&((!Ma.test(e)||!W(n))&&e in t))))}function Fa(t,e){const n=Ki(t);class i extends Va{constructor(t){super(n,t,e)}}return i.def=n,i}const Ba=t=>Fa(t,Kc),za="undefined"!==typeof HTMLElement?HTMLElement:class{};class Va extends za{constructor(t,e={},n){super(),this._def=t,this._props=e,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this.shadowRoot&&n?n(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,Un((()=>{this._connected||(Zc(null,this.shadowRoot),this._instance=null)}))}_resolveDef(){this._resolved=!0;for(let n=0;n<this.attributes.length;n++)this._setAttr(this.attributes[n].name);new MutationObserver((t=>{for(const e of t)this._setAttr(e.attributeName)})).observe(this,{attributes:!0});const t=(t,e=!1)=>{const{props:n,styles:i}=t;let r;if(n&&!z(n))for(const o in n){const t=n[o];(t===Number||t&&t.type===Number)&&(o in this._props&&(this._props[o]=pt(this._props[o])),(r||(r=Object.create(null)))[ot(o)]=!0)}this._numberProps=r,e&&this._resolveProps(t),this._applyStyles(i),this._update()},e=this._def.__asyncLoader;e?e().then((e=>t(e,!0))):t(this._def)}_resolveProps(t){const{props:e}=t,n=z(e)?e:Object.keys(e||{});for(const i of Object.keys(this))"_"!==i[0]&&n.includes(i)&&this._setProp(i,this[i],!0,!1);for(const i of n.map(ot))Object.defineProperty(this,i,{get(){return this._getProp(i)},set(t){this._setProp(i,t)}})}_setAttr(t){let e=this.getAttribute(t);const n=ot(t);this._numberProps&&this._numberProps[n]&&(e=pt(e)),this._setProp(n,e,!1)}_getProp(t){return this._props[t]}_setProp(t,e,n=!0,i=!0){e!==this._props[t]&&(this._props[t]=e,i&&this._instance&&this._update(),n&&(!0===e?this.setAttribute(at(t),""):"string"===typeof e||"number"===typeof e?this.setAttribute(at(t),e+""):e||this.removeAttribute(at(t))))}_update(){Zc(this._createVNode(),this.shadowRoot)}_createVNode(){const t=ls(this._def,D({},this._props));return this._instance||(t.ce=t=>{this._instance=t,t.isCE=!0;const e=(t,e)=>{this.dispatchEvent(new CustomEvent(t,{detail:e}))};t.emit=(t,...n)=>{e(t,n),at(t)!==t&&e(at(t),n)};let n=this;while(n=n&&(n.parentNode||n.host))if(n instanceof Va){t.parent=n._instance,t.provides=n._instance.provides;break}}),t}_applyStyles(t){t&&t.forEach((t=>{const e=document.createElement("style");e.textContent=t,this.shadowRoot.appendChild(e)}))}}function ja(t="$style"){{const e=xs();if(!e)return A;const n=e.type.__cssModules;if(!n)return A;const i=n[t];return i||A}}function $a(t){const e=xs();if(!e)return;const n=e.ut=(n=t(e.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${e.uid}"]`)).forEach((t=>qa(t,n)))},i=()=>{const i=t(e.proxy);Ha(e.subTree,i),n(i)};Li(i),hr((()=>{const t=new MutationObserver(i);t.observe(e.subTree.el.parentNode,{childList:!0}),mr((()=>t.disconnect()))}))}function Ha(t,e){if(128&t.shapeFlag){const n=t.suspense;t=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push((()=>{Ha(n.activeBranch,e)}))}while(t.component)t=t.component.subTree;if(1&t.shapeFlag&&t.el)qa(t.el,e);else if(t.type===jo)t.children.forEach((t=>Ha(t,e)));else if(t.type===qo){let{el:n,anchor:i}=t;while(n){if(qa(n,e),n===i)break;n=n.nextSibling}}}function qa(t,e){if(1===t.nodeType){const n=t.style;for(const t in e)n.setProperty(`--${t}`,e[t])}}const Wa="transition",Za="animation",Ka=(t,{slots:e})=>ta(Vi,Ya(t),e);Ka.displayName="Transition";const Ga={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Ja=Ka.props=D({},Vi.props,Ga),Xa=(t,e=[])=>{z(t)?t.forEach((t=>t(...e))):t&&t(...e)},Qa=t=>!!t&&(z(t)?t.some((t=>t.length>1)):t.length>1);function Ya(t){const e={};for(const k in t)k in Ga||(e[k]=t[k]);if(!1===t.css)return e;const{name:n="v",type:i,duration:r,enterFromClass:o=`${n}-enter-from`,enterActiveClass:s=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:c=o,appearActiveClass:l=s,appearToClass:u=a,leaveFromClass:h=`${n}-leave-from`,leaveActiveClass:d=`${n}-leave-active`,leaveToClass:f=`${n}-leave-to`}=t,p=tc(r),m=p&&p[0],g=p&&p[1],{onBeforeEnter:_,onEnter:v,onEnterCancelled:y,onLeave:w,onLeaveCancelled:b,onBeforeAppear:T=_,onAppear:E=v,onAppearCancelled:S=y}=e,x=(t,e,n)=>{ic(t,e?u:a),ic(t,e?l:s),n&&n()},I=(t,e)=>{t._isLeaving=!1,ic(t,h),ic(t,f),ic(t,d),e&&e()},C=t=>(e,n)=>{const r=t?E:v,s=()=>x(e,t,n);Xa(r,[e,s]),rc((()=>{ic(e,t?c:o),nc(e,t?u:a),Qa(r)||sc(e,i,m,s)}))};return D(e,{onBeforeEnter(t){Xa(_,[t]),nc(t,o),nc(t,s)},onBeforeAppear(t){Xa(T,[t]),nc(t,c),nc(t,l)},onEnter:C(!1),onAppear:C(!0),onLeave(t,e){t._isLeaving=!0;const n=()=>I(t,e);nc(t,h),uc(),nc(t,d),rc((()=>{t._isLeaving&&(ic(t,h),nc(t,f),Qa(w)||sc(t,i,g,n))})),Xa(w,[t,n])},onEnterCancelled(t){x(t,!1),Xa(y,[t])},onAppearCancelled(t){x(t,!0),Xa(S,[t])},onLeaveCancelled(t){I(t),Xa(b,[t])}})}function tc(t){if(null==t)return null;if(K(t))return[ec(t.enter),ec(t.leave)];{const e=ec(t);return[e,e]}}function ec(t){const e=pt(t);return e}function nc(t,e){e.split(/\s+/).forEach((e=>e&&t.classList.add(e))),(t._vtc||(t._vtc=new Set)).add(e)}function ic(t,e){e.split(/\s+/).forEach((e=>e&&t.classList.remove(e)));const{_vtc:n}=t;n&&(n.delete(e),n.size||(t._vtc=void 0))}function rc(t){requestAnimationFrame((()=>{requestAnimationFrame(t)}))}let oc=0;function sc(t,e,n,i){const r=t._endId=++oc,o=()=>{r===t._endId&&i()};if(n)return setTimeout(o,n);const{type:s,timeout:a,propCount:c}=ac(t,e);if(!s)return i();const l=s+"end";let u=0;const h=()=>{t.removeEventListener(l,d),o()},d=e=>{e.target===t&&++u>=c&&h()};setTimeout((()=>{u<c&&h()}),a+1),t.addEventListener(l,d)}function ac(t,e){const n=window.getComputedStyle(t),i=t=>(n[t]||"").split(", "),r=i(`${Wa}Delay`),o=i(`${Wa}Duration`),s=cc(r,o),a=i(`${Za}Delay`),c=i(`${Za}Duration`),l=cc(a,c);let u=null,h=0,d=0;e===Wa?s>0&&(u=Wa,h=s,d=o.length):e===Za?l>0&&(u=Za,h=l,d=c.length):(h=Math.max(s,l),u=h>0?s>l?Wa:Za:null,d=u?u===Wa?o.length:c.length:0);const f=u===Wa&&/\b(transform|all)(,|$)/.test(i(`${Wa}Property`).toString());return{type:u,timeout:h,propCount:d,hasTransform:f}}function cc(t,e){while(t.length<e.length)t=t.concat(t);return Math.max(...e.map(((e,n)=>lc(e)+lc(t[n]))))}function lc(t){return 1e3*Number(t.slice(0,-1).replace(",","."))}function uc(){return document.body.offsetHeight}const hc=new WeakMap,dc=new WeakMap,fc={name:"TransitionGroup",props:D({},Ja,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=xs(),i=Fi();let r,o;return fr((()=>{if(!r.length)return;const e=t.moveClass||`${t.name||"v"}-move`;if(!vc(r[0].el,n.vnode.el,e))return;r.forEach(mc),r.forEach(gc);const i=r.filter(_c);uc(),i.forEach((t=>{const n=t.el,i=n.style;nc(n,e),i.transform=i.webkitTransform=i.transitionDuration="";const r=n._moveCb=t=>{t&&t.target!==n||t&&!/transform$/.test(t.propertyName)||(n.removeEventListener("transitionend",r),n._moveCb=null,ic(n,e))};n.addEventListener("transitionend",r)}))})),()=>{const s=Qe(t),a=Ya(s);let c=s.tag||jo;r=o,o=e.default?Zi(e.default()):[];for(let t=0;t<o.length;t++){const e=o[t];null!=e.key&&Wi(e,$i(e,a,i,n))}if(r)for(let t=0;t<r.length;t++){const e=r[t];Wi(e,$i(e,a,i,n)),hc.set(e,e.el.getBoundingClientRect())}return ls(c,null,o)}}};fc.props;const pc=fc;function mc(t){const e=t.el;e._moveCb&&e._moveCb(),e._enterCb&&e._enterCb()}function gc(t){dc.set(t,t.el.getBoundingClientRect())}function _c(t){const e=hc.get(t),n=dc.get(t),i=e.left-n.left,r=e.top-n.top;if(i||r){const e=t.el.style;return e.transform=e.webkitTransform=`translate(${i}px,${r}px)`,e.transitionDuration="0s",t}}function vc(t,e,n){const i=t.cloneNode();t._vtc&&t._vtc.forEach((t=>{t.split(/\s+/).forEach((t=>t&&i.classList.remove(t)))})),n.split(/\s+/).forEach((t=>t&&i.classList.add(t))),i.style.display="none";const r=1===e.nodeType?e:e.parentNode;r.appendChild(i);const{hasTransform:o}=ac(i);return r.removeChild(i),o}const yc=t=>{const e=t.props["onUpdate:modelValue"]||!1;return z(e)?t=>ht(e,t):e};function wc(t){t.target.composing=!0}function bc(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Tc={created(t,{modifiers:{lazy:e,trim:n,number:i}},r){t._assign=yc(r);const o=i||r.props&&"number"===r.props.type;xa(t,e?"change":"input",(e=>{if(e.target.composing)return;let i=t.value;n&&(i=i.trim()),o&&(i=ft(i)),t._assign(i)})),n&&xa(t,"change",(()=>{t.value=t.value.trim()})),e||(xa(t,"compositionstart",wc),xa(t,"compositionend",bc),xa(t,"change",bc))},mounted(t,{value:e}){t.value=null==e?"":e},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:i,number:r}},o){if(t._assign=yc(o),t.composing)return;if(document.activeElement===t&&"range"!==t.type){if(n)return;if(i&&t.value.trim()===e)return;if((r||"number"===t.type)&&ft(t.value)===e)return}const s=null==e?"":e;t.value!==s&&(t.value=s)}},Ec={deep:!0,created(t,e,n){t._assign=yc(n),xa(t,"change",(()=>{const e=t._modelValue,n=kc(t),i=t.checked,r=t._assign;if(z(e)){const t=I(e,n),o=-1!==t;if(i&&!o)r(e.concat(n));else if(!i&&o){const n=[...e];n.splice(t,1),r(n)}}else if(j(e)){const t=new Set(e);i?t.add(n):t.delete(n),r(t)}else r(Ac(t,i))}))},mounted:Sc,beforeUpdate(t,e,n){t._assign=yc(n),Sc(t,e,n)}};function Sc(t,{value:e,oldValue:n},i){t._modelValue=e,z(e)?t.checked=I(e,i.props.value)>-1:j(e)?t.checked=e.has(i.props.value):e!==n&&(t.checked=x(e,Ac(t,!0)))}const xc={created(t,{value:e},n){t.checked=x(e,n.props.value),t._assign=yc(n),xa(t,"change",(()=>{t._assign(kc(t))}))},beforeUpdate(t,{value:e,oldValue:n},i){t._assign=yc(i),e!==n&&(t.checked=x(e,i.props.value))}},Ic={deep:!0,created(t,{value:e,modifiers:{number:n}},i){const r=j(e);xa(t,"change",(()=>{const e=Array.prototype.filter.call(t.options,(t=>t.selected)).map((t=>n?ft(kc(t)):kc(t)));t._assign(t.multiple?r?new Set(e):e:e[0])})),t._assign=yc(i)},mounted(t,{value:e}){Cc(t,e)},beforeUpdate(t,e,n){t._assign=yc(n)},updated(t,{value:e}){Cc(t,e)}};function Cc(t,e){const n=t.multiple;if(!n||z(e)||j(e)){for(let i=0,r=t.options.length;i<r;i++){const r=t.options[i],o=kc(r);if(n)z(e)?r.selected=I(e,o)>-1:r.selected=e.has(o);else if(x(kc(r),e))return void(t.selectedIndex!==i&&(t.selectedIndex=i))}n||-1===t.selectedIndex||(t.selectedIndex=-1)}}function kc(t){return"_value"in t?t._value:t.value}function Ac(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const Lc={created(t,e,n){Rc(t,e,n,null,"created")},mounted(t,e,n){Rc(t,e,n,null,"mounted")},beforeUpdate(t,e,n,i){Rc(t,e,n,i,"beforeUpdate")},updated(t,e,n,i){Rc(t,e,n,i,"updated")}};function Pc(t,e){switch(t){case"SELECT":return Ic;case"TEXTAREA":return Tc;default:switch(e){case"checkbox":return Ec;case"radio":return xc;default:return Tc}}}function Rc(t,e,n,i,r){const o=Pc(t.tagName,n.props&&n.props.type),s=o[r];s&&s(t,e,n,i)}function Oc(){Tc.getSSRProps=({value:t})=>({value:t}),xc.getSSRProps=({value:t},e)=>{if(e.props&&x(e.props.value,t))return{checked:!0}},Ec.getSSRProps=({value:t},e)=>{if(z(t)){if(e.props&&I(t,e.props.value)>-1)return{checked:!0}}else if(j(t)){if(e.props&&t.has(e.props.value))return{checked:!0}}else if(t)return{checked:!0}},Lc.getSSRProps=(t,e)=>{if("string"!==typeof e.type)return;const n=Pc(e.type.toUpperCase(),e.props&&e.props.type);return n.getSSRProps?n.getSSRProps(t,e):void 0}}const Nc=["ctrl","shift","alt","meta"],Mc={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&0!==t.button,middle:t=>"button"in t&&1!==t.button,right:t=>"button"in t&&2!==t.button,exact:(t,e)=>Nc.some((n=>t[`${n}Key`]&&!e.includes(n)))},Dc=(t,e)=>(n,...i)=>{for(let t=0;t<e.length;t++){const i=Mc[e[t]];if(i&&i(n,e))return}return t(n,...i)},Uc={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Fc=(t,e)=>n=>{if(!("key"in n))return;const i=at(n.key);return e.some((t=>t===i||Uc[t]===i))?t(n):void 0},Bc={beforeMount(t,{value:e},{transition:n}){t._vod="none"===t.style.display?"":t.style.display,n&&e?n.beforeEnter(t):zc(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:i}){!e!==!n&&(i?e?(i.beforeEnter(t),zc(t,!0),i.enter(t)):i.leave(t,(()=>{zc(t,!1)})):zc(t,e))},beforeUnmount(t,{value:e}){zc(t,e)}};function zc(t,e){t.style.display=e?t._vod:"none"}function Vc(){Bc.getSSRProps=({value:t})=>{if(!t)return{style:{display:"none"}}}}const jc=D({patchProp:Da},pa);let $c,Hc=!1;function qc(){return $c||($c=Co(jc))}function Wc(){return $c=Hc?$c:ko(jc),Hc=!0,$c}const Zc=(...t)=>{qc().render(...t)},Kc=(...t)=>{Wc().hydrate(...t)},Gc=(...t)=>{const e=qc().createApp(...t);const{mount:n}=e;return e.mount=t=>{const i=Xc(t);if(!i)return;const r=e._component;q(r)||r.render||r.template||(r.template=i.innerHTML),i.innerHTML="";const o=n(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e},Jc=(...t)=>{const e=Wc().createApp(...t);const{mount:n}=e;return e.mount=t=>{const e=Xc(t);if(e)return n(e,!0,e instanceof SVGElement)},e};function Xc(t){if(W(t)){const e=document.querySelector(t);return e}return t}let Qc=!1;const Yc=()=>{Qc||(Qc=!0,Oc(),Vc())};function tl(t){throw t}function el(t){}function nl(t,e,n,i){const r=t,o=new SyntaxError(String(r));return o.code=t,o.loc=e,o}const il=Symbol(""),rl=Symbol(""),ol=Symbol(""),sl=Symbol(""),al=Symbol(""),cl=Symbol(""),ll=Symbol(""),ul=Symbol(""),hl=Symbol(""),dl=Symbol(""),fl=Symbol(""),pl=Symbol(""),ml=Symbol(""),gl=Symbol(""),_l=Symbol(""),vl=Symbol(""),yl=Symbol(""),wl=Symbol(""),bl=Symbol(""),Tl=Symbol(""),El=Symbol(""),Sl=Symbol(""),xl=Symbol(""),Il=Symbol(""),Cl=Symbol(""),kl=Symbol(""),Al=Symbol(""),Ll=Symbol(""),Pl=Symbol(""),Rl=Symbol(""),Ol=Symbol(""),Nl=Symbol(""),Ml=Symbol(""),Dl=Symbol(""),Ul=Symbol(""),Fl=Symbol(""),Bl=Symbol(""),zl=Symbol(""),Vl=Symbol(""),jl={[il]:"Fragment",[rl]:"Teleport",[ol]:"Suspense",[sl]:"KeepAlive",[al]:"BaseTransition",[cl]:"openBlock",[ll]:"createBlock",[ul]:"createElementBlock",[hl]:"createVNode",[dl]:"createElementVNode",[fl]:"createCommentVNode",[pl]:"createTextVNode",[ml]:"createStaticVNode",[gl]:"resolveComponent",[_l]:"resolveDynamicComponent",[vl]:"resolveDirective",[yl]:"resolveFilter",[wl]:"withDirectives",[bl]:"renderList",[Tl]:"renderSlot",[El]:"createSlots",[Sl]:"toDisplayString",[xl]:"mergeProps",[Il]:"normalizeClass",[Cl]:"normalizeStyle",[kl]:"normalizeProps",[Al]:"guardReactiveProps",[Ll]:"toHandlers",[Pl]:"camelize",[Rl]:"capitalize",[Ol]:"toHandlerKey",[Nl]:"setBlockTracking",[Ml]:"pushScopeId",[Dl]:"popScopeId",[Ul]:"withCtx",[Fl]:"unref",[Bl]:"isRef",[zl]:"withMemo",[Vl]:"isMemoSame"};function $l(t){Object.getOwnPropertySymbols(t).forEach((e=>{jl[e]=t[e]}))}const Hl={source:"",start:{line:1,column:1,offset:0},end:{line:1,column:1,offset:0}};function ql(t,e=Hl){return{type:0,children:t,helpers:new Set,components:[],directives:[],hoists:[],imports:[],cached:0,temps:0,codegenNode:void 0,loc:e}}function Wl(t,e,n,i,r,o,s,a=!1,c=!1,l=!1,u=Hl){return t&&(a?(t.helper(cl),t.helper(xu(t.inSSR,l))):t.helper(Su(t.inSSR,l)),s&&t.helper(wl)),{type:13,tag:e,props:n,children:i,patchFlag:r,dynamicProps:o,directives:s,isBlock:a,disableTracking:c,isComponent:l,loc:u}}function Zl(t,e=Hl){return{type:17,loc:e,elements:t}}function Kl(t,e=Hl){return{type:15,loc:e,properties:t}}function Gl(t,e){return{type:16,loc:Hl,key:W(t)?Jl(t,!0):t,value:e}}function Jl(t,e=!1,n=Hl,i=0){return{type:4,loc:n,content:t,isStatic:e,constType:e?3:i}}function Xl(t,e=Hl){return{type:8,loc:e,children:t}}function Ql(t,e=[],n=Hl){return{type:14,loc:n,callee:t,arguments:e}}function Yl(t,e=void 0,n=!1,i=!1,r=Hl){return{type:18,params:t,returns:e,newline:n,isSlot:i,loc:r}}function tu(t,e,n,i=!0){return{type:19,test:t,consequent:e,alternate:n,newline:i,loc:Hl}}function eu(t,e,n=!1){return{type:20,index:t,value:e,isVNode:n,loc:Hl}}function nu(t){return{type:21,body:t,loc:Hl}}const iu=t=>4===t.type&&t.isStatic,ru=(t,e)=>t===e||t===at(e);function ou(t){return ru(t,"Teleport")?rl:ru(t,"Suspense")?ol:ru(t,"KeepAlive")?sl:ru(t,"BaseTransition")?al:void 0}const su=/^\d|[^\$\w]/,au=t=>!su.test(t),cu=/[A-Za-z_$\xA0-\uFFFF]/,lu=/[\.\?\w$\xA0-\uFFFF]/,uu=/\s+[.[]\s*|\s*[.[]\s+/g,hu=t=>{t=t.trim().replace(uu,(t=>t.trim()));let e=0,n=[],i=0,r=0,o=null;for(let s=0;s<t.length;s++){const a=t.charAt(s);switch(e){case 0:if("["===a)n.push(e),e=1,i++;else if("("===a)n.push(e),e=2,r++;else if(!(0===s?cu:lu).test(a))return!1;break;case 1:"'"===a||'"'===a||"`"===a?(n.push(e),e=3,o=a):"["===a?i++:"]"===a&&(--i||(e=n.pop()));break;case 2:if("'"===a||'"'===a||"`"===a)n.push(e),e=3,o=a;else if("("===a)r++;else if(")"===a){if(s===t.length-1)return!1;--r||(e=n.pop())}break;case 3:a===o&&(e=n.pop(),o=null);break}}return!i&&!r},du=hu;function fu(t,e,n){const i=t.source.slice(e,e+n),r={source:i,start:pu(t.start,t.source,e),end:t.end};return null!=n&&(r.end=pu(t.start,t.source,e+n)),r}function pu(t,e,n=e.length){return mu(D({},t),e,n)}function mu(t,e,n=e.length){let i=0,r=-1;for(let o=0;o<n;o++)10===e.charCodeAt(o)&&(i++,r=o);return t.offset+=n,t.line+=i,t.column=-1===r?t.column+n:n-r,t}function gu(t,e,n=!1){for(let i=0;i<t.props.length;i++){const r=t.props[i];if(7===r.type&&(n||r.exp)&&(W(e)?r.name===e:e.test(r.name)))return r}}function _u(t,e,n=!1,i=!1){for(let r=0;r<t.props.length;r++){const o=t.props[r];if(6===o.type){if(n)continue;if(o.name===e&&(o.value||i))return o}else if("bind"===o.name&&(o.exp||i)&&vu(o.arg,e))return o}}function vu(t,e){return!(!t||!iu(t)||t.content!==e)}function yu(t){return t.props.some((t=>7===t.type&&"bind"===t.name&&(!t.arg||4!==t.arg.type||!t.arg.isStatic)))}function wu(t){return 5===t.type||2===t.type}function bu(t){return 7===t.type&&"slot"===t.name}function Tu(t){return 1===t.type&&3===t.tagType}function Eu(t){return 1===t.type&&2===t.tagType}function Su(t,e){return t||e?hl:dl}function xu(t,e){return t||e?ll:ul}const Iu=new Set([kl,Al]);function Cu(t,e=[]){if(t&&!W(t)&&14===t.type){const n=t.callee;if(!W(n)&&Iu.has(n))return Cu(t.arguments[0],e.concat(t))}return[t,e]}function ku(t,e,n){let i,r,o=13===t.type?t.props:t.arguments[2],s=[];if(o&&!W(o)&&14===o.type){const t=Cu(o);o=t[0],s=t[1],r=s[s.length-1]}if(null==o||W(o))i=Kl([e]);else if(14===o.type){const t=o.arguments[0];W(t)||15!==t.type?o.callee===Ll?i=Ql(n.helper(xl),[Kl([e]),o]):o.arguments.unshift(Kl([e])):Au(e,t)||t.properties.unshift(e),!i&&(i=o)}else 15===o.type?(Au(e,o)||o.properties.unshift(e),i=o):(i=Ql(n.helper(xl),[Kl([e]),o]),r&&r.callee===Al&&(r=s[s.length-2]));13===t.type?r?r.arguments[0]=i:t.props=i:r?r.arguments[0]=i:t.arguments[2]=i}function Au(t,e){let n=!1;if(4===t.key.type){const i=t.key.content;n=e.properties.some((t=>4===t.key.type&&t.key.content===i))}return n}function Lu(t,e){return`_${e}_${t.replace(/[^\w]/g,((e,n)=>"-"===e?"_":t.charCodeAt(n).toString()))}`}function Pu(t){return 14===t.type&&t.callee===zl?t.arguments[1].returns:t}function Ru(t,{helper:e,removeHelper:n,inSSR:i}){t.isBlock||(t.isBlock=!0,n(Su(i,t.isComponent)),e(cl),e(xu(i,t.isComponent)))}function Ou(t,e){const n=e.options?e.options.compatConfig:e.compatConfig,i=n&&n[t];return"MODE"===t?i||3:i}function Nu(t,e){const n=Ou("MODE",e),i=Ou(t,e);return 3===n?!0===i:!1!==i}function Mu(t,e,n,...i){const r=Nu(t,e);return r}const Du=/&(gt|lt|amp|apos|quot);/g,Uu={gt:">",lt:"<",amp:"&",apos:"'",quot:'"'},Fu={delimiters:["{{","}}"],getNamespace:()=>0,getTextMode:()=>0,isVoidTag:R,isPreTag:R,isCustomElement:R,decodeEntities:t=>t.replace(Du,((t,e)=>Uu[e])),onError:tl,onWarn:el,comments:!1};function Bu(t,e={}){const n=zu(t,e),i=nh(n);return ql(Vu(n,0,[]),ih(n,i))}function zu(t,e){const n=D({},Fu);let i;for(i in e)n[i]=void 0===e[i]?Fu[i]:e[i];return{options:n,column:1,line:1,offset:0,originalSource:t,source:t,inPre:!1,inVPre:!1,onWarn:n.onWarn}}function Vu(t,e,n){const i=rh(n),r=i?i.ns:0,o=[];while(!uh(t,e,n)){const s=t.source;let a;if(0===e||1===e)if(!t.inVPre&&oh(s,t.options.delimiters[0]))a=Yu(t,e);else if(0===e&&"<"===s[0])if(1===s.length)lh(t,5,1);else if("!"===s[1])oh(s,"\x3c!--")?a=Hu(t):oh(s,"<!DOCTYPE")?a=qu(t):oh(s,"<![CDATA[")?0!==r?a=$u(t,n):(lh(t,1),a=qu(t)):(lh(t,11),a=qu(t));else if("/"===s[1])if(2===s.length)lh(t,5,2);else{if(">"===s[2]){lh(t,14,2),sh(t,3);continue}if(/[a-z]/i.test(s[2])){lh(t,23),Ku(t,1,i);continue}lh(t,12,2),a=qu(t)}else/[a-z]/i.test(s[1])?(a=Wu(t,n),Nu("COMPILER_NATIVE_TEMPLATE",t)&&a&&"template"===a.tag&&!a.props.some((t=>7===t.type&&Zu(t.name)))&&(a=a.children)):"?"===s[1]?(lh(t,21,1),a=qu(t)):lh(t,12,1);if(a||(a=th(t,e)),z(a))for(let t=0;t<a.length;t++)ju(o,a[t]);else ju(o,a)}let s=!1;if(2!==e&&1!==e){const e="preserve"!==t.options.whitespace;for(let n=0;n<o.length;n++){const i=o[n];if(2===i.type)if(t.inPre)i.content=i.content.replace(/\r\n/g,"\n");else if(/[^\t\r\n\f ]/.test(i.content))e&&(i.content=i.content.replace(/[\t\r\n\f ]+/g," "));else{const t=o[n-1],r=o[n+1];!t||!r||e&&(3===t.type&&3===r.type||3===t.type&&1===r.type||1===t.type&&3===r.type||1===t.type&&1===r.type&&/[\r\n]/.test(i.content))?(s=!0,o[n]=null):i.content=" "}else 3!==i.type||t.options.comments||(s=!0,o[n]=null)}if(t.inPre&&i&&t.options.isPreTag(i.tag)){const t=o[0];t&&2===t.type&&(t.content=t.content.replace(/^\r?\n/,""))}}return s?o.filter(Boolean):o}function ju(t,e){if(2===e.type){const n=rh(t);if(n&&2===n.type&&n.loc.end.offset===e.loc.start.offset)return n.content+=e.content,n.loc.end=e.loc.end,void(n.loc.source+=e.loc.source)}t.push(e)}function $u(t,e){sh(t,9);const n=Vu(t,3,e);return 0===t.source.length?lh(t,6):sh(t,3),n}function Hu(t){const e=nh(t);let n;const i=/--(\!)?>/.exec(t.source);if(i){i.index<=3&&lh(t,0),i[1]&&lh(t,10),n=t.source.slice(4,i.index);const e=t.source.slice(0,i.index);let r=1,o=0;while(-1!==(o=e.indexOf("\x3c!--",r)))sh(t,o-r+1),o+4<e.length&&lh(t,16),r=o+1;sh(t,i.index+i[0].length-r+1)}else n=t.source.slice(4),sh(t,t.source.length),lh(t,7);return{type:3,content:n,loc:ih(t,e)}}function qu(t){const e=nh(t),n="?"===t.source[1]?1:2;let i;const r=t.source.indexOf(">");return-1===r?(i=t.source.slice(n),sh(t,t.source.length)):(i=t.source.slice(n,r),sh(t,r+1)),{type:3,content:i,loc:ih(t,e)}}function Wu(t,e){const n=t.inPre,i=t.inVPre,r=rh(e),o=Ku(t,0,r),s=t.inPre&&!n,a=t.inVPre&&!i;if(o.isSelfClosing||t.options.isVoidTag(o.tag))return s&&(t.inPre=!1),a&&(t.inVPre=!1),o;e.push(o);const c=t.options.getTextMode(o,r),l=Vu(t,c,e);e.pop();{const e=o.props.find((t=>6===t.type&&"inline-template"===t.name));if(e&&Mu("COMPILER_INLINE_TEMPLATE",t,e.loc)){const n=ih(t,o.loc.end);e.value={type:2,content:n.source,loc:n}}}if(o.children=l,hh(t.source,o.tag))Ku(t,1,r);else if(lh(t,24,0,o.loc.start),0===t.source.length&&"script"===o.tag.toLowerCase()){const e=l[0];e&&oh(e.loc.source,"\x3c!--")&&lh(t,8)}return o.loc=ih(t,o.loc.start),s&&(t.inPre=!1),a&&(t.inVPre=!1),o}const Zu=r("if,else,else-if,for,slot");function Ku(t,e,n){const i=nh(t),r=/^<\/?([a-z][^\t\r\n\f />]*)/i.exec(t.source),o=r[1],s=t.options.getNamespace(o,n);sh(t,r[0].length),ah(t);const a=nh(t),c=t.source;t.options.isPreTag(o)&&(t.inPre=!0);let l=Ju(t,e);0===e&&!t.inVPre&&l.some((t=>7===t.type&&"pre"===t.name))&&(t.inVPre=!0,D(t,a),t.source=c,l=Ju(t,e).filter((t=>"v-pre"!==t.name)));let u=!1;if(0===t.source.length?lh(t,9):(u=oh(t.source,"/>"),1===e&&u&&lh(t,4),sh(t,u?2:1)),1===e)return;let h=0;return t.inVPre||("slot"===o?h=2:"template"===o?l.some((t=>7===t.type&&Zu(t.name)))&&(h=3):Gu(o,l,t)&&(h=1)),{type:1,ns:s,tag:o,tagType:h,props:l,isSelfClosing:u,children:[],loc:ih(t,i),codegenNode:void 0}}function Gu(t,e,n){const i=n.options;if(i.isCustomElement(t))return!1;if("component"===t||/^[A-Z]/.test(t)||ou(t)||i.isBuiltInComponent&&i.isBuiltInComponent(t)||i.isNativeTag&&!i.isNativeTag(t))return!0;for(let r=0;r<e.length;r++){const t=e[r];if(6===t.type){if("is"===t.name&&t.value){if(t.value.content.startsWith("vue:"))return!0;if(Mu("COMPILER_IS_ON_ELEMENT",n,t.loc))return!0}}else{if("is"===t.name)return!0;if("bind"===t.name&&vu(t.arg,"is")&&Mu("COMPILER_IS_ON_ELEMENT",n,t.loc))return!0}}}function Ju(t,e){const n=[],i=new Set;while(t.source.length>0&&!oh(t.source,">")&&!oh(t.source,"/>")){if(oh(t.source,"/")){lh(t,22),sh(t,1),ah(t);continue}1===e&&lh(t,3);const r=Xu(t,i);6===r.type&&r.value&&"class"===r.name&&(r.value.content=r.value.content.replace(/\s+/g," ").trim()),0===e&&n.push(r),/^[^\t\r\n\f />]/.test(t.source)&&lh(t,15),ah(t)}return n}function Xu(t,e){const n=nh(t),i=/^[^\t\r\n\f />][^\t\r\n\f />=]*/.exec(t.source),r=i[0];e.has(r)&&lh(t,2),e.add(r),"="===r[0]&&lh(t,19);{const e=/["'<]/g;let n;while(n=e.exec(r))lh(t,17,n.index)}let o;sh(t,r.length),/^[\t\r\n\f ]*=/.test(t.source)&&(ah(t),sh(t,1),ah(t),o=Qu(t),o||lh(t,13));const s=ih(t,n);if(!t.inVPre&&/^(v-[A-Za-z0-9-]|:|\.|@|#)/.test(r)){const e=/(?:^v-([a-z0-9-]+))?(?:(?::|^\.|^@|^#)(\[[^\]]+\]|[^\.]+))?(.+)?$/i.exec(r);let i,a=oh(r,"."),c=e[1]||(a||oh(r,":")?"bind":oh(r,"@")?"on":"slot");if(e[2]){const o="slot"===c,s=r.lastIndexOf(e[2]),a=ih(t,ch(t,n,s),ch(t,n,s+e[2].length+(o&&e[3]||"").length));let l=e[2],u=!0;l.startsWith("[")?(u=!1,l.endsWith("]")?l=l.slice(1,l.length-1):(lh(t,27),l=l.slice(1))):o&&(l+=e[3]||""),i={type:4,content:l,isStatic:u,constType:u?3:0,loc:a}}if(o&&o.isQuoted){const t=o.loc;t.start.offset++,t.start.column++,t.end=pu(t.start,o.content),t.source=t.source.slice(1,-1)}const l=e[3]?e[3].slice(1).split("."):[];return a&&l.push("prop"),"bind"===c&&i&&l.includes("sync")&&Mu("COMPILER_V_BIND_SYNC",t,s,i.loc.source)&&(c="model",l.splice(l.indexOf("sync"),1)),{type:7,name:c,exp:o&&{type:4,content:o.content,isStatic:!1,constType:0,loc:o.loc},arg:i,modifiers:l,loc:s}}return!t.inVPre&&oh(r,"v-")&&lh(t,26),{type:6,name:r,value:o&&{type:2,content:o.content,loc:o.loc},loc:s}}function Qu(t){const e=nh(t);let n;const i=t.source[0],r='"'===i||"'"===i;if(r){sh(t,1);const e=t.source.indexOf(i);-1===e?n=eh(t,t.source.length,4):(n=eh(t,e,4),sh(t,1))}else{const e=/^[^\t\r\n\f >]+/.exec(t.source);if(!e)return;const i=/["'<=`]/g;let r;while(r=i.exec(e[0]))lh(t,18,r.index);n=eh(t,e[0].length,4)}return{content:n,isQuoted:r,loc:ih(t,e)}}function Yu(t,e){const[n,i]=t.options.delimiters,r=t.source.indexOf(i,n.length);if(-1===r)return void lh(t,25);const o=nh(t);sh(t,n.length);const s=nh(t),a=nh(t),c=r-n.length,l=t.source.slice(0,c),u=eh(t,c,e),h=u.trim(),d=u.indexOf(h);d>0&&mu(s,l,d);const f=c-(u.length-h.length-d);return mu(a,l,f),sh(t,i.length),{type:5,content:{type:4,isStatic:!1,constType:0,content:h,loc:ih(t,s,a)},loc:ih(t,o)}}function th(t,e){const n=3===e?["]]>"]:["<",t.options.delimiters[0]];let i=t.source.length;for(let s=0;s<n.length;s++){const e=t.source.indexOf(n[s],1);-1!==e&&i>e&&(i=e)}const r=nh(t),o=eh(t,i,e);return{type:2,content:o,loc:ih(t,r)}}function eh(t,e,n){const i=t.source.slice(0,e);return sh(t,e),2!==n&&3!==n&&i.includes("&")?t.options.decodeEntities(i,4===n):i}function nh(t){const{column:e,line:n,offset:i}=t;return{column:e,line:n,offset:i}}function ih(t,e,n){return n=n||nh(t),{start:e,end:n,source:t.originalSource.slice(e.offset,n.offset)}}function rh(t){return t[t.length-1]}function oh(t,e){return t.startsWith(e)}function sh(t,e){const{source:n}=t;mu(t,n,e),t.source=n.slice(e)}function ah(t){const e=/^[\t\r\n\f ]+/.exec(t.source);e&&sh(t,e[0].length)}function ch(t,e,n){return pu(e,t.originalSource.slice(e.offset,n),n)}function lh(t,e,n,i=nh(t)){n&&(i.offset+=n,i.column+=n),t.options.onError(nl(e,{start:i,end:i,source:""}))}function uh(t,e,n){const i=t.source;switch(e){case 0:if(oh(i,"</"))for(let t=n.length-1;t>=0;--t)if(hh(i,n[t].tag))return!0;break;case 1:case 2:{const t=rh(n);if(t&&hh(i,t.tag))return!0;break}case 3:if(oh(i,"]]>"))return!0;break}return!i}function hh(t,e){return oh(t,"</")&&t.slice(2,2+e.length).toLowerCase()===e.toLowerCase()&&/[\t\r\n\f />]/.test(t[2+e.length]||">")}function dh(t,e){ph(t,e,fh(t,t.children[0]))}function fh(t,e){const{children:n}=t;return 1===n.length&&1===e.type&&!Eu(e)}function ph(t,e,n=!1){const{children:i}=t,r=i.length;let o=0;for(let s=0;s<i.length;s++){const t=i[s];if(1===t.type&&0===t.tagType){const i=n?0:mh(t,e);if(i>0){if(i>=2){t.codegenNode.patchFlag="-1",t.codegenNode=e.hoist(t.codegenNode),o++;continue}}else{const n=t.codegenNode;if(13===n.type){const i=wh(n);if((!i||512===i||1===i)&&vh(t,e)>=2){const i=yh(t);i&&(n.props=e.hoist(i))}n.dynamicProps&&(n.dynamicProps=e.hoist(n.dynamicProps))}}}if(1===t.type){const n=1===t.tagType;n&&e.scopes.vSlot++,ph(t,e),n&&e.scopes.vSlot--}else if(11===t.type)ph(t,e,1===t.children.length);else if(9===t.type)for(let n=0;n<t.branches.length;n++)ph(t.branches[n],e,1===t.branches[n].children.length)}o&&e.transformHoist&&e.transformHoist(i,e,t),o&&o===r&&1===t.type&&0===t.tagType&&t.codegenNode&&13===t.codegenNode.type&&z(t.codegenNode.children)&&(t.codegenNode.children=e.hoist(Zl(t.codegenNode.children)))}function mh(t,e){const{constantCache:n}=e;switch(t.type){case 1:if(0!==t.tagType)return 0;const i=n.get(t);if(void 0!==i)return i;const r=t.codegenNode;if(13!==r.type)return 0;if(r.isBlock&&"svg"!==t.tag&&"foreignObject"!==t.tag)return 0;const o=wh(r);if(o)return n.set(t,0),0;{let i=3;const o=vh(t,e);if(0===o)return n.set(t,0),0;o<i&&(i=o);for(let r=0;r<t.children.length;r++){const o=mh(t.children[r],e);if(0===o)return n.set(t,0),0;o<i&&(i=o)}if(i>1)for(let r=0;r<t.props.length;r++){const o=t.props[r];if(7===o.type&&"bind"===o.name&&o.exp){const r=mh(o.exp,e);if(0===r)return n.set(t,0),0;r<i&&(i=r)}}if(r.isBlock){for(let e=0;e<t.props.length;e++){const i=t.props[e];if(7===i.type)return n.set(t,0),0}e.removeHelper(cl),e.removeHelper(xu(e.inSSR,r.isComponent)),r.isBlock=!1,e.helper(Su(e.inSSR,r.isComponent))}return n.set(t,i),i}case 2:case 3:return 3;case 9:case 11:case 10:return 0;case 5:case 12:return mh(t.content,e);case 4:return t.constType;case 8:let s=3;for(let n=0;n<t.children.length;n++){const i=t.children[n];if(W(i)||Z(i))continue;const r=mh(i,e);if(0===r)return 0;r<s&&(s=r)}return s;default:return 0}}const gh=new Set([Il,Cl,kl,Al]);function _h(t,e){if(14===t.type&&!W(t.callee)&&gh.has(t.callee)){const n=t.arguments[0];if(4===n.type)return mh(n,e);if(14===n.type)return _h(n,e)}return 0}function vh(t,e){let n=3;const i=yh(t);if(i&&15===i.type){const{properties:t}=i;for(let i=0;i<t.length;i++){const{key:r,value:o}=t[i],s=mh(r,e);if(0===s)return s;let a;if(s<n&&(n=s),a=4===o.type?mh(o,e):14===o.type?_h(o,e):0,0===a)return a;a<n&&(n=a)}}return n}function yh(t){const e=t.codegenNode;if(13===e.type)return e.props}function wh(t){const e=t.patchFlag;return e?parseInt(e,10):void 0}function bh(t,{filename:e="",prefixIdentifiers:n=!1,hoistStatic:i=!1,cacheHandlers:r=!1,nodeTransforms:o=[],directiveTransforms:s={},transformHoist:a=null,isBuiltInComponent:c=P,isCustomElement:l=P,expressionPlugins:u=[],scopeId:h=null,slotted:d=!0,ssr:f=!1,inSSR:p=!1,ssrCssVars:m="",bindingMetadata:g=A,inline:_=!1,isTS:v=!1,onError:y=tl,onWarn:w=el,compatConfig:b}){const T=e.replace(/\?.*$/,"").match(/([^/\\]+)\.\w+$/),E={selfName:T&&ct(ot(T[1])),prefixIdentifiers:n,hoistStatic:i,cacheHandlers:r,nodeTransforms:o,directiveTransforms:s,transformHoist:a,isBuiltInComponent:c,isCustomElement:l,expressionPlugins:u,scopeId:h,slotted:d,ssr:f,inSSR:p,ssrCssVars:m,bindingMetadata:g,inline:_,isTS:v,onError:y,onWarn:w,compatConfig:b,root:t,helpers:new Map,components:new Set,directives:new Set,hoists:[],imports:[],constantCache:new Map,temps:0,cached:0,identifiers:Object.create(null),scopes:{vFor:0,vSlot:0,vPre:0,vOnce:0},parent:null,currentNode:t,childIndex:0,inVOnce:!1,helper(t){const e=E.helpers.get(t)||0;return E.helpers.set(t,e+1),t},removeHelper(t){const e=E.helpers.get(t);if(e){const n=e-1;n?E.helpers.set(t,n):E.helpers.delete(t)}},helperString(t){return`_${jl[E.helper(t)]}`},replaceNode(t){E.parent.children[E.childIndex]=E.currentNode=t},removeNode(t){const e=E.parent.children,n=t?e.indexOf(t):E.currentNode?E.childIndex:-1;t&&t!==E.currentNode?E.childIndex>n&&(E.childIndex--,E.onNodeRemoved()):(E.currentNode=null,E.onNodeRemoved()),E.parent.children.splice(n,1)},onNodeRemoved:()=>{},addIdentifiers(t){},removeIdentifiers(t){},hoist(t){W(t)&&(t=Jl(t)),E.hoists.push(t);const e=Jl(`_hoisted_${E.hoists.length}`,!1,t.loc,2);return e.hoisted=t,e},cache(t,e=!1){return eu(E.cached++,t,e)}};return E.filters=new Set,E}function Th(t,e){const n=bh(t,e);xh(t,n),e.hoistStatic&&dh(t,n),e.ssr||Eh(t,n),t.helpers=new Set([...n.helpers.keys()]),t.components=[...n.components],t.directives=[...n.directives],t.imports=n.imports,t.hoists=n.hoists,t.temps=n.temps,t.cached=n.cached,t.filters=[...n.filters]}function Eh(t,e){const{helper:n}=e,{children:i}=t;if(1===i.length){const n=i[0];if(fh(t,n)&&n.codegenNode){const i=n.codegenNode;13===i.type&&Ru(i,e),t.codegenNode=i}else t.codegenNode=n}else if(i.length>1){let i=64;o[64];0,t.codegenNode=Wl(e,n(il),void 0,t.children,i+"",void 0,void 0,!0,void 0,!1)}}function Sh(t,e){let n=0;const i=()=>{n--};for(;n<t.children.length;n++){const r=t.children[n];W(r)||(e.parent=t,e.childIndex=n,e.onNodeRemoved=i,xh(r,e))}}function xh(t,e){e.currentNode=t;const{nodeTransforms:n}=e,i=[];for(let o=0;o<n.length;o++){const r=n[o](t,e);if(r&&(z(r)?i.push(...r):i.push(r)),!e.currentNode)return;t=e.currentNode}switch(t.type){case 3:e.ssr||e.helper(fl);break;case 5:e.ssr||e.helper(Sl);break;case 9:for(let n=0;n<t.branches.length;n++)xh(t.branches[n],e);break;case 10:case 11:case 1:case 0:Sh(t,e);break}e.currentNode=t;let r=i.length;while(r--)i[r]()}function Ih(t,e){const n=W(t)?e=>e===t:e=>t.test(e);return(t,i)=>{if(1===t.type){const{props:r}=t;if(3===t.tagType&&r.some(bu))return;const o=[];for(let s=0;s<r.length;s++){const a=r[s];if(7===a.type&&n(a.name)){r.splice(s,1),s--;const n=e(t,a,i);n&&o.push(n)}}return o}}}const Ch="/*#__PURE__*/",kh=t=>`${jl[t]}: _${jl[t]}`;function Ah(t,{mode:e="function",prefixIdentifiers:n="module"===e,sourceMap:i=!1,filename:r="template.vue.html",scopeId:o=null,optimizeImports:s=!1,runtimeGlobalName:a="Vue",runtimeModuleName:c="vue",ssrRuntimeModuleName:l="vue/server-renderer",ssr:u=!1,isTS:h=!1,inSSR:d=!1}){const f={mode:e,prefixIdentifiers:n,sourceMap:i,filename:r,scopeId:o,optimizeImports:s,runtimeGlobalName:a,runtimeModuleName:c,ssrRuntimeModuleName:l,ssr:u,isTS:h,inSSR:d,source:t.loc.source,code:"",column:1,line:1,offset:0,indentLevel:0,pure:!1,map:void 0,helper(t){return`_${jl[t]}`},push(t,e){f.code+=t},indent(){p(++f.indentLevel)},deindent(t=!1){t?--f.indentLevel:p(--f.indentLevel)},newline(){p(f.indentLevel)}};function p(t){f.push("\n"+"  ".repeat(t))}return f}function Lh(t,e={}){const n=Ah(t,e);e.onContextCreated&&e.onContextCreated(n);const{mode:i,push:r,prefixIdentifiers:o,indent:s,deindent:a,newline:c,scopeId:l,ssr:u}=n,h=Array.from(t.helpers),d=h.length>0,f=!o&&"module"!==i,p=!1,m=p?Ah(t,e):n;Ph(t,m);const g=u?"ssrRender":"render",_=u?["_ctx","_push","_parent","_attrs"]:["_ctx","_cache"],v=_.join(", ");if(r(`function ${g}(${v}) {`),s(),f&&(r("with (_ctx) {"),s(),d&&(r(`const { ${h.map(kh).join(", ")} } = _Vue`),r("\n"),c())),t.components.length&&(Rh(t.components,"component",n),(t.directives.length||t.temps>0)&&c()),t.directives.length&&(Rh(t.directives,"directive",n),t.temps>0&&c()),t.filters&&t.filters.length&&(c(),Rh(t.filters,"filter",n),c()),t.temps>0){r("let ");for(let e=0;e<t.temps;e++)r(`${e>0?", ":""}_temp${e}`)}return(t.components.length||t.directives.length||t.temps)&&(r("\n"),c()),u||r("return "),t.codegenNode?Dh(t.codegenNode,n):r("null"),f&&(a(),r("}")),a(),r("}"),{ast:t,code:n.code,preamble:p?m.code:"",map:n.map?n.map.toJSON():void 0}}function Ph(t,e){const{ssr:n,prefixIdentifiers:i,push:r,newline:o,runtimeModuleName:s,runtimeGlobalName:a,ssrRuntimeModuleName:c}=e,l=a,u=Array.from(t.helpers);if(u.length>0&&(r(`const _Vue = ${l}\n`),t.hoists.length)){const t=[hl,dl,fl,pl,ml].filter((t=>u.includes(t))).map(kh).join(", ");r(`const { ${t} } = _Vue\n`)}Oh(t.hoists,e),o(),r("return ")}function Rh(t,e,{helper:n,push:i,newline:r,isTS:o}){const s=n("filter"===e?yl:"component"===e?gl:vl);for(let a=0;a<t.length;a++){let n=t[a];const c=n.endsWith("__self");c&&(n=n.slice(0,-6)),i(`const ${Lu(n,e)} = ${s}(${JSON.stringify(n)}${c?", true":""})${o?"!":""}`),a<t.length-1&&r()}}function Oh(t,e){if(!t.length)return;e.pure=!0;const{push:n,newline:i,helper:r,scopeId:o,mode:s}=e;i();for(let a=0;a<t.length;a++){const r=t[a];r&&(n(`const _hoisted_${a+1} = `),Dh(r,e),i())}e.pure=!1}function Nh(t,e){const n=t.length>3||!1;e.push("["),n&&e.indent(),Mh(t,e,n),n&&e.deindent(),e.push("]")}function Mh(t,e,n=!1,i=!0){const{push:r,newline:o}=e;for(let s=0;s<t.length;s++){const a=t[s];W(a)?r(a):z(a)?Nh(a,e):Dh(a,e),s<t.length-1&&(n?(i&&r(","),o()):i&&r(", "))}}function Dh(t,e){if(W(t))e.push(t);else if(Z(t))e.push(e.helper(t));else switch(t.type){case 1:case 9:case 11:Dh(t.codegenNode,e);break;case 2:Uh(t,e);break;case 4:Fh(t,e);break;case 5:Bh(t,e);break;case 12:Dh(t.codegenNode,e);break;case 8:zh(t,e);break;case 3:jh(t,e);break;case 13:$h(t,e);break;case 14:qh(t,e);break;case 15:Wh(t,e);break;case 17:Zh(t,e);break;case 18:Kh(t,e);break;case 19:Gh(t,e);break;case 20:Jh(t,e);break;case 21:Mh(t.body,e,!0,!1);break;case 22:break;case 23:break;case 24:break;case 25:break;case 26:break;case 10:break;default:0}}function Uh(t,e){e.push(JSON.stringify(t.content),t)}function Fh(t,e){const{content:n,isStatic:i}=t;e.push(i?JSON.stringify(n):n,t)}function Bh(t,e){const{push:n,helper:i,pure:r}=e;r&&n(Ch),n(`${i(Sl)}(`),Dh(t.content,e),n(")")}function zh(t,e){for(let n=0;n<t.children.length;n++){const i=t.children[n];W(i)?e.push(i):Dh(i,e)}}function Vh(t,e){const{push:n}=e;if(8===t.type)n("["),zh(t,e),n("]");else if(t.isStatic){const e=au(t.content)?t.content:JSON.stringify(t.content);n(e,t)}else n(`[${t.content}]`,t)}function jh(t,e){const{push:n,helper:i,pure:r}=e;r&&n(Ch),n(`${i(fl)}(${JSON.stringify(t.content)})`,t)}function $h(t,e){const{push:n,helper:i,pure:r}=e,{tag:o,props:s,children:a,patchFlag:c,dynamicProps:l,directives:u,isBlock:h,disableTracking:d,isComponent:f}=t;u&&n(i(wl)+"("),h&&n(`(${i(cl)}(${d?"true":""}), `),r&&n(Ch);const p=h?xu(e.inSSR,f):Su(e.inSSR,f);n(i(p)+"(",t),Mh(Hh([o,s,a,c,l]),e),n(")"),h&&n(")"),u&&(n(", "),Dh(u,e),n(")"))}function Hh(t){let e=t.length;while(e--)if(null!=t[e])break;return t.slice(0,e+1).map((t=>t||"null"))}function qh(t,e){const{push:n,helper:i,pure:r}=e,o=W(t.callee)?t.callee:i(t.callee);r&&n(Ch),n(o+"(",t),Mh(t.arguments,e),n(")")}function Wh(t,e){const{push:n,indent:i,deindent:r,newline:o}=e,{properties:s}=t;if(!s.length)return void n("{}",t);const a=s.length>1||!1;n(a?"{":"{ "),a&&i();for(let c=0;c<s.length;c++){const{key:t,value:i}=s[c];Vh(t,e),n(": "),Dh(i,e),c<s.length-1&&(n(","),o())}a&&r(),n(a?"}":" }")}function Zh(t,e){Nh(t.elements,e)}function Kh(t,e){const{push:n,indent:i,deindent:r}=e,{params:o,returns:s,body:a,newline:c,isSlot:l}=t;l&&n(`_${jl[Ul]}(`),n("(",t),z(o)?Mh(o,e):o&&Dh(o,e),n(") => "),(c||a)&&(n("{"),i()),s?(c&&n("return "),z(s)?Nh(s,e):Dh(s,e)):a&&Dh(a,e),(c||a)&&(r(),n("}")),l&&(t.isNonScopedSlot&&n(", undefined, true"),n(")"))}function Gh(t,e){const{test:n,consequent:i,alternate:r,newline:o}=t,{push:s,indent:a,deindent:c,newline:l}=e;if(4===n.type){const t=!au(n.content);t&&s("("),Fh(n,e),t&&s(")")}else s("("),Dh(n,e),s(")");o&&a(),e.indentLevel++,o||s(" "),s("? "),Dh(i,e),e.indentLevel--,o&&l(),o||s(" "),s(": ");const u=19===r.type;u||e.indentLevel++,Dh(r,e),u||e.indentLevel--,o&&c(!0)}function Jh(t,e){const{push:n,helper:i,indent:r,deindent:o,newline:s}=e;n(`_cache[${t.index}] || (`),t.isVNode&&(r(),n(`${i(Nl)}(-1),`),s()),n(`_cache[${t.index}] = `),Dh(t.value,e),t.isVNode&&(n(","),s(),n(`${i(Nl)}(1),`),s(),n(`_cache[${t.index}]`),o()),n(")")}new RegExp("\\b"+"arguments,await,break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,let,new,return,super,switch,throw,try,var,void,while,with,yield".split(",").join("\\b|\\b")+"\\b");const Xh=Ih(/^(if|else|else-if)$/,((t,e,n)=>Qh(t,e,n,((t,e,i)=>{const r=n.parent.children;let o=r.indexOf(t),s=0;while(o-- >=0){const t=r[o];t&&9===t.type&&(s+=t.branches.length)}return()=>{if(i)t.codegenNode=td(e,s,n);else{const i=nd(t.codegenNode);i.alternate=td(e,s+t.branches.length-1,n)}}}))));function Qh(t,e,n,i){if("else"!==e.name&&(!e.exp||!e.exp.content.trim())){const i=e.exp?e.exp.loc:t.loc;n.onError(nl(28,e.loc)),e.exp=Jl("true",!1,i)}if("if"===e.name){const r=Yh(t,e),o={type:9,loc:t.loc,branches:[r]};if(n.replaceNode(o),i)return i(o,r,!0)}else{const r=n.parent.children;let o=r.indexOf(t);while(o-- >=-1){const s=r[o];if(s&&3===s.type)n.removeNode(s);else{if(!s||2!==s.type||s.content.trim().length){if(s&&9===s.type){"else-if"===e.name&&void 0===s.branches[s.branches.length-1].condition&&n.onError(nl(30,t.loc)),n.removeNode();const r=Yh(t,e);0,s.branches.push(r);const o=i&&i(s,r,!1);xh(r,n),o&&o(),n.currentNode=null}else n.onError(nl(30,t.loc));break}n.removeNode(s)}}}}function Yh(t,e){const n=3===t.tagType;return{type:10,loc:t.loc,condition:"else"===e.name?void 0:e.exp,children:n&&!gu(t,"for")?t.children:[t],userKey:_u(t,"key"),isTemplateIf:n}}function td(t,e,n){return t.condition?tu(t.condition,ed(t,e,n),Ql(n.helper(fl),['""',"true"])):ed(t,e,n)}function ed(t,e,n){const{helper:i}=n,r=Gl("key",Jl(`${e}`,!1,Hl,2)),{children:s}=t,a=s[0],c=1!==s.length||1!==a.type;if(c){if(1===s.length&&11===a.type){const t=a.codegenNode;return ku(t,r,n),t}{let e=64;o[64];return Wl(n,i(il),Kl([r]),s,e+"",void 0,void 0,!0,!1,!1,t.loc)}}{const t=a.codegenNode,e=Pu(t);return 13===e.type&&Ru(e,n),ku(e,r,n),t}}function nd(t){while(1)if(19===t.type){if(19!==t.alternate.type)return t;t=t.alternate}else 20===t.type&&(t=t.value)}const id=Ih("for",((t,e,n)=>{const{helper:i,removeHelper:r}=n;return rd(t,e,n,(e=>{const o=Ql(i(bl),[e.source]),s=Tu(t),a=gu(t,"memo"),c=_u(t,"key"),l=c&&(6===c.type?Jl(c.value.content,!0):c.exp),u=c?Gl("key",l):null,h=4===e.source.type&&e.source.constType>0,d=h?64:c?128:256;return e.codegenNode=Wl(n,i(il),void 0,o,d+"",void 0,void 0,!0,!h,!1,t.loc),()=>{let c;const{children:d}=e;const f=1!==d.length||1!==d[0].type,p=Eu(t)?t:s&&1===t.children.length&&Eu(t.children[0])?t.children[0]:null;if(p?(c=p.codegenNode,s&&u&&ku(c,u,n)):f?c=Wl(n,i(il),u?Kl([u]):void 0,t.children,"64",void 0,void 0,!0,void 0,!1):(c=d[0].codegenNode,s&&u&&ku(c,u,n),c.isBlock!==!h&&(c.isBlock?(r(cl),r(xu(n.inSSR,c.isComponent))):r(Su(n.inSSR,c.isComponent))),c.isBlock=!h,c.isBlock?(i(cl),i(xu(n.inSSR,c.isComponent))):i(Su(n.inSSR,c.isComponent))),a){const t=Yl(ud(e.parseResult,[Jl("_cached")]));t.body=nu([Xl(["const _memo = (",a.exp,")"]),Xl(["if (_cached",...l?[" && _cached.key === ",l]:[],` && ${n.helperString(Vl)}(_cached, _memo)) return _cached`]),Xl(["const _item = ",c]),Jl("_item.memo = _memo"),Jl("return _item")]),o.arguments.push(t,Jl("_cache"),Jl(String(n.cached++)))}else o.arguments.push(Yl(ud(e.parseResult),c,!0))}}))}));function rd(t,e,n,i){if(!e.exp)return void n.onError(nl(31,e.loc));const r=cd(e.exp,n);if(!r)return void n.onError(nl(32,e.loc));const{addIdentifiers:o,removeIdentifiers:s,scopes:a}=n,{source:c,value:l,key:u,index:h}=r,d={type:11,loc:e.loc,source:c,valueAlias:l,keyAlias:u,objectIndexAlias:h,parseResult:r,children:Tu(t)?t.children:[t]};n.replaceNode(d),a.vFor++;const f=i&&i(d);return()=>{a.vFor--,f&&f()}}const od=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,sd=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,ad=/^\(|\)$/g;function cd(t,e){const n=t.loc,i=t.content,r=i.match(od);if(!r)return;const[,o,s]=r,a={source:ld(n,s.trim(),i.indexOf(s,o.length)),value:void 0,key:void 0,index:void 0};let c=o.trim().replace(ad,"").trim();const l=o.indexOf(c),u=c.match(sd);if(u){c=c.replace(sd,"").trim();const t=u[1].trim();let e;if(t&&(e=i.indexOf(t,l+c.length),a.key=ld(n,t,e)),u[2]){const r=u[2].trim();r&&(a.index=ld(n,r,i.indexOf(r,a.key?e+t.length:l+c.length)))}}return c&&(a.value=ld(n,c,l)),a}function ld(t,e,n){return Jl(e,!1,fu(t,n,e.length))}function ud({value:t,key:e,index:n},i=[]){return hd([t,e,n,...i])}function hd(t){let e=t.length;while(e--)if(t[e])break;return t.slice(0,e+1).map(((t,e)=>t||Jl("_".repeat(e+1),!1)))}const dd=Jl("undefined",!1),fd=(t,e)=>{if(1===t.type&&(1===t.tagType||3===t.tagType)){const n=gu(t,"slot");if(n)return n.exp,e.scopes.vSlot++,()=>{e.scopes.vSlot--}}},pd=(t,e,n)=>Yl(t,e,!1,!0,e.length?e[0].loc:n);function md(t,e,n=pd){e.helper(Ul);const{children:i,loc:r}=t,o=[],s=[];let a=e.scopes.vSlot>0||e.scopes.vFor>0;const c=gu(t,"slot",!0);if(c){const{arg:t,exp:e}=c;t&&!iu(t)&&(a=!0),o.push(Gl(t||Jl("default",!0),n(e,i,r)))}let l=!1,u=!1;const h=[],d=new Set;let f=0;for(let g=0;g<i.length;g++){const t=i[g];let r;if(!Tu(t)||!(r=gu(t,"slot",!0))){3!==t.type&&h.push(t);continue}if(c){e.onError(nl(37,r.loc));break}l=!0;const{children:p,loc:m}=t,{arg:_=Jl("default",!0),exp:v,loc:y}=r;let w;iu(_)?w=_?_.content:"default":a=!0;const b=n(v,p,m);let T,E,S;if(T=gu(t,"if"))a=!0,s.push(tu(T.exp,gd(_,b,f++),dd));else if(E=gu(t,/^else(-if)?$/,!0)){let t,n=g;while(n--)if(t=i[n],3!==t.type)break;if(t&&Tu(t)&&gu(t,"if")){i.splice(g,1),g--;let t=s[s.length-1];while(19===t.alternate.type)t=t.alternate;t.alternate=E.exp?tu(E.exp,gd(_,b,f++),dd):gd(_,b,f++)}else e.onError(nl(30,E.loc))}else if(S=gu(t,"for")){a=!0;const t=S.parseResult||cd(S.exp,e);t?s.push(Ql(e.helper(bl),[t.source,Yl(ud(t),gd(_,b),!0)])):e.onError(nl(32,S.loc))}else{if(w){if(d.has(w)){e.onError(nl(38,y));continue}d.add(w),"default"===w&&(u=!0)}o.push(Gl(_,b))}}if(!c){const t=(t,i)=>{const o=n(t,i,r);return e.compatConfig&&(o.isNonScopedSlot=!0),Gl("default",o)};l?h.length&&h.some((t=>vd(t)))&&(u?e.onError(nl(39,h[0].loc)):o.push(t(void 0,h))):o.push(t(void 0,i))}const p=a?2:_d(t.children)?3:1;let m=Kl(o.concat(Gl("_",Jl(p+"",!1))),r);return s.length&&(m=Ql(e.helper(El),[m,Zl(s)])),{slots:m,hasDynamicSlots:a}}function gd(t,e,n){const i=[Gl("name",t),Gl("fn",e)];return null!=n&&i.push(Gl("key",Jl(String(n),!0))),Kl(i)}function _d(t){for(let e=0;e<t.length;e++){const n=t[e];switch(n.type){case 1:if(2===n.tagType||_d(n.children))return!0;break;case 9:if(_d(n.branches))return!0;break;case 10:case 11:if(_d(n.children))return!0;break}}return!1}function vd(t){return 2!==t.type&&12!==t.type||(2===t.type?!!t.content.trim():vd(t.content))}const yd=new WeakMap,wd=(t,e)=>function(){if(t=e.currentNode,1!==t.type||0!==t.tagType&&1!==t.tagType)return;const{tag:n,props:i}=t,r=1===t.tagType;let o=r?bd(t,e):`"${n}"`;const s=K(o)&&o.callee===_l;let a,c,l,u,h,d,f=0,p=s||o===rl||o===ol||!r&&("svg"===n||"foreignObject"===n);if(i.length>0){const n=Td(t,e,void 0,r,s);a=n.props,f=n.patchFlag,h=n.dynamicPropNames;const i=n.directives;d=i&&i.length?Zl(i.map((t=>xd(t,e)))):void 0,n.shouldUseBlock&&(p=!0)}if(t.children.length>0){o===sl&&(p=!0,f|=1024);const n=r&&o!==rl&&o!==sl;if(n){const{slots:n,hasDynamicSlots:i}=md(t,e);c=n,i&&(f|=1024)}else if(1===t.children.length&&o!==rl){const n=t.children[0],i=n.type,r=5===i||8===i;r&&0===mh(n,e)&&(f|=1),c=r||2===i?n:t.children}else c=t.children}0!==f&&(l=String(f),h&&h.length&&(u=Id(h))),t.codegenNode=Wl(e,o,a,c,l,u,d,!!p,!1,r,t.loc)};function bd(t,e,n=!1){let{tag:i}=t;const r=Cd(i),o=_u(t,"is");if(o)if(r||Nu("COMPILER_IS_ON_ELEMENT",e)){const t=6===o.type?o.value&&Jl(o.value.content,!0):o.exp;if(t)return Ql(e.helper(_l),[t])}else 6===o.type&&o.value.content.startsWith("vue:")&&(i=o.value.content.slice(4));const s=!r&&gu(t,"is");if(s&&s.exp)return Ql(e.helper(_l),[s.exp]);const a=ou(i)||e.isBuiltInComponent(i);return a?(n||e.helper(a),a):(e.helper(gl),e.components.add(i),Lu(i,"component"))}function Td(t,e,n=t.props,i,r,o=!1){const{tag:s,loc:a,children:c}=t;let l=[];const u=[],h=[],d=c.length>0;let f=!1,p=0,m=!1,g=!1,_=!1,v=!1,y=!1,w=!1;const b=[],T=t=>{l.length&&(u.push(Kl(Ed(l),a)),l=[]),t&&u.push(t)},E=({key:t,value:n})=>{if(iu(t)){const o=t.content,s=N(o);if(!s||i&&!r||"onclick"===o.toLowerCase()||"onUpdate:modelValue"===o||et(o)||(v=!0),s&&et(o)&&(w=!0),20===n.type||(4===n.type||8===n.type)&&mh(n,e)>0)return;"ref"===o?m=!0:"class"===o?g=!0:"style"===o?_=!0:"key"===o||b.includes(o)||b.push(o),!i||"class"!==o&&"style"!==o||b.includes(o)||b.push(o)}else y=!0};for(let x=0;x<n.length;x++){const r=n[x];if(6===r.type){const{loc:t,name:n,value:i}=r;let o=!0;if("ref"===n&&(m=!0,e.scopes.vFor>0&&l.push(Gl(Jl("ref_for",!0),Jl("true")))),"is"===n&&(Cd(s)||i&&i.content.startsWith("vue:")||Nu("COMPILER_IS_ON_ELEMENT",e)))continue;l.push(Gl(Jl(n,!0,fu(t,0,n.length)),Jl(i?i.content:"",o,i?i.loc:t)))}else{const{name:n,arg:c,exp:p,loc:m}=r,g="bind"===n,_="on"===n;if("slot"===n){i||e.onError(nl(40,m));continue}if("once"===n||"memo"===n)continue;if("is"===n||g&&vu(c,"is")&&(Cd(s)||Nu("COMPILER_IS_ON_ELEMENT",e)))continue;if(_&&o)continue;if((g&&vu(c,"key")||_&&d&&vu(c,"vue:before-update"))&&(f=!0),g&&vu(c,"ref")&&e.scopes.vFor>0&&l.push(Gl(Jl("ref_for",!0),Jl("true"))),!c&&(g||_)){if(y=!0,p)if(g){if(T(),Nu("COMPILER_V_BIND_OBJECT_ORDER",e)){u.unshift(p);continue}u.push(p)}else T({type:14,loc:m,callee:e.helper(Ll),arguments:i?[p]:[p,"true"]});else e.onError(nl(g?34:35,m));continue}const v=e.directiveTransforms[n];if(v){const{props:n,needRuntime:i}=v(r,t,e);!o&&n.forEach(E),_&&c&&!iu(c)?T(Kl(n,a)):l.push(...n),i&&(h.push(r),Z(i)&&yd.set(r,i))}else nt(n)||(h.push(r),d&&(f=!0))}}let S;if(u.length?(T(),S=u.length>1?Ql(e.helper(xl),u,a):u[0]):l.length&&(S=Kl(Ed(l),a)),y?p|=16:(g&&!i&&(p|=2),_&&!i&&(p|=4),b.length&&(p|=8),v&&(p|=32)),f||0!==p&&32!==p||!(m||w||h.length>0)||(p|=512),!e.inSSR&&S)switch(S.type){case 15:let t=-1,n=-1,i=!1;for(let e=0;e<S.properties.length;e++){const r=S.properties[e].key;iu(r)?"class"===r.content?t=e:"style"===r.content&&(n=e):r.isHandlerKey||(i=!0)}const r=S.properties[t],o=S.properties[n];i?S=Ql(e.helper(kl),[S]):(r&&!iu(r.value)&&(r.value=Ql(e.helper(Il),[r.value])),o&&(_||4===o.value.type&&"["===o.value.content.trim()[0]||17===o.value.type)&&(o.value=Ql(e.helper(Cl),[o.value])));break;case 14:break;default:S=Ql(e.helper(kl),[Ql(e.helper(Al),[S])]);break}return{props:S,directives:h,patchFlag:p,dynamicPropNames:b,shouldUseBlock:f}}function Ed(t){const e=new Map,n=[];for(let i=0;i<t.length;i++){const r=t[i];if(8===r.key.type||!r.key.isStatic){n.push(r);continue}const o=r.key.content,s=e.get(o);s?("style"===o||"class"===o||N(o))&&Sd(s,r):(e.set(o,r),n.push(r))}return n}function Sd(t,e){17===t.value.type?t.value.elements.push(e.value):t.value=Zl([t.value,e.value],t.loc)}function xd(t,e){const n=[],i=yd.get(t);i?n.push(e.helperString(i)):(e.helper(vl),e.directives.add(t.name),n.push(Lu(t.name,"directive")));const{loc:r}=t;if(t.exp&&n.push(t.exp),t.arg&&(t.exp||n.push("void 0"),n.push(t.arg)),Object.keys(t.modifiers).length){t.arg||(t.exp||n.push("void 0"),n.push("void 0"));const e=Jl("true",!1,r);n.push(Kl(t.modifiers.map((t=>Gl(t,e))),r))}return Zl(n,t.loc)}function Id(t){let e="[";for(let n=0,i=t.length;n<i;n++)e+=JSON.stringify(t[n]),n<i-1&&(e+=", ");return e+"]"}function Cd(t){return"component"===t||"Component"===t}const kd=t=>{const e=Object.create(null);return n=>{const i=e[n];return i||(e[n]=t(n))}},Ad=/-(\w)/g,Ld=kd((t=>t.replace(Ad,((t,e)=>e?e.toUpperCase():"")))),Pd=(t,e)=>{if(Eu(t)){const{children:n,loc:i}=t,{slotName:r,slotProps:o}=Rd(t,e),s=[e.prefixIdentifiers?"_ctx.$slots":"$slots",r,"{}","undefined","true"];let a=2;o&&(s[2]=o,a=3),n.length&&(s[3]=Yl([],n,!1,!1,i),a=4),e.scopeId&&!e.slotted&&(a=5),s.splice(a),t.codegenNode=Ql(e.helper(Tl),s,i)}};function Rd(t,e){let n,i='"default"';const r=[];for(let o=0;o<t.props.length;o++){const e=t.props[o];6===e.type?e.value&&("name"===e.name?i=JSON.stringify(e.value.content):(e.name=Ld(e.name),r.push(e))):"bind"===e.name&&vu(e.arg,"name")?e.exp&&(i=e.exp):("bind"===e.name&&e.arg&&iu(e.arg)&&(e.arg.content=Ld(e.arg.content)),r.push(e))}if(r.length>0){const{props:i,directives:o}=Td(t,e,r,!1,!1);n=i,o.length&&e.onError(nl(36,o[0].loc))}return{slotName:i,slotProps:n}}const Od=/^\s*([\w$_]+|(async\s*)?\([^)]*?\))\s*(:[^=]+)?=>|^\s*(async\s+)?function(?:\s+[\w$]+)?\s*\(/,Nd=(t,e,n,i)=>{const{loc:r,modifiers:o,arg:s}=t;let a;if(t.exp||o.length||n.onError(nl(35,r)),4===s.type)if(s.isStatic){let t=s.content;t.startsWith("vue:")&&(t=`vnode-${t.slice(4)}`);const n=0!==e.tagType||t.startsWith("vnode")||!/[A-Z]/.test(t)?lt(ot(t)):`on:${t}`;a=Jl(n,!0,s.loc)}else a=Xl([`${n.helperString(Ol)}(`,s,")"]);else a=s,a.children.unshift(`${n.helperString(Ol)}(`),a.children.push(")");let c=t.exp;c&&!c.content.trim()&&(c=void 0);let l=n.cacheHandlers&&!c&&!n.inVOnce;if(c){const t=du(c.content),e=!(t||Od.test(c.content)),n=c.content.includes(";");0,(e||l&&t)&&(c=Xl([`${e?"$event":"(...args)"} => ${n?"{":"("}`,c,n?"}":")"]))}let u={props:[Gl(a,c||Jl("() => {}",!1,r))]};return i&&(u=i(u)),l&&(u.props[0].value=n.cache(u.props[0].value)),u.props.forEach((t=>t.key.isHandlerKey=!0)),u},Md=(t,e,n)=>{const{exp:i,modifiers:r,loc:o}=t,s=t.arg;return 4!==s.type?(s.children.unshift("("),s.children.push(') || ""')):s.isStatic||(s.content=`${s.content} || ""`),r.includes("camel")&&(4===s.type?s.isStatic?s.content=ot(s.content):s.content=`${n.helperString(Pl)}(${s.content})`:(s.children.unshift(`${n.helperString(Pl)}(`),s.children.push(")"))),n.inSSR||(r.includes("prop")&&Dd(s,"."),r.includes("attr")&&Dd(s,"^")),!i||4===i.type&&!i.content.trim()?(n.onError(nl(34,o)),{props:[Gl(s,Jl("",!0,o))]}):{props:[Gl(s,i)]}},Dd=(t,e)=>{4===t.type?t.isStatic?t.content=e+t.content:t.content=`\`${e}\${${t.content}}\``:(t.children.unshift(`'${e}' + (`),t.children.push(")"))},Ud=(t,e)=>{if(0===t.type||1===t.type||11===t.type||10===t.type)return()=>{const n=t.children;let i,r=!1;for(let t=0;t<n.length;t++){const e=n[t];if(wu(e)){r=!0;for(let r=t+1;r<n.length;r++){const o=n[r];if(!wu(o)){i=void 0;break}i||(i=n[t]=Xl([e],e.loc)),i.children.push(" + ",o),n.splice(r,1),r--}}}if(r&&(1!==n.length||0!==t.type&&(1!==t.type||0!==t.tagType||t.props.find((t=>7===t.type&&!e.directiveTransforms[t.name]))||"template"===t.tag)))for(let t=0;t<n.length;t++){const i=n[t];if(wu(i)||8===i.type){const r=[];2===i.type&&" "===i.content||r.push(i),e.ssr||0!==mh(i,e)||r.push("1"),n[t]={type:12,content:i,loc:i.loc,codegenNode:Ql(e.helper(pl),r)}}}}},Fd=new WeakSet,Bd=(t,e)=>{if(1===t.type&&gu(t,"once",!0)){if(Fd.has(t)||e.inVOnce)return;return Fd.add(t),e.inVOnce=!0,e.helper(Nl),()=>{e.inVOnce=!1;const t=e.currentNode;t.codegenNode&&(t.codegenNode=e.cache(t.codegenNode,!0))}}},zd=(t,e,n)=>{const{exp:i,arg:r}=t;if(!i)return n.onError(nl(41,t.loc)),Vd();const o=i.loc.source,s=4===i.type?i.content:o,a=n.bindingMetadata[o];if("props"===a||"props-aliased"===a)return n.onError(nl(44,i.loc)),Vd();const c=!1;if(!s.trim()||!du(s)&&!c)return n.onError(nl(42,i.loc)),Vd();const l=r||Jl("modelValue",!0),u=r?iu(r)?`onUpdate:${ot(r.content)}`:Xl(['"onUpdate:" + ',r]):"onUpdate:modelValue";let h;const d=n.isTS?"($event: any)":"$event";h=Xl([`${d} => ((`,i,") = $event)"]);const f=[Gl(l,t.exp),Gl(u,h)];if(t.modifiers.length&&1===e.tagType){const e=t.modifiers.map((t=>(au(t)?t:JSON.stringify(t))+": true")).join(", "),n=r?iu(r)?`${r.content}Modifiers`:Xl([r,' + "Modifiers"']):"modelModifiers";f.push(Gl(n,Jl(`{ ${e} }`,!1,t.loc,2)))}return Vd(f)};function Vd(t=[]){return{props:t}}const jd=/[\w).+\-_$\]]/,$d=(t,e)=>{Nu("COMPILER_FILTER",e)&&(5===t.type&&Hd(t.content,e),1===t.type&&t.props.forEach((t=>{7===t.type&&"for"!==t.name&&t.exp&&Hd(t.exp,e)})))};function Hd(t,e){if(4===t.type)qd(t,e);else for(let n=0;n<t.children.length;n++){const i=t.children[n];"object"===typeof i&&(4===i.type?qd(i,e):8===i.type?Hd(t,e):5===i.type&&Hd(i.content,e))}}function qd(t,e){const n=t.content;let i,r,o,s,a=!1,c=!1,l=!1,u=!1,h=0,d=0,f=0,p=0,m=[];for(o=0;o<n.length;o++)if(r=i,i=n.charCodeAt(o),a)39===i&&92!==r&&(a=!1);else if(c)34===i&&92!==r&&(c=!1);else if(l)96===i&&92!==r&&(l=!1);else if(u)47===i&&92!==r&&(u=!1);else if(124!==i||124===n.charCodeAt(o+1)||124===n.charCodeAt(o-1)||h||d||f){switch(i){case 34:c=!0;break;case 39:a=!0;break;case 96:l=!0;break;case 40:f++;break;case 41:f--;break;case 91:d++;break;case 93:d--;break;case 123:h++;break;case 125:h--;break}if(47===i){let t,e=o-1;for(;e>=0;e--)if(t=n.charAt(e)," "!==t)break;t&&jd.test(t)||(u=!0)}}else void 0===s?(p=o+1,s=n.slice(0,o).trim()):g();function g(){m.push(n.slice(p,o).trim()),p=o+1}if(void 0===s?s=n.slice(0,o).trim():0!==p&&g(),m.length){for(o=0;o<m.length;o++)s=Wd(s,m[o],e);t.content=s}}function Wd(t,e,n){n.helper(yl);const i=e.indexOf("(");if(i<0)return n.filters.add(e),`${Lu(e,"filter")}(${t})`;{const r=e.slice(0,i),o=e.slice(i+1);return n.filters.add(r),`${Lu(r,"filter")}(${t}${")"!==o?","+o:o}`}}const Zd=new WeakSet,Kd=(t,e)=>{if(1===t.type){const n=gu(t,"memo");if(!n||Zd.has(t))return;return Zd.add(t),()=>{const i=t.codegenNode||e.currentNode.codegenNode;i&&13===i.type&&(1!==t.tagType&&Ru(i,e),t.codegenNode=Ql(e.helper(zl),[n.exp,Yl(void 0,i),"_cache",String(e.cached++)]))}}};function Gd(t){return[[Bd,Xh,Kd,id,$d,Pd,wd,fd,Ud],{on:Nd,bind:Md,model:zd}]}function Jd(t,e={}){const n=e.onError||tl,i="module"===e.mode;!0===e.prefixIdentifiers?n(nl(47)):i&&n(nl(48));const r=!1;e.cacheHandlers&&n(nl(49)),e.scopeId&&!i&&n(nl(50));const o=W(t)?Bu(t,e):t,[s,a]=Gd();return Th(o,D({},e,{prefixIdentifiers:r,nodeTransforms:[...s,...e.nodeTransforms||[]],directiveTransforms:D({},a,e.directiveTransforms||{})})),Lh(o,D({},e,{prefixIdentifiers:r}))}const Xd=()=>({props:[]}),Qd=Symbol(""),Yd=Symbol(""),tf=Symbol(""),ef=Symbol(""),nf=Symbol(""),rf=Symbol(""),of=Symbol(""),sf=Symbol(""),af=Symbol(""),cf=Symbol("");let lf;function uf(t,e=!1){return lf||(lf=document.createElement("div")),e?(lf.innerHTML=`<div foo="${t.replace(/"/g,"&quot;")}">`,lf.children[0].getAttribute("foo")):(lf.innerHTML=t,lf.textContent)}$l({[Qd]:"vModelRadio",[Yd]:"vModelCheckbox",[tf]:"vModelText",[ef]:"vModelSelect",[nf]:"vModelDynamic",[rf]:"withModifiers",[of]:"withKeys",[sf]:"vShow",[af]:"Transition",[cf]:"TransitionGroup"});const hf=r("style,iframe,script,noscript",!0),df={isVoidTag:w,isNativeTag:t=>v(t)||y(t),isPreTag:t=>"pre"===t,decodeEntities:uf,isBuiltInComponent:t=>ru(t,"Transition")?af:ru(t,"TransitionGroup")?cf:void 0,getNamespace(t,e){let n=e?e.ns:0;if(e&&2===n)if("annotation-xml"===e.tag){if("svg"===t)return 1;e.props.some((t=>6===t.type&&"encoding"===t.name&&null!=t.value&&("text/html"===t.value.content||"application/xhtml+xml"===t.value.content)))&&(n=0)}else/^m(?:[ions]|text)$/.test(e.tag)&&"mglyph"!==t&&"malignmark"!==t&&(n=0);else e&&1===n&&("foreignObject"!==e.tag&&"desc"!==e.tag&&"title"!==e.tag||(n=0));if(0===n){if("svg"===t)return 1;if("math"===t)return 2}return n},getTextMode({tag:t,ns:e}){if(0===e){if("textarea"===t||"title"===t)return 1;if(hf(t))return 2}return 0}},ff=t=>{1===t.type&&t.props.forEach(((e,n)=>{6===e.type&&"style"===e.name&&e.value&&(t.props[n]={type:7,name:"bind",arg:Jl("style",!0,e.loc),exp:pf(e.value.content,e.loc),modifiers:[],loc:e.loc})}))},pf=(t,e)=>{const n=d(t);return Jl(JSON.stringify(n),!1,e,3)};function mf(t,e){return nl(t,e,void 0)}const gf=(t,e,n)=>{const{exp:i,loc:r}=t;return i||n.onError(mf(51,r)),e.children.length&&(n.onError(mf(52,r)),e.children.length=0),{props:[Gl(Jl("innerHTML",!0,r),i||Jl("",!0))]}},_f=(t,e,n)=>{const{exp:i,loc:r}=t;return i||n.onError(mf(53,r)),e.children.length&&(n.onError(mf(54,r)),e.children.length=0),{props:[Gl(Jl("textContent",!0),i?mh(i,n)>0?i:Ql(n.helperString(Sl),[i],r):Jl("",!0))]}},vf=(t,e,n)=>{const i=zd(t,e,n);if(!i.props.length||1===e.tagType)return i;t.arg&&n.onError(mf(56,t.arg.loc));const{tag:r}=e,o=n.isCustomElement(r);if("input"===r||"textarea"===r||"select"===r||o){let s=tf,a=!1;if("input"===r||o){const i=_u(e,"type");if(i){if(7===i.type)s=nf;else if(i.value)switch(i.value.content){case"radio":s=Qd;break;case"checkbox":s=Yd;break;case"file":a=!0,n.onError(mf(57,t.loc));break;default:break}}else yu(e)&&(s=nf)}else"select"===r&&(s=ef);a||(i.needRuntime=n.helper(s))}else n.onError(mf(55,t.loc));return i.props=i.props.filter((t=>!(4===t.key.type&&"modelValue"===t.key.content))),i},yf=r("passive,once,capture"),wf=r("stop,prevent,self,ctrl,shift,alt,meta,exact,middle"),bf=r("left,right"),Tf=r("onkeyup,onkeydown,onkeypress",!0),Ef=(t,e,n,i)=>{const r=[],o=[],s=[];for(let a=0;a<e.length;a++){const c=e[a];"native"===c&&Mu("COMPILER_V_ON_NATIVE",n,i)||yf(c)?s.push(c):bf(c)?iu(t)?Tf(t.content)?r.push(c):o.push(c):(r.push(c),o.push(c)):wf(c)?o.push(c):r.push(c)}return{keyModifiers:r,nonKeyModifiers:o,eventOptionModifiers:s}},Sf=(t,e)=>{const n=iu(t)&&"onclick"===t.content.toLowerCase();return n?Jl(e,!0):4!==t.type?Xl(["(",t,`) === "onClick" ? "${e}" : (`,t,")"]):t},xf=(t,e,n)=>Nd(t,e,n,(e=>{const{modifiers:i}=t;if(!i.length)return e;let{key:r,value:o}=e.props[0];const{keyModifiers:s,nonKeyModifiers:a,eventOptionModifiers:c}=Ef(r,i,n,t.loc);if(a.includes("right")&&(r=Sf(r,"onContextmenu")),a.includes("middle")&&(r=Sf(r,"onMouseup")),a.length&&(o=Ql(n.helper(rf),[o,JSON.stringify(a)])),!s.length||iu(r)&&!Tf(r.content)||(o=Ql(n.helper(of),[o,JSON.stringify(s)])),c.length){const t=c.map(ct).join("");r=iu(r)?Jl(`${r.content}${t}`,!0):Xl(["(",r,`) + "${t}"`])}return{props:[Gl(r,o)]}})),If=(t,e,n)=>{const{exp:i,loc:r}=t;return i||n.onError(mf(59,r)),{props:[],needRuntime:n.helper(sf)}};const Cf=(t,e)=>{1!==t.type||0!==t.tagType||"script"!==t.tag&&"style"!==t.tag||(e.onError(mf(61,t.loc)),e.removeNode())},kf=[ff],Af={cloak:Xd,html:gf,text:_f,model:vf,on:xf,show:If};function Lf(t,e={}){return Jd(t,D({},df,e,{nodeTransforms:[Cf,...kf,...e.nodeTransforms||[]],directiveTransforms:D({},Af,e.directiveTransforms||{}),transformHoist:null}))}const Pf=Object.create(null);function Rf(t,e){if(!W(t)){if(!t.nodeType)return P;t=t.innerHTML}const n=t,r=Pf[n];if(r)return r;if("#"===t[0]){const e=document.querySelector(t);0,t=e?e.innerHTML:""}const o=D({hoistStatic:!0,onError:void 0,onWarn:P},e);o.isCustomElement||"undefined"===typeof customElements||(o.isCustomElement=t=>!!customElements.get(t));const{code:s}=Lf(t,o);const a=new Function("Vue",s)(i);return a._rc=!0,Pf[n]=a}Ms(Rf)},7077:function(t,e,n){"use strict";n.d(e,{Jn:function(){return mt},qX:function(){return ht},Xd:function(){return ut},Mq:function(){return _t},ZF:function(){return gt},KN:function(){return vt}});n(7658);var i=n(7142),r=n(5168),o=n(223);n(2801);const s=(t,e)=>e.some((e=>t instanceof e));let a,c;function l(){return a||(a=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function u(){return c||(c=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const h=new WeakMap,d=new WeakMap,f=new WeakMap,p=new WeakMap,m=new WeakMap;function g(t){const e=new Promise(((e,n)=>{const i=()=>{t.removeEventListener("success",r),t.removeEventListener("error",o)},r=()=>{e(T(t.result)),i()},o=()=>{n(t.error),i()};t.addEventListener("success",r),t.addEventListener("error",o)}));return e.then((e=>{e instanceof IDBCursor&&h.set(e,t)})).catch((()=>{})),m.set(e,t),e}function _(t){if(d.has(t))return;const e=new Promise(((e,n)=>{const i=()=>{t.removeEventListener("complete",r),t.removeEventListener("error",o),t.removeEventListener("abort",o)},r=()=>{e(),i()},o=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",r),t.addEventListener("error",o),t.addEventListener("abort",o)}));d.set(t,e)}let v={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return d.get(t);if("objectStoreNames"===e)return t.objectStoreNames||f.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return T(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t}};function y(t){v=t(v)}function w(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?u().includes(t)?function(...e){return t.apply(E(this),e),T(h.get(this))}:function(...e){return T(t.apply(E(this),e))}:function(e,...n){const i=t.call(E(this),e,...n);return f.set(i,e.sort?e.sort():[e]),T(i)}}function b(t){return"function"===typeof t?w(t):(t instanceof IDBTransaction&&_(t),s(t,l())?new Proxy(t,v):t)}function T(t){if(t instanceof IDBRequest)return g(t);if(p.has(t))return p.get(t);const e=b(t);return e!==t&&(p.set(t,e),m.set(e,t)),e}const E=t=>m.get(t);function S(t,e,{blocked:n,upgrade:i,blocking:r,terminated:o}={}){const s=indexedDB.open(t,e),a=T(s);return i&&s.addEventListener("upgradeneeded",(t=>{i(T(s.result),t.oldVersion,t.newVersion,T(s.transaction),t)})),n&&s.addEventListener("blocked",(t=>n(t.oldVersion,t.newVersion,t))),a.then((t=>{o&&t.addEventListener("close",(()=>o())),r&&t.addEventListener("versionchange",(t=>r(t.oldVersion,t.newVersion,t)))})).catch((()=>{})),a}const x=["get","getKey","getAll","getAllKeys","count"],I=["put","add","delete","clear"],C=new Map;function k(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!==typeof e)return;if(C.get(e))return C.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=I.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!r&&!x.includes(n))return;const o=async function(t,...e){const o=this.transaction(t,r?"readwrite":"readonly");let s=o.store;return i&&(s=s.index(e.shift())),(await Promise.all([s[n](...e),r&&o.done]))[0]};return C.set(e,o),o}y((t=>({...t,get:(e,n,i)=>k(e,n)||t.get(e,n,i),has:(e,n)=>!!k(e,n)||t.has(e,n)})));
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class A{constructor(t){this.container=t}getPlatformInfoString(){const t=this.container.getProviders();return t.map((t=>{if(L(t)){const e=t.getImmediate();return`${e.library}/${e.version}`}return null})).filter((t=>t)).join(" ")}}function L(t){const e=t.getComponent();return"VERSION"===(null===e||void 0===e?void 0:e.type)}const P="@firebase/app",R="0.9.9",O=new r.Yd("@firebase/app"),N="@firebase/app-compat",M="@firebase/analytics-compat",D="@firebase/analytics",U="@firebase/app-check-compat",F="@firebase/app-check",B="@firebase/auth",z="@firebase/auth-compat",V="@firebase/database",j="@firebase/database-compat",$="@firebase/functions",H="@firebase/functions-compat",q="@firebase/installations",W="@firebase/installations-compat",Z="@firebase/messaging",K="@firebase/messaging-compat",G="@firebase/performance",J="@firebase/performance-compat",X="@firebase/remote-config",Q="@firebase/remote-config-compat",Y="@firebase/storage",tt="@firebase/storage-compat",et="@firebase/firestore",nt="@firebase/firestore-compat",it="firebase",rt="9.21.0",ot="[DEFAULT]",st={[P]:"fire-core",[N]:"fire-core-compat",[D]:"fire-analytics",[M]:"fire-analytics-compat",[F]:"fire-app-check",[U]:"fire-app-check-compat",[B]:"fire-auth",[z]:"fire-auth-compat",[V]:"fire-rtdb",[j]:"fire-rtdb-compat",[$]:"fire-fn",[H]:"fire-fn-compat",[q]:"fire-iid",[W]:"fire-iid-compat",[Z]:"fire-fcm",[K]:"fire-fcm-compat",[G]:"fire-perf",[J]:"fire-perf-compat",[X]:"fire-rc",[Q]:"fire-rc-compat",[Y]:"fire-gcs",[tt]:"fire-gcs-compat",[et]:"fire-fst",[nt]:"fire-fst-compat","fire-js":"fire-js",[it]:"fire-js-all"},at=new Map,ct=new Map;function lt(t,e){try{t.container.addComponent(e)}catch(n){O.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ut(t){const e=t.name;if(ct.has(e))return O.debug(`There were multiple attempts to register component ${e}.`),!1;ct.set(e,t);for(const n of at.values())lt(n,t);return!0}function ht(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const dt={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},ft=new o.LL("app","Firebase",dt);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class pt{constructor(t,e,n){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new i.wA("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ft.create("app-deleted",{appName:this._name})}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mt=rt;function gt(t,e={}){let n=t;if("object"!==typeof e){const t=e;e={name:t}}const r=Object.assign({name:ot,automaticDataCollectionEnabled:!1},e),s=r.name;if("string"!==typeof s||!s)throw ft.create("bad-app-name",{appName:String(s)});if(n||(n=(0,o.aH)()),!n)throw ft.create("no-options");const a=at.get(s);if(a){if((0,o.vZ)(n,a.options)&&(0,o.vZ)(r,a.config))return a;throw ft.create("duplicate-app",{appName:s})}const c=new i.H0(s);for(const i of ct.values())c.addComponent(i);const l=new pt(n,r,c);return at.set(s,l),l}function _t(t=ot){const e=at.get(t);if(!e&&t===ot)return gt();if(!e)throw ft.create("no-app",{appName:t});return e}function vt(t,e,n){var r;let o=null!==(r=st[t])&&void 0!==r?r:t;n&&(o+=`-${n}`);const s=o.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const t=[`Unable to register library "${o}" with version "${e}":`];return s&&t.push(`library name "${o}" contains illegal characters (whitespace or "/")`),s&&a&&t.push("and"),a&&t.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void O.warn(t.join(" "))}ut(new i.wA(`${o}-version`,(()=>({library:o,version:e})),"VERSION"))}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const yt="firebase-heartbeat-database",wt=1,bt="firebase-heartbeat-store";let Tt=null;function Et(){return Tt||(Tt=S(yt,wt,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(bt)}}}).catch((t=>{throw ft.create("idb-open",{originalErrorMessage:t.message})}))),Tt}async function St(t){try{const e=await Et();return e.transaction(bt).objectStore(bt).get(It(t))}catch(e){if(e instanceof o.ZR)O.warn(e.message);else{const t=ft.create("idb-get",{originalErrorMessage:null===e||void 0===e?void 0:e.message});O.warn(t.message)}}}async function xt(t,e){try{const n=await Et(),i=n.transaction(bt,"readwrite"),r=i.objectStore(bt);return await r.put(e,It(t)),i.done}catch(n){if(n instanceof o.ZR)O.warn(n.message);else{const t=ft.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});O.warn(t.message)}}}function It(t){return`${t.name}!${t.options.appId}`}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ct=1024,kt=2592e6;class At{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new Rt(e),this._heartbeatsCachePromise=this._storage.read().then((t=>(this._heartbeatsCache=t,t)))}async triggerHeartbeat(){const t=this.container.getProvider("platform-logger").getImmediate(),e=t.getPlatformInfoString(),n=Lt();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==n&&!this._heartbeatsCache.heartbeats.some((t=>t.date===n)))return this._heartbeatsCache.heartbeats.push({date:n,agent:e}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((t=>{const e=new Date(t.date).valueOf(),n=Date.now();return n-e<=kt})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const t=Lt(),{heartbeatsToSend:e,unsentEntries:n}=Pt(this._heartbeatsCache.heartbeats),i=(0,o.L)(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Lt(){const t=new Date;return t.toISOString().substring(0,10)}function Pt(t,e=Ct){const n=[];let i=t.slice();for(const r of t){const t=n.find((t=>t.agent===r.agent));if(t){if(t.dates.push(r.date),Ot(n)>e){t.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),Ot(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class Rt{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,o.hl)()&&(0,o.eu)().then((()=>!0)).catch((()=>!1))}async read(){const t=await this._canUseIndexedDBPromise;if(t){const t=await St(this.app);return t||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(t){var e;const n=await this._canUseIndexedDBPromise;if(n){const n=await this.read();return xt(this.app,{lastSentHeartbeatDate:null!==(e=t.lastSentHeartbeatDate)&&void 0!==e?e:n.lastSentHeartbeatDate,heartbeats:t.heartbeats})}}async add(t){var e;const n=await this._canUseIndexedDBPromise;if(n){const n=await this.read();return xt(this.app,{lastSentHeartbeatDate:null!==(e=t.lastSentHeartbeatDate)&&void 0!==e?e:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...t.heartbeats]})}}}function Ot(t){return(0,o.L)(JSON.stringify({version:2,heartbeats:t})).length}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(t){ut(new i.wA("platform-logger",(t=>new A(t)),"PRIVATE")),ut(new i.wA("heartbeat",(t=>new At(t)),"PRIVATE")),vt(P,R,t),vt(P,R,"esm2017"),vt("fire-js","")}Nt("")},7142:function(t,e,n){"use strict";n.d(e,{H0:function(){return l},wA:function(){return r}});var i=n(223);class r{constructor(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o="[DEFAULT]";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const t=new i.BH;if(this.instancesDeferred.set(e,t),this.isInitialized(e)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:e});n&&t.resolve(n)}catch(n){}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const n=this.normalizeInstanceIdentifier(null===t||void 0===t?void 0:t.identifier),i=null!==(e=null===t||void 0===t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(r){if(i)return null;throw r}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,this.shouldAutoInitialize()){if(c(t))try{this.getOrInitializeService({instanceIdentifier:o})}catch(e){}for(const[t,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const t=this.getOrInitializeService({instanceIdentifier:i});n.resolve(t)}catch(e){}}}}clearInstance(t=o){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter((t=>"INTERNAL"in t)).map((t=>t.INTERNAL.delete())),...t.filter((t=>"_delete"in t)).map((t=>t._delete()))])}isComponentSet(){return null!=this.component}isInitialized(t=o){return this.instances.has(t)}getOptions(t=o){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:e});for(const[r,o]of this.instancesDeferred.entries()){const t=this.normalizeInstanceIdentifier(r);n===t&&o.resolve(i)}return i}onInit(t,e){var n;const i=this.normalizeInstanceIdentifier(e),r=null!==(n=this.onInitCallbacks.get(i))&&void 0!==n?n:new Set;r.add(t),this.onInitCallbacks.set(i,r);const o=this.instances.get(i);return o&&t(o,i),()=>{r.delete(t)}}invokeOnInitCallbacks(t,e){const n=this.onInitCallbacks.get(e);if(n)for(const r of n)try{r(t,e)}catch(i){}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:a(t),options:e}),this.instances.set(t,n),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch(i){}return n||null}normalizeInstanceIdentifier(t=o){return this.component?this.component.multipleInstances?t:o:t}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}function a(t){return t===o?void 0:t}function c(t){return"EAGER"===t.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){const e=this.getProvider(t.name);e.isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new s(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}},5168:function(t,e,n){"use strict";n.d(e,{Yd:function(){return l},in:function(){return r}});n(7658);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i=[];var r;(function(t){t[t["DEBUG"]=0]="DEBUG",t[t["VERBOSE"]=1]="VERBOSE",t[t["INFO"]=2]="INFO",t[t["WARN"]=3]="WARN",t[t["ERROR"]=4]="ERROR",t[t["SILENT"]=5]="SILENT"})(r||(r={}));const o={debug:r.DEBUG,verbose:r.VERBOSE,info:r.INFO,warn:r.WARN,error:r.ERROR,silent:r.SILENT},s=r.INFO,a={[r.DEBUG]:"log",[r.VERBOSE]:"log",[r.INFO]:"info",[r.WARN]:"warn",[r.ERROR]:"error"},c=(t,e,...n)=>{if(e<t.logLevel)return;const i=(new Date).toISOString(),r=a[e];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[r](`[${i}]  ${t.name}:`,...n)};class l{constructor(t){this.name=t,this._logLevel=s,this._logHandler=c,this._userLogHandler=null,i.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in r))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel="string"===typeof t?o[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if("function"!==typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,r.DEBUG,...t),this._logHandler(this,r.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,r.VERBOSE,...t),this._logHandler(this,r.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,r.INFO,...t),this._logHandler(this,r.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,r.WARN,...t),this._logHandler(this,r.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,r.ERROR,...t),this._logHandler(this,r.ERROR,...t)}}},7795:function(t,e,n){"use strict";n.d(e,{ZF:function(){return i.ZF}});var i=n(7077),r="firebase",o="9.21.0";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
(0,i.KN)(r,o,"app")},5677:function(t,e,n){"use strict";n.d(e,{hJ:function(){return pe},Xb:function(){return Ie},v0:function(){return Fi},e5:function(){return Ce},rh:function(){return kn}});n(7658);var i=n(223),r=n(7077);function o(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n}Object.create;Object.create;var s=n(5168),a=n(7142);function c(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const l=c,u=new i.LL("auth","Firebase",c()),h=new s.Yd("@firebase/auth");function d(t,...e){h.logLevel<=s["in"].WARN&&h.warn(`Auth (${r.Jn}): ${t}`,...e)}function f(t,...e){h.logLevel<=s["in"].ERROR&&h.error(`Auth (${r.Jn}): ${t}`,...e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p(t,...e){throw v(t,...e)}function m(t,...e){return v(t,...e)}function g(t,e,n){const r=Object.assign(Object.assign({},l()),{[e]:n}),o=new i.LL("auth","Firebase",r);return o.create(e,{appName:t.name})}function _(t,e,n){const i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&p(t,"argument-error"),g(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function v(t,...e){if("string"!==typeof t){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return u.create(t,...e)}function y(t,e,...n){if(!t)throw v(e,...n)}function w(t){const e="INTERNAL ASSERTION FAILED: "+t;throw f(e),new Error(e)}function b(t,e){t||w(e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T(){var t;return"undefined"!==typeof self&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function E(){return"http:"===S()||"https:"===S()}function S(){var t;return"undefined"!==typeof self&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(E()||(0,i.ru)()||"connection"in navigator))||navigator.onLine}function I(){if("undefined"===typeof navigator)return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C{constructor(t,e){this.shortDelay=t,this.longDelay=e,b(e>t,"Short delay should be less than long delay!"),this.isMobile=(0,i.uI)()||(0,i.b$)()}get(){return x()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k(t,e){b(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A{static initialize(t,e,n){this.fetchImpl=t,e&&(this.headersImpl=e),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void w("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void w("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void w("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L={["CREDENTIAL_MISMATCH"]:"custom-token-mismatch",["MISSING_CUSTOM_TOKEN"]:"internal-error",["INVALID_IDENTIFIER"]:"invalid-email",["MISSING_CONTINUE_URI"]:"internal-error",["INVALID_PASSWORD"]:"wrong-password",["MISSING_PASSWORD"]:"missing-password",["EMAIL_EXISTS"]:"email-already-in-use",["PASSWORD_LOGIN_DISABLED"]:"operation-not-allowed",["INVALID_IDP_RESPONSE"]:"invalid-credential",["INVALID_PENDING_TOKEN"]:"invalid-credential",["FEDERATED_USER_ID_ALREADY_LINKED"]:"credential-already-in-use",["MISSING_REQ_TYPE"]:"internal-error",["EMAIL_NOT_FOUND"]:"user-not-found",["RESET_PASSWORD_EXCEED_LIMIT"]:"too-many-requests",["EXPIRED_OOB_CODE"]:"expired-action-code",["INVALID_OOB_CODE"]:"invalid-action-code",["MISSING_OOB_CODE"]:"internal-error",["CREDENTIAL_TOO_OLD_LOGIN_AGAIN"]:"requires-recent-login",["INVALID_ID_TOKEN"]:"invalid-user-token",["TOKEN_EXPIRED"]:"user-token-expired",["USER_NOT_FOUND"]:"user-token-expired",["TOO_MANY_ATTEMPTS_TRY_LATER"]:"too-many-requests",["INVALID_CODE"]:"invalid-verification-code",["INVALID_SESSION_INFO"]:"invalid-verification-id",["INVALID_TEMPORARY_PROOF"]:"invalid-credential",["MISSING_SESSION_INFO"]:"missing-verification-id",["SESSION_EXPIRED"]:"code-expired",["MISSING_ANDROID_PACKAGE_NAME"]:"missing-android-pkg-name",["UNAUTHORIZED_DOMAIN"]:"unauthorized-continue-uri",["INVALID_OAUTH_CLIENT_ID"]:"invalid-oauth-client-id",["ADMIN_ONLY_OPERATION"]:"admin-restricted-operation",["INVALID_MFA_PENDING_CREDENTIAL"]:"invalid-multi-factor-session",["MFA_ENROLLMENT_NOT_FOUND"]:"multi-factor-info-not-found",["MISSING_MFA_ENROLLMENT_ID"]:"missing-multi-factor-info",["MISSING_MFA_PENDING_CREDENTIAL"]:"missing-multi-factor-session",["SECOND_FACTOR_EXISTS"]:"second-factor-already-in-use",["SECOND_FACTOR_LIMIT_EXCEEDED"]:"maximum-second-factor-count-exceeded",["BLOCKING_FUNCTION_ERROR_RESPONSE"]:"internal-error",["RECAPTCHA_NOT_ENABLED"]:"recaptcha-not-enabled",["MISSING_RECAPTCHA_TOKEN"]:"missing-recaptcha-token",["INVALID_RECAPTCHA_TOKEN"]:"invalid-recaptcha-token",["INVALID_RECAPTCHA_ACTION"]:"invalid-recaptcha-action",["MISSING_CLIENT_TYPE"]:"missing-client-type",["MISSING_RECAPTCHA_VERSION"]:"missing-recaptcha-version",["INVALID_RECAPTCHA_VERSION"]:"invalid-recaptcha-version",["INVALID_REQ_TYPE"]:"invalid-req-type"},P=new C(3e4,6e4);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function O(t,e,n,r,o={}){return N(t,o,(async()=>{let o={},s={};r&&("GET"===e?s=r:o={body:JSON.stringify(r)});const a=(0,i.xO)(Object.assign({key:t.config.apiKey},s)).slice(1),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),A.fetch()(D(t,t.config.apiHost,n,a),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},o))}))}async function N(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},L),e);try{const e=new U(t),i=await Promise.race([n(),e.promise]);e.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw F(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const e=i.ok?o.errorMessage:o.error.message,[n,s]=e.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw F(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw F(t,"email-already-in-use",o);if("USER_DISABLED"===n)throw F(t,"user-disabled",o);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw g(t,a,s);p(t,a)}}catch(o){if(o instanceof i.ZR)throw o;p(t,"network-request-failed",{message:String(o)})}}async function M(t,e,n,i,r={}){const o=await O(t,e,n,i,r);return"mfaPendingCredential"in o&&p(t,"multi-factor-auth-required",{_serverResponse:o}),o}function D(t,e,n,i){const r=`${e}${n}?${i}`;return t.config.emulator?k(t.config,r):`${t.config.apiScheme}://${r}`}class U{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise(((t,e)=>{this.timer=setTimeout((()=>e(m(this.auth,"network-request-failed"))),P.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function F(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=m(t,e,i);return r.customData._tokenResponse=n,r}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B(t,e){return O(t,"POST","/v1/accounts:delete",e)}async function z(t,e){return O(t,"POST","/v1/accounts:lookup",e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch(e){}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j(t,e=!1){const n=(0,i.m9)(t),r=await n.getIdToken(e),o=H(r);y(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const s="object"===typeof o.firebase?o.firebase:void 0,a=null===s||void 0===s?void 0:s["sign_in_provider"];return{claims:o,token:r,authTime:V($(o.auth_time)),issuedAtTime:V($(o.iat)),expirationTime:V($(o.exp)),signInProvider:a||null,signInSecondFactor:(null===s||void 0===s?void 0:s["sign_in_second_factor"])||null}}function $(t){return 1e3*Number(t)}function H(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return f("JWT malformed, contained fewer than 3 sections"),null;try{const t=(0,i.tV)(n);return t?JSON.parse(t):(f("Failed to decode base64 JWT payload"),null)}catch(o){return f("Caught error parsing JWT payload as JSON",null===o||void 0===o?void 0:o.toString()),null}}function q(t){const e=H(t);return y(e,"internal-error"),y("undefined"!==typeof e.exp,"internal-error"),y("undefined"!==typeof e.iat,"internal-error"),Number(e.exp)-Number(e.iat)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof i.ZR&&Z(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Z({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const t=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),t}{this.errorBackoff=3e4;const t=null!==(e=this.user.stsTokenManager.expirationTime)&&void 0!==e?e:0,n=t-Date.now()-3e5;return Math.max(0,n)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout((async()=>{await this.iteration()}),e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===(null===t||void 0===t?void 0:t.code)&&this.schedule(!0))}this.schedule()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=V(this.lastLoginAt),this.creationTime=V(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J(t){var e;const n=t.auth,i=await t.getIdToken(),r=await W(t,z(n,{idToken:i}));y(null===r||void 0===r?void 0:r.users.length,n,"internal-error");const o=r.users[0];t._notifyReloadListener(o);const s=(null===(e=o.providerUserInfo)||void 0===e?void 0:e.length)?Y(o.providerUserInfo):[],a=Q(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===a||void 0===a?void 0:a.length),u=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new G(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(t,h)}async function X(t){const e=(0,i.m9)(t);await J(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Q(t,e){const n=t.filter((t=>!e.some((e=>e.providerId===t.providerId))));return[...n,...e]}function Y(t){return t.map((t=>{var{providerId:e}=t,n=o(t,["providerId"]);return{providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tt(t,e){const n=await N(t,{},(async()=>{const n=(0,i.xO)({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:o}=t.config,s=D(t,r,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",A.fetch()(s,{method:"POST",headers:a,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){y(t.idToken,"internal-error"),y("undefined"!==typeof t.idToken,"internal-error"),y("undefined"!==typeof t.refreshToken,"internal-error");const e="expiresIn"in t&&"undefined"!==typeof t.expiresIn?Number(t.expiresIn):q(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}async getToken(t,e=!1){return y(!this.accessToken||this.refreshToken,t,"user-token-expired"),e||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:n,refreshToken:i,expiresIn:r}=await tt(t,e);this.updateTokensAndExpiration(n,i,Number(r))}updateTokensAndExpiration(t,e,n){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(t,e){const{refreshToken:n,accessToken:i,expirationTime:r}=e,o=new et;return n&&(y("string"===typeof n,"internal-error",{appName:t}),o.refreshToken=n),i&&(y("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),r&&(y("number"===typeof r,"internal-error",{appName:t}),o.expirationTime=r),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new et,this.toJSON())}_performRefresh(){return w("not implemented")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nt(t,e){y("string"===typeof t||"undefined"===typeof t,"internal-error",{appName:e})}class it{constructor(t){var{uid:e,auth:n,stsTokenManager:i}=t,r=o(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new K(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new G(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(t){const e=await W(this,this.stsTokenManager.getToken(this.auth,t));return y(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return j(this,t)}reload(){return X(this)}_assign(t){this!==t&&(y(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map((t=>Object.assign({},t))),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new it(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){y(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let n=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),n=!0),e&&await J(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const t=await this.getIdToken();return await W(this,B(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((t=>Object.assign({},t))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var n,i,r,o,s,a,c,l;const u=null!==(n=e.displayName)&&void 0!==n?n:void 0,h=null!==(i=e.email)&&void 0!==i?i:void 0,d=null!==(r=e.phoneNumber)&&void 0!==r?r:void 0,f=null!==(o=e.photoURL)&&void 0!==o?o:void 0,p=null!==(s=e.tenantId)&&void 0!==s?s:void 0,m=null!==(a=e._redirectEventId)&&void 0!==a?a:void 0,g=null!==(c=e.createdAt)&&void 0!==c?c:void 0,_=null!==(l=e.lastLoginAt)&&void 0!==l?l:void 0,{uid:v,emailVerified:w,isAnonymous:b,providerData:T,stsTokenManager:E}=e;y(v&&E,t,"internal-error");const S=et.fromJSON(this.name,E);y("string"===typeof v,t,"internal-error"),nt(u,t.name),nt(h,t.name),y("boolean"===typeof w,t,"internal-error"),y("boolean"===typeof b,t,"internal-error"),nt(d,t.name),nt(f,t.name),nt(p,t.name),nt(m,t.name),nt(g,t.name),nt(_,t.name);const x=new it({uid:v,auth:t,email:h,emailVerified:w,displayName:u,isAnonymous:b,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:S,createdAt:g,lastLoginAt:_});return T&&Array.isArray(T)&&(x.providerData=T.map((t=>Object.assign({},t)))),m&&(x._redirectEventId=m),x}static async _fromIdTokenResponse(t,e,n=!1){const i=new et;i.updateFromServerResponse(e);const r=new it({uid:e.localId,auth:t,stsTokenManager:i,isAnonymous:n});return await J(r),r}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rt=new Map;function ot(t){b(t instanceof Function,"Expected a class definition");let e=rt.get(t);return e?(b(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,rt.set(t,e),e)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return void 0===e?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}st.type="NONE";const at=st;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ct(t,e,n){return`firebase:${t}:${e}:${n}`}class lt{constructor(t,e,n){this.persistence=t,this.auth=e,this.userKey=n;const{config:i,name:r}=this.auth;this.fullUserKey=ct(this.userKey,i.apiKey,r),this.fullPersistenceKey=ct("persistence",i.apiKey,r),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?it._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=t,e?this.setCurrentUser(e):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,n="authUser"){if(!e.length)return new lt(ot(at),t,n);const i=(await Promise.all(e.map((async t=>{if(await t._isAvailable())return t})))).filter((t=>t));let r=i[0]||ot(at);const o=ct(n,t.config.apiKey,t.name);let s=null;for(const l of e)try{const e=await l._get(o);if(e){const n=it._fromJSON(t,e);l!==r&&(s=n),r=l;break}}catch(c){}const a=i.filter((t=>t._shouldAllowMigration));return r._shouldAllowMigration&&a.length?(r=a[0],s&&await r._set(o,s.toJSON()),await Promise.all(e.map((async t=>{if(t!==r)try{await t._remove(o)}catch(c){}}))),new lt(r,t,n)):new lt(r,t,n)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ut(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(pt(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ht(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(gt(e))return"Blackberry";if(_t(e))return"Webos";if(dt(e))return"Safari";if((e.includes("chrome/")||ft(e))&&!e.includes("edge/"))return"Chrome";if(mt(e))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(e);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function ht(t=(0,i.z$)()){return/firefox\//i.test(t)}function dt(t=(0,i.z$)()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ft(t=(0,i.z$)()){return/crios\//i.test(t)}function pt(t=(0,i.z$)()){return/iemobile/i.test(t)}function mt(t=(0,i.z$)()){return/android/i.test(t)}function gt(t=(0,i.z$)()){return/blackberry/i.test(t)}function _t(t=(0,i.z$)()){return/webos/i.test(t)}function vt(t=(0,i.z$)()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function yt(t=(0,i.z$)()){var e;return vt(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function wt(){return(0,i.w1)()&&10===document.documentMode}function bt(t=(0,i.z$)()){return vt(t)||mt(t)||_t(t)||gt(t)||/windows phone/i.test(t)||pt(t)}function Tt(){try{return!(!window||window===window.top)}catch(t){return!1}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(t,e=[]){let n;switch(t){case"Browser":n=ut((0,i.z$)());break;case"Worker":n=`${ut((0,i.z$)())}-${t}`;break;default:n=t}const o=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${r.Jn}/${o}`}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function St(t,e){return O(t,"GET","/v2/recaptchaConfig",R(t,e))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xt(t){return void 0!==t&&void 0!==t.enterprise}class It{constructor(t){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===t.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.emailPasswordEnabled=t.recaptchaEnforcementState.some((t=>"EMAIL_PASSWORD_PROVIDER"===t.provider&&"OFF"!==t.enforcementState))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ct(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}function kt(t){return new Promise(((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=t=>{const e=m("internal-error");e.customData=t,n(e)},i.type="text/javascript",i.charset="UTF-8",Ct().appendChild(i)}))}function At(t){return`__${t}${Math.floor(1e6*Math.random())}`}const Lt="https://www.google.com/recaptcha/enterprise.js?render=",Pt="recaptcha-enterprise",Rt="NO_RECAPTCHA";class Ot{constructor(t){this.type=Pt,this.auth=Ut(t)}async verify(t="verify",e=!1){async function n(t){if(!e){if(null==t.tenantId&&null!=t._agentRecaptchaConfig)return t._agentRecaptchaConfig.siteKey;if(null!=t.tenantId&&void 0!==t._tenantRecaptchaConfigs[t.tenantId])return t._tenantRecaptchaConfigs[t.tenantId].siteKey}return new Promise((async(e,n)=>{St(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((i=>{if(void 0!==i.recaptchaKey){const n=new It(i);return null==t.tenantId?t._agentRecaptchaConfig=n:t._tenantRecaptchaConfigs[t.tenantId]=n,e(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((t=>{n(t)}))}))}function i(e,n,i){const r=window.grecaptcha;xt(r)?r.enterprise.ready((()=>{r.enterprise.execute(e,{action:t}).then((t=>{n(t)})).catch((()=>{n(Rt)}))})):i(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((t,r)=>{n(this.auth).then((n=>{if(!e&&xt(window.grecaptcha))i(n,t,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));kt(Lt+n).then((()=>{i(n,t,r)})).catch((t=>{r(t)}))}})).catch((t=>{r(t)}))}))}}async function Nt(t,e,n,i=!1){const r=new Ot(t);let o;try{o=await r.verify(n)}catch(a){o=await r.verify(n,!0)}const s=Object.assign({},e);return i?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const n=e=>new Promise(((n,i)=>{try{const i=t(e);n(i)}catch(r){i(r)}}));n.onAbort=e,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const n of this.queue)await n(t),n.onAbort&&e.push(n.onAbort)}catch(n){e.reverse();for(const t of e)try{t()}catch(i){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(t,e,n,i){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ft(this),this.idTokenSubscription=new Ft(this),this.beforeStateQueue=new Mt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=u,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=ot(e)),this._initializationPromise=this.queue((async()=>{var n,i;if(!this._deleted&&(this.persistenceManager=await lt.create(this,t),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(r){}await this.initializeCurrentUser(e),this.lastNotifiedUid=(null===(i=this.currentUser)||void 0===i?void 0:i.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();return this.currentUser||t?this.currentUser&&t&&this.currentUser.uid===t.uid?(this._currentUser._assign(t),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(t,!0):void 0}async initializeCurrentUser(t){var e;const n=await this.assertedPersistence.getCurrentUser();let i=n,r=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(e=this.redirectUser)||void 0===e?void 0:e._redirectEventId,o=null===i||void 0===i?void 0:i._redirectEventId,s=await this.tryRedirectSignIn(t);n&&n!==o||!(null===s||void 0===s?void 0:s.user)||(i=s.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(o)))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return y(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch(n){await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await J(t)}catch(e){if("auth/network-request-failed"!==(null===e||void 0===e?void 0:e.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=I()}async _delete(){this._deleted=!0}async updateCurrentUser(t){const e=t?(0,i.m9)(t):null;return e&&y(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&y(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue((async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()}))}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(t){return this.queue((async()=>{await this.assertedPersistence.setPersistence(ot(t))}))}async initializeRecaptchaConfig(){const t=await St(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),e=new It(t);if(null==this.tenantId?this._agentRecaptchaConfig=e:this._tenantRecaptchaConfigs[this.tenantId]=e,e.emailPasswordEnabled){const t=new Ot(this);t.verify()}}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new i.LL("auth","Firebase",t())}onAuthStateChanged(t,e,n){return this.registerStateListener(this.authStateSubscription,t,e,n)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,n){return this.registerStateListener(this.idTokenSubscription,t,e,n)}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(t=this._currentUser)||void 0===t?void 0:t.toJSON()}}async _setRedirectUser(t,e){const n=await this.getOrInitRedirectPersistenceManager(e);return null===t?n.removeCurrentUser():n.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&ot(t)||this._popupRedirectResolver;y(e,this,"argument-error"),this.redirectPersistenceManager=await lt.create(this,[ot(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(e=this._currentUser)||void 0===e?void 0:e._redirectEventId)===t?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(t)))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(e=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==e?e:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,n,i){if(this._deleted)return()=>{};const r="function"===typeof e?e:e.next.bind(e),o=this._isInitialized?Promise.resolve():this._initializationPromise;return y(o,this,"internal-error"),o.then((()=>r(this.currentUser))),"function"===typeof e?t.addObserver(e,n,i):t.addObserver(e)}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return y(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){t&&!this.frameworks.includes(t)&&(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Et(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const e={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){var t;const e=await(null===(t=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken());return(null===e||void 0===e?void 0:e.error)&&d(`Error while retrieving App Check token: ${e.error}`),null===e||void 0===e?void 0:e.token}}function Ut(t){return(0,i.m9)(t)}class Ft{constructor(t){this.auth=t,this.observer=null,this.addObserver=(0,i.ne)((t=>this.observer=t))}get next(){return y(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bt(t,e){const n=(0,r.qX)(t,"auth");if(n.isInitialized()){const t=n.getImmediate(),r=n.getOptions();if((0,i.vZ)(r,null!==e&&void 0!==e?e:{}))return t;p(t,"already-initialized")}const o=n.initialize({options:e});return o}function zt(t,e){const n=(null===e||void 0===e?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(ot);(null===e||void 0===e?void 0:e.errorMap)&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,null===e||void 0===e?void 0:e.popupRedirectResolver)}function Vt(t,e,n){const i=Ut(t);y(i._canInitEmulator,i,"emulator-config-failed"),y(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!!(null===n||void 0===n?void 0:n.disableWarnings),o=jt(e),{host:s,port:a}=$t(e),c=null===a?"":`:${a}`;i.config.emulator={url:`${o}//${s}${c}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||qt()}function jt(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function $t(t){const e=jt(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const t=r[1];return{host:t,port:Ht(i.substr(t.length+1))}}{const[t,e]=i.split(":");return{host:t,port:Ht(e)}}}function Ht(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function qt(){function t(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return w("not implemented")}_getIdTokenResponse(t){return w("not implemented")}_linkToIdToken(t,e){return w("not implemented")}_getReauthenticationResolver(t){return w("not implemented")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zt(t,e){return O(t,"POST","/v1/accounts:update",e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function Kt(t,e){return M(t,"POST","/v1/accounts:signInWithPassword",R(t,e))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function Gt(t,e){return M(t,"POST","/v1/accounts:signInWithEmailLink",R(t,e))}async function Jt(t,e){return M(t,"POST","/v1/accounts:signInWithEmailLink",R(t,e))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt extends Wt{constructor(t,e,n,i=null){super("password",n),this._email=t,this._password=e,this._tenantId=i}static _fromEmailAndPassword(t,e){return new Xt(t,e,"password")}static _fromEmailAndCode(t,e,n=null){return new Xt(t,e,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e="string"===typeof t?JSON.parse(t):t;if((null===e||void 0===e?void 0:e.email)&&(null===e||void 0===e?void 0:e.password)){if("password"===e.signInMethod)return this._fromEmailAndPassword(e.email,e.password);if("emailLink"===e.signInMethod)return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){var e;switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(null===(e=t._getRecaptchaConfig())||void 0===e?void 0:e.emailPasswordEnabled){const e=await Nt(t,n,"signInWithPassword");return Kt(t,e)}return Kt(t,n).catch((async e=>{if("auth/missing-recaptcha-token"===e.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const e=await Nt(t,n,"signInWithPassword");return Kt(t,e)}return Promise.reject(e)}));case"emailLink":return Gt(t,{email:this._email,oobCode:this._password});default:p(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":return Zt(t,{idToken:e,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return Jt(t,{idToken:e,email:this._email,oobCode:this._password});default:p(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qt(t,e){return M(t,"POST","/v1/accounts:signInWithIdp",R(t,e))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yt="http://localhost";class te extends Wt{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new te(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):p("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e="string"===typeof t?JSON.parse(t):t,{providerId:n,signInMethod:i}=e,r=o(e,["providerId","signInMethod"]);if(!n||!i)return null;const s=new te(n,i);return s.idToken=r.idToken||void 0,s.accessToken=r.accessToken||void 0,s.secret=r.secret,s.nonce=r.nonce,s.pendingToken=r.pendingToken||null,s}_getIdTokenResponse(t){const e=this.buildRequest();return Qt(t,e)}_linkToIdToken(t,e){const n=this.buildRequest();return n.idToken=e,Qt(t,n)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,Qt(t,e)}buildRequest(){const t={requestUri:Yt,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e["id_token"]=this.idToken),this.accessToken&&(e["access_token"]=this.accessToken),this.secret&&(e["oauth_token_secret"]=this.secret),e["providerId"]=this.providerId,this.nonce&&!this.pendingToken&&(e["nonce"]=this.nonce),t.postBody=(0,i.xO)(e)}return t}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ee(t,e){return O(t,"POST","/v1/accounts:sendVerificationCode",R(t,e))}async function ne(t,e){return M(t,"POST","/v1/accounts:signInWithPhoneNumber",R(t,e))}async function ie(t,e){const n=await M(t,"POST","/v1/accounts:signInWithPhoneNumber",R(t,e));if(n.temporaryProof)throw F(t,"account-exists-with-different-credential",n);return n}const re={["USER_NOT_FOUND"]:"user-not-found"};async function oe(t,e){const n=Object.assign(Object.assign({},e),{operation:"REAUTH"});return M(t,"POST","/v1/accounts:signInWithPhoneNumber",R(t,n),re)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se extends Wt{constructor(t){super("phone","phone"),this.params=t}static _fromVerification(t,e){return new se({verificationId:t,verificationCode:e})}static _fromTokenResponse(t,e){return new se({phoneNumber:t,temporaryProof:e})}_getIdTokenResponse(t){return ne(t,this._makeVerificationRequest())}_linkToIdToken(t,e){return ie(t,Object.assign({idToken:e},this._makeVerificationRequest()))}_getReauthenticationResolver(t){return oe(t,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:t,phoneNumber:e,verificationId:n,verificationCode:i}=this.params;return t&&e?{temporaryProof:t,phoneNumber:e}:{sessionInfo:n,code:i}}toJSON(){const t={providerId:this.providerId};return this.params.phoneNumber&&(t.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(t.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(t.verificationCode=this.params.verificationCode),this.params.verificationId&&(t.verificationId=this.params.verificationId),t}static fromJSON(t){"string"===typeof t&&(t=JSON.parse(t));const{verificationId:e,verificationCode:n,phoneNumber:i,temporaryProof:r}=t;return n||e||i||r?new se({verificationId:e,verificationCode:n,phoneNumber:i,temporaryProof:r}):null}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ae(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function ce(t){const e=(0,i.zd)((0,i.pd)(t))["link"],n=e?(0,i.zd)((0,i.pd)(e))["deep_link_id"]:null,r=(0,i.zd)((0,i.pd)(t))["deep_link_id"],o=r?(0,i.zd)((0,i.pd)(r))["link"]:null;return o||r||n||e||t}class le{constructor(t){var e,n,r,o,s,a;const c=(0,i.zd)((0,i.pd)(t)),l=null!==(e=c["apiKey"])&&void 0!==e?e:null,u=null!==(n=c["oobCode"])&&void 0!==n?n:null,h=ae(null!==(r=c["mode"])&&void 0!==r?r:null);y(l&&u&&h,"argument-error"),this.apiKey=l,this.operation=h,this.code=u,this.continueUrl=null!==(o=c["continueUrl"])&&void 0!==o?o:null,this.languageCode=null!==(s=c["languageCode"])&&void 0!==s?s:null,this.tenantId=null!==(a=c["tenantId"])&&void 0!==a?a:null}static parseLink(t){const e=ce(t);try{return new le(e)}catch(n){return null}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class ue{constructor(){this.providerId=ue.PROVIDER_ID}static credential(t,e){return Xt._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const n=le.parseLink(e);return y(n,"argument-error"),Xt._fromEmailAndCode(t,n.code,n.tenantId)}}ue.PROVIDER_ID="password",ue.EMAIL_PASSWORD_SIGN_IN_METHOD="password",ue.EMAIL_LINK_SIGN_IN_METHOD="emailLink";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class he{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de extends he{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class fe extends de{constructor(){super("facebook.com")}static credential(t){return te._fromParams({providerId:fe.PROVIDER_ID,signInMethod:fe.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return fe.credentialFromTaggedObject(t)}static credentialFromError(t){return fe.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return fe.credential(t.oauthAccessToken)}catch(e){return null}}}fe.FACEBOOK_SIGN_IN_METHOD="facebook.com",fe.PROVIDER_ID="facebook.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class pe extends de{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return te._fromParams({providerId:pe.PROVIDER_ID,signInMethod:pe.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return pe.credentialFromTaggedObject(t)}static credentialFromError(t){return pe.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:n}=t;if(!e&&!n)return null;try{return pe.credential(e,n)}catch(i){return null}}}pe.GOOGLE_SIGN_IN_METHOD="google.com",pe.PROVIDER_ID="google.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class me extends de{constructor(){super("github.com")}static credential(t){return te._fromParams({providerId:me.PROVIDER_ID,signInMethod:me.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return me.credentialFromTaggedObject(t)}static credentialFromError(t){return me.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return me.credential(t.oauthAccessToken)}catch(e){return null}}}me.GITHUB_SIGN_IN_METHOD="github.com",me.PROVIDER_ID="github.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class ge extends de{constructor(){super("twitter.com")}static credential(t,e){return te._fromParams({providerId:ge.PROVIDER_ID,signInMethod:ge.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return ge.credentialFromTaggedObject(t)}static credentialFromError(t){return ge.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:n}=t;if(!e||!n)return null;try{return ge.credential(e,n)}catch(i){return null}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function _e(t,e){return M(t,"POST","/v1/accounts:signUp",R(t,e))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ge.TWITTER_SIGN_IN_METHOD="twitter.com",ge.PROVIDER_ID="twitter.com";class ve{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,n,i=!1){const r=await it._fromIdTokenResponse(t,n,i),o=ye(n),s=new ve({user:r,providerId:o,_tokenResponse:n,operationType:e});return s}static async _forOperation(t,e,n){await t._updateTokensIfNecessary(n,!0);const i=ye(n);return new ve({user:t,providerId:i,_tokenResponse:n,operationType:e})}}function ye(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class we extends i.ZR{constructor(t,e,n,i){var r;super(e.code,e.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,we.prototype),this.customData={appName:t.name,tenantId:null!==(r=t.tenantId)&&void 0!==r?r:void 0,_serverResponse:e.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(t,e,n,i){return new we(t,e,n,i)}}function be(t,e,n,i){const r="reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t);return r.catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw we._fromErrorAndOperation(t,n,e,i);throw n}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Te(t,e,n=!1){const i=await W(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ve._forOperation(t,"link",i)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function Ee(t,e,n=!1){const{auth:i}=t,r="reauthenticate";try{const o=await W(t,be(i,r,e,t),n);y(o.idToken,i,"internal-error");const s=H(o.idToken);y(s,i,"internal-error");const{sub:a}=s;return y(t.uid===a,i,"user-mismatch"),ve._forOperation(t,r,o)}catch(o){throw"auth/user-not-found"===(null===o||void 0===o?void 0:o.code)&&p(i,"user-mismatch"),o}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Se(t,e,n=!1){const i="signIn",r=await be(t,i,e),o=await ve._fromIdTokenResponse(t,i,r);return n||await t._updateCurrentUser(o.user),o}async function xe(t,e){return Se(Ut(t),e)}async function Ie(t,e,n){var i;const r=Ut(t),o={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let s;if(null===(i=r._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled){const t=await Nt(r,o,"signUpPassword");s=_e(r,t)}else s=_e(r,o).catch((async t=>{if("auth/missing-recaptcha-token"===t.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const t=await Nt(r,o,"signUpPassword");return _e(r,t)}return Promise.reject(t)}));const a=await s.catch((t=>Promise.reject(t))),c=await ve._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(c.user),c}function Ce(t,e,n){return xe((0,i.m9)(t),ue.credential(e,n))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ke(t,e,n,r){return(0,i.m9)(t).onIdTokenChanged(e,n,r)}function Ae(t,e,n){return(0,i.m9)(t).beforeAuthStateChanged(e,n)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Le(t,e){return O(t,"POST","/v2/accounts/mfaEnrollment:start",R(t,e))}function Pe(t,e){return O(t,"POST","/v2/accounts/mfaEnrollment:finalize",R(t,e))}function Re(t,e){return O(t,"POST","/v2/accounts/mfaEnrollment:start",R(t,e))}function Oe(t,e){return O(t,"POST","/v2/accounts/mfaEnrollment:finalize",R(t,e))}new WeakMap;const Ne="__sak";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Ne,"1"),this.storage.removeItem(Ne),Promise.resolve(!0)):Promise.resolve(!1)}catch(t){return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function De(){const t=(0,i.z$)();return dt(t)||vt(t)}const Ue=1e3,Fe=10;class Be extends Me{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=De()&&Tt(),this.fallbackToPolling=bt(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const n=this.storage.getItem(e),i=this.localCache[e];n!==i&&t(e,i,n)}}onStorageEvent(t,e=!1){if(!t.key)return void this.forAllChangedKeys(((t,e,n)=>{this.notifyListeners(t,n)}));const n=t.key;if(e?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const i=this.storage.getItem(n);if(t.newValue!==i)null!==t.newValue?this.storage.setItem(n,t.newValue):this.storage.removeItem(n);else if(this.localCache[n]===t.newValue&&!e)return}const i=()=>{const t=this.storage.getItem(n);(e||this.localCache[n]!==t)&&this.notifyListeners(n,t)},r=this.storage.getItem(n);wt()&&r!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,Fe):i()}notifyListeners(t,e){this.localCache[t]=e;const n=this.listeners[t];if(n)for(const i of Array.from(n))i(e?JSON.parse(e):e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((t,e,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:n}),!0)}))}),Ue)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}Be.type="LOCAL";const ze=Be;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve extends Me{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(t,e){}_removeListener(t,e){}}Ve.type="SESSION";const je=Ve;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $e(t){return Promise.all(t.map((async t=>{try{const e=await t;return{fulfilled:!0,value:e}}catch(e){return{fulfilled:!1,reason:e}}})))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find((e=>e.isListeningto(t)));if(e)return e;const n=new He(t);return this.receivers.push(n),n}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:n,eventType:i,data:r}=e.data,o=this.handlersMap[i];if(!(null===o||void 0===o?void 0:o.size))return;e.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const s=Array.from(o).map((async t=>t(e.origin,r))),a=await $e(s);e.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:a})}_subscribe(t,e){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),e&&0!==this.handlersMap[t].size||delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function qe(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(10*Math.random());return t+n}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */He.receivers=[];class We{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,n=50){const i="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let r,o;return new Promise(((s,a)=>{const c=qe("",20);i.port1.start();const l=setTimeout((()=>{a(new Error("unsupported_event"))}),n);o={messageChannel:i,onMessage(t){const e=t;if(e.data.eventId===c)switch(e.data.status){case"ack":clearTimeout(l),r=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(r),s(e.data.response);break;default:clearTimeout(l),clearTimeout(r),a(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:c,data:e},[i.port2])})).finally((()=>{o&&this.removeMessageHandler(o)}))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ze(){return window}function Ke(t){Ze().location.href=t}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ge(){return"undefined"!==typeof Ze()["WorkerGlobalScope"]&&"function"===typeof Ze()["importScripts"]}async function Je(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{const t=await navigator.serviceWorker.ready;return t.active}catch(t){return null}}function Xe(){var t;return(null===(t=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===t?void 0:t.controller)||null}function Qe(){return Ge()?self:null}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ye="firebaseLocalStorageDb",tn=1,en="firebaseLocalStorage",nn="fbase_key";class rn{constructor(t){this.request=t}toPromise(){return new Promise(((t,e)=>{this.request.addEventListener("success",(()=>{t(this.request.result)})),this.request.addEventListener("error",(()=>{e(this.request.error)}))}))}}function on(t,e){return t.transaction([en],e?"readwrite":"readonly").objectStore(en)}function sn(){const t=indexedDB.deleteDatabase(Ye);return new rn(t).toPromise()}function an(){const t=indexedDB.open(Ye,tn);return new Promise(((e,n)=>{t.addEventListener("error",(()=>{n(t.error)})),t.addEventListener("upgradeneeded",(()=>{const e=t.result;try{e.createObjectStore(en,{keyPath:nn})}catch(i){n(i)}})),t.addEventListener("success",(async()=>{const n=t.result;n.objectStoreNames.contains(en)?e(n):(n.close(),await sn(),e(await an()))}))}))}async function cn(t,e,n){const i=on(t,!0).put({[nn]:e,value:n});return new rn(i).toPromise()}async function ln(t,e){const n=on(t,!1).get(e),i=await new rn(n).toPromise();return void 0===i?null:i.value}function un(t,e){const n=on(t,!0).delete(e);return new rn(n).toPromise()}const hn=800,dn=3;class fn{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await an()),this.db}async _withRetries(t){let e=0;while(1)try{const e=await this._openDb();return await t(e)}catch(n){if(e++>dn)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ge()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=He._getInstance(Qe()),this.receiver._subscribe("keyChanged",(async(t,e)=>{const n=await this._poll();return{keyProcessed:n.includes(e.key)}})),this.receiver._subscribe("ping",(async(t,e)=>["keyChanged"]))}async initializeSender(){var t,e;if(this.activeServiceWorker=await Je(),!this.activeServiceWorker)return;this.sender=new We(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(t=n[0])||void 0===t?void 0:t.fulfilled)&&(null===(e=n[0])||void 0===e?void 0:e.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(this.sender&&this.activeServiceWorker&&Xe()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch(e){}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await an();return await cn(t,Ne,"1"),await un(t,Ne),!0}catch(t){}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite((async()=>(await this._withRetries((n=>cn(n,t,e))),this.localCache[t]=e,this.notifyServiceWorker(t))))}async _get(t){const e=await this._withRetries((e=>ln(e,t)));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite((async()=>(await this._withRetries((e=>un(e,t))),delete this.localCache[t],this.notifyServiceWorker(t))))}async _poll(){const t=await this._withRetries((t=>{const e=on(t,!1).getAll();return new rn(e).toPromise()}));if(!t)return[];if(0!==this.pendingWrites)return[];const e=[],n=new Set;for(const{fbase_key:i,value:r}of t)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(r)&&(this.notifyListeners(i,r),e.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),e.push(i));return e}notifyListeners(t,e){this.localCache[t]=e;const n=this.listeners[t];if(n)for(const i of Array.from(n))i(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),hn)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}fn.type="LOCAL";const pn=fn;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mn(t,e){return O(t,"POST","/v2/accounts/mfaSignIn:start",R(t,e))}function gn(t,e){return O(t,"POST","/v2/accounts/mfaSignIn:finalize",R(t,e))}function _n(t,e){return O(t,"POST","/v2/accounts/mfaSignIn:finalize",R(t,e))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
At("rcb"),new C(3e4,6e4);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const vn="recaptcha";async function yn(t,e,n){var i;const r=await n.verify();try{let o;if(y("string"===typeof r,t,"argument-error"),y(n.type===vn,t,"argument-error"),o="string"===typeof e?{phoneNumber:e}:e,"session"in o){const e=o.session;if("phoneNumber"in o){y("enroll"===e.type,t,"internal-error");const n=await Le(t,{idToken:e.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:r}});return n.phoneSessionInfo.sessionInfo}{y("signin"===e.type,t,"internal-error");const n=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid;y(n,t,"missing-multi-factor-info");const s=await mn(t,{mfaPendingCredential:e.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:r}});return s.phoneResponseInfo.sessionInfo}}{const{sessionInfo:e}=await ee(t,{phoneNumber:o.phoneNumber,recaptchaToken:r});return e}}finally{n._reset()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class wn{constructor(t){this.providerId=wn.PROVIDER_ID,this.auth=Ut(t)}verifyPhoneNumber(t,e){return yn(this.auth,t,(0,i.m9)(e))}static credential(t,e){return se._fromVerification(t,e)}static credentialFromResult(t){const e=t;return wn.credentialFromTaggedObject(e)}static credentialFromError(t){return wn.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{phoneNumber:e,temporaryProof:n}=t;return e&&n?se._fromTokenResponse(e,n):null}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function bn(t,e){return e?ot(e):(y(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wn.PROVIDER_ID="phone",wn.PHONE_SIGN_IN_METHOD="phone";class Tn extends Wt{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Qt(t,this._buildIdpRequest())}_linkToIdToken(t,e){return Qt(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return Qt(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function En(t){return Se(t.auth,new Tn(t),t.bypassAuthState)}function Sn(t){const{auth:e,user:n}=t;return y(n,e,"internal-error"),Ee(n,new Tn(t),t.bypassAuthState)}async function xn(t){const{auth:e,user:n}=t;return y(n,e,"internal-error"),Te(n,new Tn(t),t.bypassAuthState)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(t,e,n,i,r=!1){this.auth=t,this.resolver=n,this.user=i,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise((async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}}))}async onAuthEvent(t){const{urlResponse:e,sessionId:n,postBody:i,tenantId:r,error:o,type:s}=t;if(o)return void this.reject(o);const a={auth:this.auth,requestUri:e,sessionId:n,tenantId:r||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(a))}catch(c){this.reject(c)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return En;case"linkViaPopup":case"linkViaRedirect":return xn;case"reauthViaPopup":case"reauthViaRedirect":return Sn;default:p(this.auth,"internal-error")}}resolve(t){b(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){b(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cn=new C(2e3,1e4);async function kn(t,e,n){const i=Ut(t);_(t,e,he);const r=bn(i,n),o=new An(i,"signInViaPopup",e,r);return o.executeNotNull()}class An extends In{constructor(t,e,n,i,r){super(t,e,i,r),this.provider=n,this.authWindow=null,this.pollId=null,An.currentPopupAction&&An.currentPopupAction.cancel(),An.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return y(t,this.auth,"internal-error"),t}async onExecution(){b(1===this.filter.length,"Popup operations only handle one event");const t=qe();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((t=>{this.reject(t)})),this.resolver._isIframeWebStorageSupported(this.auth,(t=>{t||this.reject(m(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var t;return(null===(t=this.authWindow)||void 0===t?void 0:t.associatedEvent)||null}cancel(){this.reject(m(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,An.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,n;(null===(n=null===(e=this.authWindow)||void 0===e?void 0:e.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(m(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(t,Cn.get())};t()}}An.currentPopupAction=null;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Ln="pendingRedirect",Pn=new Map;class Rn extends In{constructor(t,e,n=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,n),this.eventId=null}async execute(){let t=Pn.get(this.auth._key());if(!t){try{const e=await On(this.resolver,this.auth),n=e?await super.execute():null;t=()=>Promise.resolve(n)}catch(e){t=()=>Promise.reject(e)}Pn.set(this.auth._key(),t)}return this.bypassAuthState||Pn.set(this.auth._key(),(()=>Promise.resolve(null))),t()}async onAuthEvent(t){if("signInViaRedirect"===t.type)return super.onAuthEvent(t);if("unknown"!==t.type){if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function On(t,e){const n=Dn(e),i=Mn(t);if(!await i._isAvailable())return!1;const r="true"===await i._get(n);return await i._remove(n),r}function Nn(t,e){Pn.set(t._key(),e)}function Mn(t){return ot(t._redirectPersistence)}function Dn(t){return ct(Ln,t.config.apiKey,t.name)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Un(t,e,n=!1){const i=Ut(t),r=bn(i,e),o=new Rn(i,r,n),s=await o.execute();return s&&!n&&(delete s.user._redirectEventId,await i._persistUserIfCurrent(s.user),await i._setRedirectUser(null,e)),s}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Fn=6e5;class Bn{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(t,n)&&(e=!0,this.sendToConsumer(t,n),this.saveEventToCache(t))})),this.hasHandledPotentialRedirect||!jn(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var n;if(t.error&&!Vn(t)){const i=(null===(n=t.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";e.onError(m(this.auth,i))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const n=null===e.eventId||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&n}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Fn&&this.cachedEventUids.clear(),this.cachedEventUids.has(zn(t))}saveEventToCache(t){this.cachedEventUids.add(zn(t)),this.lastProcessedEventTime=Date.now()}}function zn(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter((t=>t)).join("-")}function Vn({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===(null===e||void 0===e?void 0:e.code)}function jn(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Vn(t);default:return!1}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $n(t,e={}){return O(t,"GET","/v1/projects",e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hn=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,qn=/^https?/;async function Wn(t){if(t.config.emulator)return;const{authorizedDomains:e}=await $n(t);for(const i of e)try{if(Zn(i))return}catch(n){}p(t,"unauthorized-domain")}function Zn(t){const e=T(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const r=new URL(t);return""===r.hostname&&""===i?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&r.hostname===i}if(!qn.test(n))return!1;if(Hn.test(t))return i===t;const r=t.replace(/\./g,"\\."),o=new RegExp("^(.+\\."+r+"|"+r+")$","i");return o.test(i)}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kn=new C(3e4,6e4);function Gn(){const t=Ze().___jsl;if(null===t||void 0===t?void 0:t.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}function Jn(t){return new Promise(((e,n)=>{var i,r,o;function s(){Gn(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Gn(),n(m(t,"network-request-failed"))},timeout:Kn.get()})}if(null===(r=null===(i=Ze().gapi)||void 0===i?void 0:i.iframes)||void 0===r?void 0:r.Iframe)e(gapi.iframes.getContext());else{if(!(null===(o=Ze().gapi)||void 0===o?void 0:o.load)){const e=At("iframefcb");return Ze()[e]=()=>{gapi.load?s():n(m(t,"network-request-failed"))},kt(`https://apis.google.com/js/api.js?onload=${e}`).catch((t=>n(t)))}s()}})).catch((t=>{throw Xn=null,t}))}let Xn=null;function Qn(t){return Xn=Xn||Jn(t),Xn}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yn=new C(5e3,15e3),ti="__/auth/iframe",ei="emulator/auth/iframe",ni={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ii=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ri(t){const e=t.config;y(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?k(e,ei):`https://${t.config.authDomain}/${ti}`,o={apiKey:e.apiKey,appName:t.name,v:r.Jn},s=ii.get(t.config.apiHost);s&&(o.eid=s);const a=t._getFrameworks();return a.length&&(o.fw=a.join(",")),`${n}?${(0,i.xO)(o).slice(1)}`}async function oi(t){const e=await Qn(t),n=Ze().gapi;return y(n,t,"internal-error"),e.open({where:document.body,url:ri(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ni,dontclear:!0},(e=>new Promise((async(n,i)=>{await e.restyle({setHideOnLeave:!1});const r=m(t,"network-request-failed"),o=Ze().setTimeout((()=>{i(r)}),Yn.get());function s(){Ze().clearTimeout(o),n(e)}e.ping(s).then(s,(()=>{i(r)}))}))))}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const si={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ai=500,ci=600,li="_blank",ui="http://localhost";class hi{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(t){}}}function di(t,e,n,r=ai,o=ci){const s=Math.max((window.screen.availHeight-o)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const l=Object.assign(Object.assign({},si),{width:r.toString(),height:o.toString(),top:s,left:a}),u=(0,i.z$)().toLowerCase();n&&(c=ft(u)?li:n),ht(u)&&(e=e||ui,l.scrollbars="yes");const h=Object.entries(l).reduce(((t,[e,n])=>`${t}${e}=${n},`),"");if(yt(u)&&"_self"!==c)return fi(e||"",c),new hi(null);const d=window.open(e||"",c,h);y(d,t,"popup-blocked");try{d.focus()}catch(f){}return new hi(d)}function fi(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pi="__/auth/handler",mi="emulator/auth/handler",gi=encodeURIComponent("fac");async function _i(t,e,n,o,s,a){y(t.config.authDomain,t,"auth-domain-config-required"),y(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:o,v:r.Jn,eventId:s};if(e instanceof he){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",(0,i.xb)(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[t,e]of Object.entries(a||{}))c[t]=e}if(e instanceof de){const t=e.getScopes().filter((t=>""!==t));t.length>0&&(c.scopes=t.join(","))}t.tenantId&&(c.tid=t.tenantId);const l=c;for(const i of Object.keys(l))void 0===l[i]&&delete l[i];const u=await t._getAppCheckToken(),h=u?`#${gi}=${encodeURIComponent(u)}`:"";return`${vi(t)}?${(0,i.xO)(l).slice(1)}${h}`}function vi({config:t}){return t.emulator?k(t,mi):`https://${t.authDomain}/${pi}`}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yi="webStorageSupport";class wi{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=je,this._completeRedirectFn=Un,this._overrideRedirectResult=Nn}async _openPopup(t,e,n,i){var r;b(null===(r=this.eventManagers[t._key()])||void 0===r?void 0:r.manager,"_initialize() not called before _openPopup()");const o=await _i(t,e,n,T(),i);return di(t,o,qe())}async _openRedirect(t,e,n,i){await this._originValidation(t);const r=await _i(t,e,n,T(),i);return Ke(r),new Promise((()=>{}))}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:t,promise:n}=this.eventManagers[e];return t?Promise.resolve(t):(b(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(t);return this.eventManagers[e]={promise:n},n.catch((()=>{delete this.eventManagers[e]})),n}async initAndGetManager(t){const e=await oi(t),n=new Bn(t);return e.register("authEvent",(e=>{y(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event");const i=n.onEvent(e.authEvent);return{status:i?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:n},this.iframes[t._key()]=e,n}_isIframeWebStorageSupported(t,e){const n=this.iframes[t._key()];n.send(yi,{type:yi},(n=>{var i;const r=null===(i=null===n||void 0===n?void 0:n[0])||void 0===i?void 0:i[yi];void 0!==r&&e(!!r),p(t,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=Wn(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return bt()||dt()||vt()}}const bi=wi;class Ti{constructor(t){this.factorId=t}_process(t,e,n){switch(e.type){case"enroll":return this._finalizeEnroll(t,e.credential,n);case"signin":return this._finalizeSignIn(t,e.credential);default:return w("unexpected MultiFactorSessionType")}}}class Ei extends Ti{constructor(t){super("phone"),this.credential=t}static _fromCredential(t){return new Ei(t)}_finalizeEnroll(t,e,n){return Pe(t,{idToken:e,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(t,e){return gn(t,{mfaPendingCredential:e,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class Si{constructor(){}static assertion(t){return Ei._fromCredential(t)}}Si.FACTOR_ID="phone";class xi{static assertionForEnrollment(t,e){return Ii._fromSecret(t,e)}static assertionForSignIn(t,e){return Ii._fromEnrollmentId(t,e)}static async generateSecret(t){const e=t;y("undefined"!==typeof e.auth,"internal-error");const n=await Re(e.auth,{idToken:e.credential,totpEnrollmentInfo:{}});return Ci._fromStartTotpMfaEnrollmentResponse(n,e.auth)}}xi.FACTOR_ID="totp";class Ii extends Ti{constructor(t,e,n){super("totp"),this.otp=t,this.enrollmentId=e,this.secret=n}static _fromSecret(t,e){return new Ii(e,void 0,t)}static _fromEnrollmentId(t,e){return new Ii(e,t)}async _finalizeEnroll(t,e,n){return y("undefined"!==typeof this.secret,t,"argument-error"),Oe(t,{idToken:e,displayName:n,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)})}async _finalizeSignIn(t,e){y(void 0!==this.enrollmentId&&void 0!==this.otp,t,"argument-error");const n={verificationCode:this.otp};return _n(t,{mfaPendingCredential:e,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:n})}}class Ci{constructor(t,e,n,i,r,o,s){this.sessionInfo=o,this.auth=s,this.secretKey=t,this.hashingAlgorithm=e,this.codeLength=n,this.codeIntervalSeconds=i,this.enrollmentCompletionDeadline=r}static _fromStartTotpMfaEnrollmentResponse(t,e){return new Ci(t.totpSessionInfo.sharedSecretKey,t.totpSessionInfo.hashingAlgorithm,t.totpSessionInfo.verificationCodeLength,t.totpSessionInfo.periodSec,new Date(t.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),t.totpSessionInfo.sessionInfo,e)}_makeTotpVerificationInfo(t){return{sessionInfo:this.sessionInfo,verificationCode:t}}generateQrCodeUrl(t,e){var n;let i=!1;return(ki(t)||ki(e))&&(i=!0),i&&(ki(t)&&(t=(null===(n=this.auth.currentUser)||void 0===n?void 0:n.email)||"unknownuser"),ki(e)&&(e=this.auth.name)),`otpauth://totp/${e}:${t}?secret=${this.secretKey}&issuer=${e}&algorithm=${this.hashingAlgorithm}&digits=${this.codeLength}`}}function ki(t){return"undefined"===typeof t||0===(null===t||void 0===t?void 0:t.length)}var Ai="@firebase/auth",Li="0.23.1";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Pi{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),(null===(t=this.auth.currentUser)||void 0===t?void 0:t.uid)||null}async getToken(t){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;const e=await this.auth.currentUser.getIdToken(t);return{accessToken:e}}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged((e=>{t((null===e||void 0===e?void 0:e.stsTokenManager.accessToken)||null)}));this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){y(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ri(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function Oi(t){(0,r.Xd)(new a.wA("auth",((e,{options:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=i.options;y(s&&!s.includes(":"),"invalid-api-key",{appName:i.name}),y(!(null===a||void 0===a?void 0:a.includes(":")),"argument-error",{appName:i.name});const c={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Et(t)},l=new Dt(i,r,o,c);return zt(l,n),l}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((t,e,n)=>{const i=t.getProvider("auth-internal");i.initialize()}))),(0,r.Xd)(new a.wA("auth-internal",(t=>{const e=Ut(t.getProvider("auth").getImmediate());return(t=>new Pi(t))(e)}),"PRIVATE").setInstantiationMode("EXPLICIT")),(0,r.KN)(Ai,Li,Ri(t)),(0,r.KN)(Ai,Li,"esm2017")}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ni=300,Mi=(0,i.Pz)("authIdTokenMaxAge")||Ni;let Di=null;const Ui=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&((new Date).getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>Mi)return;const r=null===n||void 0===n?void 0:n.token;Di!==r&&(Di=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function Fi(t=(0,r.Mq)()){const e=(0,r.qX)(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Bt(t,{popupRedirectResolver:bi,persistence:[pn,ze,je]}),o=(0,i.Pz)("authTokenSyncURL");if(o){const t=Ui(o);Ae(n,t,(()=>t(n.currentUser))),ke(n,(e=>t(e)))}const s=(0,i.q4)("auth");return s&&Vt(n,`http://${s}`),n}Oi("Browser")},4287:function(t,e,n){"use strict";n.d(e,{hJ:function(){return ah},JU:function(){return ch},PL:function(){return id},ad:function(){return hh},IO:function(){return Vh},pl:function(){return rd},ar:function(){return $h}});n(3767),n(8585),n(8696),n(7658),n(2801);var i,r=n(7077),o=n(7142),s=n(5168),a=n(223),c=(n(541),"undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{}),l={},u=u||{},h=c||self;function d(){}function f(t){var e=typeof t;return e="object"!=e?e:t?Array.isArray(t)?"array":e:"null","array"==e||"object"==e&&"number"==typeof t.length}function p(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function m(t){return Object.prototype.hasOwnProperty.call(t,g)&&t[g]||(t[g]=++_)}var g="closure_uid_"+(1e9*Math.random()>>>0),_=0;function v(t,e,n){return t.call.apply(t.bind,arguments)}function y(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function w(t,e,n){return w=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?v:y,w.apply(null,arguments)}function b(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function T(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(t,n,i){for(var r=Array(arguments.length-2),o=2;o<arguments.length;o++)r[o-2]=arguments[o];return e.prototype[n].apply(t,r)}}function E(){this.s=this.s,this.o=this.o}var S=0;E.prototype.s=!1,E.prototype.ra=function(){this.s||(this.s=!0,this.N(),0==S)||m(this)},E.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const x=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"===typeof t)return"string"!==typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function I(t){const e=t.length;if(0<e){const n=Array(e);for(let i=0;i<e;i++)n[i]=t[i];return n}return[]}function C(t,e){for(let n=1;n<arguments.length;n++){const e=arguments[n];if(f(e)){const n=t.length||0,i=e.length||0;t.length=n+i;for(let r=0;r<i;r++)t[n+r]=e[r]}else t.push(e)}}function k(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}k.prototype.h=function(){this.defaultPrevented=!0};var A=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{h.addEventListener("test",d,e),h.removeEventListener("test",d,e)}catch(n){}return t}();function L(t){return/^[\s\xa0]*$/.test(t)}var P=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function R(t,e){return t<e?-1:t>e?1:0}function O(){var t=h.navigator;return t&&(t=t.userAgent)?t:""}function N(t){return-1!=O().indexOf(t)}function M(t){return M[" "](t),t}function D(t,e,n){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:t[e]=n(e)}M[" "]=d;var U,F=N("Opera"),B=N("Trident")||N("MSIE"),z=N("Edge"),V=z||B,j=N("Gecko")&&!(-1!=O().toLowerCase().indexOf("webkit")&&!N("Edge"))&&!(N("Trident")||N("MSIE"))&&!N("Edge"),$=-1!=O().toLowerCase().indexOf("webkit")&&!N("Edge");function H(){var t=h.document;return t?t.documentMode:void 0}t:{var q="",W=function(){var t=O();return j?/rv:([^\);]+)(\)|;)/.exec(t):z?/Edge\/([\d\.]+)/.exec(t):B?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):$?/WebKit\/(\S+)/.exec(t):F?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(W&&(q=W?W[1]:""),B){var Z=H();if(null!=Z&&Z>parseFloat(q)){U=String(Z);break t}}U=q}var K,G={};function J(){return D(G,9,(function(){let t=0;const e=P(String(U)).split("."),n=P("9").split("."),i=Math.max(e.length,n.length);for(let s=0;0==t&&s<i;s++){var r=e[s]||"",o=n[s]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==r[0].length&&0==o[0].length)break;t=R(0==r[1].length?0:parseInt(r[1],10),0==o[1].length?0:parseInt(o[1],10))||R(0==r[2].length,0==o[2].length)||R(r[2],o[2]),r=r[3],o=o[3]}while(0==t)}return 0<=t}))}if(h.document&&B){var X=H();K=X||(parseInt(U,10)||void 0)}else K=void 0;var Q=K;function Y(t,e){if(k.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(j){t:{try{M(e.nodeName);var r=!0;break t}catch(o){}r=!1}r||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"===typeof t.pointerType?t.pointerType:tt[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Y.$.h.call(this)}}T(Y,k);var tt={2:"touch",3:"pen",4:"mouse"};Y.prototype.h=function(){Y.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var et="closure_listenable_"+(1e6*Math.random()|0),nt=0;function it(t,e,n,i,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.la=r,this.key=++nt,this.fa=this.ia=!1}function rt(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function ot(t,e,n){for(const i in t)e.call(n,t[i],i,t)}function st(t){const e={};for(const n in t)e[n]=t[n];return e}const at="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ct(t,e){let n,i;for(let r=1;r<arguments.length;r++){for(n in i=arguments[r],i)t[n]=i[n];for(let e=0;e<at.length;e++)n=at[e],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function lt(t){this.src=t,this.g={},this.h=0}function ut(t,e){var n=e.type;if(n in t.g){var i,r=t.g[n],o=x(r,e);(i=0<=o)&&Array.prototype.splice.call(r,o,1),i&&(rt(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function ht(t,e,n,i){for(var r=0;r<t.length;++r){var o=t[r];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==i)return r}return-1}lt.prototype.add=function(t,e,n,i,r){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var s=ht(t,e,i,r);return-1<s?(e=t[s],n||(e.ia=!1)):(e=new it(e,this.src,o,!!i,r),e.ia=n,t.push(e)),e};var dt="closure_lm_"+(1e6*Math.random()|0),ft={};function pt(t,e,n,i,r){if(i&&i.once)return _t(t,e,n,i,r);if(Array.isArray(e)){for(var o=0;o<e.length;o++)pt(t,e[o],n,i,r);return null}return n=St(n),t&&t[et]?t.O(e,n,p(i)?!!i.capture:!!i,r):mt(t,e,n,!1,i,r)}function mt(t,e,n,i,r,o){if(!e)throw Error("Invalid event type");var s=p(r)?!!r.capture:!!r,a=Tt(t);if(a||(t[dt]=a=new lt(t)),n=a.add(e,n,i,s,o),n.proxy)return n;if(i=gt(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)A||(r=s),void 0===r&&(r=!1),t.addEventListener(e.toString(),i,r);else if(t.attachEvent)t.attachEvent(wt(e.toString()),i);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(i)}return n}function gt(){function t(n){return e.call(t.src,t.listener,n)}const e=bt;return t}function _t(t,e,n,i,r){if(Array.isArray(e)){for(var o=0;o<e.length;o++)_t(t,e[o],n,i,r);return null}return n=St(n),t&&t[et]?t.P(e,n,p(i)?!!i.capture:!!i,r):mt(t,e,n,!0,i,r)}function vt(t,e,n,i,r){if(Array.isArray(e))for(var o=0;o<e.length;o++)vt(t,e[o],n,i,r);else i=p(i)?!!i.capture:!!i,n=St(n),t&&t[et]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=ht(o,n,i,r),-1<n&&(rt(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.g[e],t.h--)))):t&&(t=Tt(t))&&(e=t.g[e.toString()],t=-1,e&&(t=ht(e,n,i,r)),(n=-1<t?e[t]:null)&&yt(n))}function yt(t){if("number"!==typeof t&&t&&!t.fa){var e=t.src;if(e&&e[et])ut(e.i,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(wt(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=Tt(e))?(ut(n,t),0==n.h&&(n.src=null,e[dt]=null)):rt(t)}}}function wt(t){return t in ft?ft[t]:ft[t]="on"+t}function bt(t,e){if(t.fa)t=!0;else{e=new Y(e,this);var n=t.listener,i=t.la||t.src;t.ia&&yt(t),t=n.call(i,e)}return t}function Tt(t){return t=t[dt],t instanceof lt?t:null}var Et="__closure_events_fn_"+(1e9*Math.random()>>>0);function St(t){return"function"===typeof t?t:(t[Et]||(t[Et]=function(e){return t.handleEvent(e)}),t[Et])}function xt(){E.call(this),this.i=new lt(this),this.S=this,this.J=null}function It(t,e){var n,i=t.J;if(i)for(n=[];i;i=i.J)n.push(i);if(t=t.S,i=e.type||e,"string"===typeof e)e=new k(e,t);else if(e instanceof k)e.target=e.target||t;else{var r=e;e=new k(i,t),ct(e,r)}if(r=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];r=Ct(s,i,!0,e)&&r}if(s=e.g=t,r=Ct(s,i,!0,e)&&r,r=Ct(s,i,!1,e)&&r,n)for(o=0;o<n.length;o++)s=e.g=n[o],r=Ct(s,i,!1,e)&&r}function Ct(t,e,n,i){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var r=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,c=s.la||s.src;s.ia&&ut(t.i,s),r=!1!==a.call(c,i)&&r}}return r&&!i.defaultPrevented}T(xt,E),xt.prototype[et]=!0,xt.prototype.removeEventListener=function(t,e,n,i){vt(this,t,e,n,i)},xt.prototype.N=function(){if(xt.$.N.call(this),this.i){var t,e=this.i;for(t in e.g){for(var n=e.g[t],i=0;i<n.length;i++)rt(n[i]);delete e.g[t],e.h--}}this.J=null},xt.prototype.O=function(t,e,n,i){return this.i.add(String(t),e,!1,n,i)},xt.prototype.P=function(t,e,n,i){return this.i.add(String(t),e,!0,n,i)};var kt=h.JSON.stringify;function At(){var t=Ft;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class Lt{constructor(){this.h=this.g=null}add(t,e){const n=Rt.get();n.set(t,e),this.h?this.h.next=n:this.g=n,this.h=n}}var Pt,Rt=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}((()=>new Ot),(t=>t.reset()));class Ot{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function Nt(t){h.setTimeout((()=>{throw t}),0)}function Mt(t,e){Pt||Dt(),Ut||(Pt(),Ut=!0),Ft.add(t,e)}function Dt(){var t=h.Promise.resolve(void 0);Pt=function(){t.then(Bt)}}var Ut=!1,Ft=new Lt;function Bt(){for(var t;t=At();){try{t.h.call(t.g)}catch(n){Nt(n)}var e=Rt;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Ut=!1}function zt(t,e){xt.call(this),this.h=t||1,this.g=e||h,this.j=w(this.qb,this),this.l=Date.now()}function Vt(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function jt(t,e,n){if("function"===typeof t)n&&(t=w(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=w(t.handleEvent,t)}return 2147483647<Number(e)?-1:h.setTimeout(t,e||0)}function $t(t){t.g=jt((()=>{t.g=null,t.i&&(t.i=!1,$t(t))}),t.j);const e=t.h;t.h=null,t.m.apply(null,e)}T(zt,xt),i=zt.prototype,i.ga=!1,i.T=null,i.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),It(this,"tick"),this.ga&&(Vt(this),this.start()))}},i.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},i.N=function(){zt.$.N.call(this),Vt(this),delete this.g};class Ht extends E{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:$t(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qt(t){E.call(this),this.h=t,this.g={}}T(qt,E);var Wt=[];function Zt(t,e,n,i){Array.isArray(n)||(n&&(Wt[0]=n.toString()),n=Wt);for(var r=0;r<n.length;r++){var o=pt(e,n[r],i||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function Kt(t){ot(t.g,(function(t,e){this.g.hasOwnProperty(e)&&yt(t)}),t),t.g={}}function Gt(){this.g=!0}function Jt(t,e,n,i,r,o){t.info((function(){if(t.g)if(o)for(var s="",a=o.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var h=u.split("_");s=2<=h.length&&"type"==h[1]?s+(u+"=")+l+"&":s+(u+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+n+"\n"+s}))}function Xt(t,e,n,i,r,o,s){t.info((function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+n+"\n"+o+" "+s}))}function Qt(t,e,n,i){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+te(t,n)+(i?" "+i:"")}))}function Yt(t,e){t.info((function(){return"TIMEOUT: "+e}))}function te(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var i=n[t];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<r.length;s++)r[s]=""}}}return kt(n)}catch(a){return e}}qt.prototype.N=function(){qt.$.N.call(this),Kt(this)},qt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Gt.prototype.Ea=function(){this.g=!1},Gt.prototype.info=function(){};var ee={},ne=null;function ie(){return ne=ne||new xt}function re(t){k.call(this,ee.Ta,t)}function oe(t){const e=ie();It(e,new re(e))}function se(t,e){k.call(this,ee.STAT_EVENT,t),this.stat=e}function ae(t){const e=ie();It(e,new se(e,t))}function ce(t,e){k.call(this,ee.Ua,t),this.size=e}function le(t,e){if("function"!==typeof t)throw Error("Fn must not be null and must be a function");return h.setTimeout((function(){t()}),e)}ee.Ta="serverreachability",T(re,k),ee.STAT_EVENT="statevent",T(se,k),ee.Ua="timingevent",T(ce,k);var ue={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},he={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function de(){}function fe(t){return t.h||(t.h=t.i())}function pe(){}de.prototype.h=null;var me,ge={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function _e(){k.call(this,"d")}function ve(){k.call(this,"c")}function ye(){}function we(t,e,n,i){this.l=t,this.j=e,this.m=n,this.W=i||1,this.U=new qt(this),this.P=Te,t=V?125:void 0,this.V=new zt(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.aa=-1,this.J=!1,this.O=0,this.M=null,this.ca=this.K=this.ba=this.S=!1,this.h=new be}function be(){this.i=null,this.g="",this.h=!1}T(_e,k),T(ve,k),T(ye,de),ye.prototype.g=function(){return new XMLHttpRequest},ye.prototype.i=function(){return{}},me=new ye;var Te=45e3,Ee={},Se={};function xe(t,e,n){t.L=1,t.v=Ze(je(e)),t.s=n,t.S=!0,Ie(t,null)}function Ie(t,e){t.G=Date.now(),Le(t),t.A=je(t.v);var n=t.A,i=t.W;Array.isArray(i)||(i=[String(i)]),an(n.i,"t",i),t.C=0,n=t.l.I,t.h=new be,t.g=hi(t.l,n?e:null,!t.s),0<t.O&&(t.M=new Ht(w(t.Pa,t,t.g),t.O)),Zt(t.U,t.g,"readystatechange",t.nb),e=t.I?st(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),oe(),Jt(t.j,t.u,t.A,t.m,t.W,t.s)}function Ce(t){return!!t.g&&("GET"==t.u&&2!=t.L&&t.l.Ha)}function ke(t,e,n){let i,r=!0;for(;!t.J&&t.C<n.length;){if(i=Ae(t,n),i==Se){4==e&&(t.o=4,ae(14),r=!1),Qt(t.j,t.m,null,"[Incomplete Response]");break}if(i==Ee){t.o=4,ae(15),Qt(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}Qt(t.j,t.m,i,null),Me(t,i)}Ce(t)&&i!=Se&&i!=Ee&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,ae(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ca&&(t.ca=!0,e=t.l,e.g==t&&e.ca&&!e.L&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),ii(e),e.L=!0,ae(11))):(Qt(t.j,t.m,n,"[Invalid Chunked Response]"),Ne(t),Oe(t))}function Ae(t,e){var n=t.C,i=e.indexOf("\n",n);return-1==i?Se:(n=Number(e.substring(n,i)),isNaN(n)?Ee:(i+=1,i+n>e.length?Se:(e=e.substr(i,n),t.C=i+n,e)))}function Le(t){t.Y=Date.now()+t.P,Pe(t,t.P)}function Pe(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=le(w(t.lb,t),e)}function Re(t){t.B&&(h.clearTimeout(t.B),t.B=null)}function Oe(t){0==t.l.H||t.J||si(t.l,t)}function Ne(t){Re(t);var e=t.M;e&&"function"==typeof e.ra&&e.ra(),t.M=null,Vt(t.V),Kt(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.ra())}function Me(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||mn(n.h,t)))if(!t.K&&mn(n.h,t)&&3==n.H){try{var i=n.Ja.g.parse(e)}catch(l){i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){t:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break t;oi(n),Kn(n)}ni(n),ae(18)}}else n.Fa=r[1],0<n.Fa-n.V&&37500>r[2]&&n.M&&0==n.A&&!n.v&&(n.v=le(w(n.ib,n),6e3));if(1>=pn(n.h)&&n.na){try{n.na()}catch(l){}n.na=void 0}}else ci(n,11)}else if((t.K||n.g==t)&&oi(n),!L(e))for(r=n.Ja.g.parse(e),e=0;e<r.length;e++){let l=r[e];if(n.V=l[0],l=l[1],2==n.H)if("c"==l[0]){n.J=l[1],n.oa=l[2];const e=l[3];null!=e&&(n.qa=e,n.j.info("VER="+n.qa));const r=l[4];null!=r&&(n.Ga=r,n.j.info("SVER="+n.Ga));const u=l[5];null!=u&&"number"===typeof u&&0<u&&(i=1.5*u,n.K=i,n.j.info("backChannelRequestTimeoutMs_="+i)),i=n;const h=t.g;if(h){const t=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(t){var o=i.h;o.g||-1==t.indexOf("spdy")&&-1==t.indexOf("quic")&&-1==t.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(gn(o,o.h),o.h=null))}if(i.F){const t=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;t&&(i.Da=t,We(i.G,i.F,t))}}n.H=3,n.l&&n.l.Ba(),n.ca&&(n.S=Date.now()-t.G,n.j.info("Handshake RTT: "+n.S+"ms")),i=n;var s=t;if(i.wa=ui(i,i.I?i.oa:null,i.Y),s.K){_n(i.h,s);var a=s,c=i.K;c&&a.setTimeout(c),a.B&&(Re(a),Le(a)),i.g=s}else ei(i);0<n.i.length&&Jn(n)}else"stop"!=l[0]&&"close"!=l[0]||ci(n,7);else 3==n.H&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?ci(n,7):Zn(n):"noop"!=l[0]&&n.l&&n.l.Aa(l),n.A=0)}oe(4)}catch(l){}}function De(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if("undefined"!==typeof Map&&t instanceof Map||"undefined"!==typeof Set&&t instanceof Set)return Array.from(t.values());if("string"===typeof t)return t.split("");if(f(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}for(i in e=[],n=0,t)e[n++]=t[i];return e}function Ue(t){if(t.sa&&"function"==typeof t.sa)return t.sa();if(!t.Z||"function"!=typeof t.Z){if("undefined"!==typeof Map&&t instanceof Map)return Array.from(t.keys());if(!("undefined"!==typeof Set&&t instanceof Set)){if(f(t)||"string"===typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const i in t)e[n++]=i;return e}}}function Fe(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(f(t)||"string"===typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=Ue(t),i=De(t),r=i.length,o=0;o<r;o++)e.call(void 0,i[o],n&&n[o],t)}i=we.prototype,i.setTimeout=function(t){this.P=t},i.nb=function(t){t=t.target;const e=this.M;e&&3==Vn(t)?e.l():this.Pa(t)},i.Pa=function(t){try{if(t==this.g)t:{const u=Vn(this.g);var e=this.g.Ia();const d=this.g.da();if(!(3>u)&&(3!=u||V||this.g&&(this.h.h||this.g.ja()||jn(this.g)))){this.J||4!=u||7==e||oe(8==e||0>=d?3:2),Re(this);var n=this.g.da();this.aa=n;e:if(Ce(this)){var i=jn(this.g);t="";var r=i.length,o=4==Vn(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ne(this),Oe(this);var s="";break e}this.h.i=new h.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,t+=this.h.i.decode(i[e],{stream:o&&e==r-1});i.splice(0,r),this.h.g+=t,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=200==n,Xt(this.j,this.u,this.A,this.m,this.W,u,n),this.i){if(this.ba&&!this.K){e:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(a)){var l=a;break e}}l=null}if(!(n=l)){this.i=!1,this.o=3,ae(12),Ne(this),Oe(this);break t}Qt(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Me(this,n)}this.S?(ke(this,u,s),V&&this.i&&3==u&&(Zt(this.U,this.V,"tick",this.mb),this.V.start())):(Qt(this.j,this.m,s,null),Me(this,s)),4==u&&Ne(this),this.i&&!this.J&&(4==u?si(this.l,this):(this.i=!1,Le(this)))}else 400==n&&0<s.indexOf("Unknown SID")?(this.o=3,ae(12)):(this.o=0,ae(13)),Ne(this),Oe(this)}}}catch(u){}},i.mb=function(){if(this.g){var t=Vn(this.g),e=this.g.ja();this.C<e.length&&(Re(this),ke(this,t,e),this.i&&4!=t&&Le(this))}},i.cancel=function(){this.J=!0,Ne(this)},i.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(Yt(this.j,this.A),2!=this.L&&(oe(),ae(17)),Ne(this),this.o=2,Oe(this)):Pe(this,this.Y-t)};var Be=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ze(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),r=null;if(0<=i){var o=t[n].substring(0,i);r=t[n].substring(i+1)}else o=t[n];e(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}function Ve(t,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Ve){this.h=void 0!==e?e:t.h,$e(this,t.j),this.s=t.s,this.g=t.g,He(this,t.m),this.l=t.l,e=t.i;var n=new nn;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),qe(this,n),this.o=t.o}else t&&(n=String(t).match(Be))?(this.h=!!e,$e(this,n[1]||"",!0),this.s=Ke(n[2]||""),this.g=Ke(n[3]||"",!0),He(this,n[4]),this.l=Ke(n[5]||"",!0),qe(this,n[6]||"",!0),this.o=Ke(n[7]||"")):(this.h=!!e,this.i=new nn(null,this.h))}function je(t){return new Ve(t)}function $e(t,e,n){t.j=n?Ke(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function He(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function qe(t,e,n){e instanceof nn?(t.i=e,ln(t.i,t.h)):(n||(e=Ge(e,tn)),t.i=new nn(e,t.h))}function We(t,e,n){t.i.set(e,n)}function Ze(t){return We(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Ke(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ge(t,e,n){return"string"===typeof t?(t=encodeURI(t).replace(e,Je),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Je(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(15&t).toString(16)}Ve.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Ge(e,Xe,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Ge(e,Xe,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,null!=n&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(Ge(n,"/"==n.charAt(0)?Ye:Qe,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Ge(n,en)),t.join("")};var Xe=/[#\/\?@]/g,Qe=/[#\?:]/g,Ye=/[#\?]/g,tn=/[#\?@]/g,en=/#/g;function nn(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function rn(t){t.g||(t.g=new Map,t.h=0,t.i&&ze(t.i,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function on(t,e){rn(t),e=cn(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function sn(t,e){return rn(t),e=cn(t,e),t.g.has(e)}function an(t,e,n){on(t,e),0<n.length&&(t.i=null,t.g.set(cn(t,e),I(n)),t.h+=n.length)}function cn(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function ln(t,e){e&&!t.j&&(rn(t),t.i=null,t.g.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(on(this,e),an(this,n,t))}),t)),t.j=e}i=nn.prototype,i.add=function(t,e){rn(this),this.i=null,t=cn(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},i.forEach=function(t,e){rn(this),this.g.forEach((function(n,i){n.forEach((function(n){t.call(e,n,i,this)}),this)}),this)},i.sa=function(){rn(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let i=0;i<e.length;i++){const r=t[i];for(let t=0;t<r.length;t++)n.push(e[i])}return n},i.Z=function(t){rn(this);let e=[];if("string"===typeof t)sn(this,t)&&(e=e.concat(this.g.get(cn(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},i.set=function(t,e){return rn(this),this.i=null,t=cn(this,t),sn(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},i.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e},i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var i=e[n];const o=encodeURIComponent(String(i)),s=this.Z(i);for(i=0;i<s.length;i++){var r=o;""!==s[i]&&(r+="="+encodeURIComponent(String(s[i]))),t.push(r)}}return this.i=t.join("&")};var un=class{constructor(t,e){this.h=t,this.g=e}};function hn(t){this.l=t||dn,h.PerformanceNavigationTiming?(t=h.performance.getEntriesByType("navigation"),t=0<t.length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol)):t=!!(h.g&&h.g.Ka&&h.g.Ka()&&h.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var dn=10;function fn(t){return!!t.h||!!t.g&&t.g.size>=t.j}function pn(t){return t.h?1:t.g?t.g.size:0}function mn(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function gn(t,e){t.g?t.g.add(e):t.h=e}function _n(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function vn(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return I(t.i)}function yn(){}function wn(){this.g=new yn}function bn(t,e,n){const i=n||"";try{Fe(t,(function(t,n){let r=t;p(t)&&(r=kt(t)),e.push(i+n+"="+encodeURIComponent(r))}))}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function Tn(t,e){const n=new Gt;if(h.Image){const i=new Image;i.onload=b(En,n,i,"TestLoadImage: loaded",!0,e),i.onerror=b(En,n,i,"TestLoadImage: error",!1,e),i.onabort=b(En,n,i,"TestLoadImage: abort",!1,e),i.ontimeout=b(En,n,i,"TestLoadImage: timeout",!1,e),h.setTimeout((function(){i.ontimeout&&i.ontimeout()}),1e4),i.src=t}else e(!1)}function En(t,e,n,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch(o){}}function Sn(t){this.l=t.fc||null,this.j=t.ob||!1}function xn(t,e){xt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=In,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}hn.prototype.cancel=function(){if(this.i=vn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}},yn.prototype.stringify=function(t){return h.JSON.stringify(t,void 0)},yn.prototype.parse=function(t){return h.JSON.parse(t,void 0)},T(Sn,de),Sn.prototype.g=function(){return new xn(this.l,this.j)},Sn.prototype.i=function(t){return function(){return t}}({}),T(xn,xt);var In=0;function Cn(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function kn(t){t.readyState=4,t.l=null,t.j=null,t.A=null,An(t)}function An(t){t.onreadystatechange&&t.onreadystatechange.call(t)}i=xn.prototype,i.open=function(t,e){if(this.readyState!=In)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,An(this)},i.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||h).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},i.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,kn(this)),this.readyState=In},i.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,An(this)),this.g&&(this.readyState=3,An(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof h.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Cn(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},i.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?kn(this):An(this),3==this.readyState&&Cn(this)}},i.Za=function(t){this.g&&(this.response=this.responseText=t,kn(this))},i.Ya=function(t){this.g&&(this.response=t,kn(this))},i.ka=function(){this.g&&kn(this)},i.setRequestHeader=function(t,e){this.v.append(t,e)},i.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(xn.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var Ln=h.JSON.parse;function Pn(t){xt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Rn,this.L=this.M=!1}T(Pn,xt);var Rn="",On=/^https?$/i,Nn=["POST","PUT"];function Mn(t){return B&&J()&&"number"===typeof t.timeout&&void 0!==t.ontimeout}function Dn(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Un(t),Bn(t)}function Un(t){t.F||(t.F=!0,It(t,"complete"),It(t,"error"))}function Fn(t){if(t.h&&"undefined"!=typeof u&&(!t.C[1]||4!=Vn(t)||2!=t.da()))if(t.v&&4==Vn(t))jt(t.La,0,t);else if(It(t,"readystatechange"),4==Vn(t)){t.h=!1;try{const c=t.da();t:switch(c){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break t;default:e=!1}var n;if(!(n=e)){var i;if(i=0===c){var r=String(t.I).match(Be)[1]||null;if(!r&&h.self&&h.self.location){var o=h.self.location.protocol;r=o.substr(0,o.length-1)}i=!On.test(r?r.toLowerCase():"")}n=i}if(n)It(t,"complete"),It(t,"success");else{t.m=6;try{var s=2<Vn(t)?t.g.statusText:""}catch(a){s=""}t.j=s+" ["+t.da()+"]",Un(t)}}finally{Bn(t)}}}function Bn(t,e){if(t.g){zn(t);const i=t.g,r=t.C[0]?d:null;t.g=null,t.C=null,e||It(t,"ready");try{i.onreadystatechange=r}catch(n){}}}function zn(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(h.clearTimeout(t.A),t.A=null)}function Vn(t){return t.g?t.g.readyState:0}function jn(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case Rn:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(Ji){return null}}function $n(t){let e="";return ot(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}function Hn(t,e,n){t:{for(i in n){var i=!1;break t}i=!0}i||(n=$n(n),"string"===typeof t?null!=n&&encodeURIComponent(String(n)):We(t,e,n))}function qn(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Wn(t){this.Ga=0,this.i=[],this.j=new Gt,this.oa=this.wa=this.G=this.Y=this.g=this.Da=this.F=this.ma=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=qn("failFast",!1,t),this.M=this.v=this.u=this.m=this.l=null,this.aa=!0,this.ta=this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=qn("baseRetryDelayMs",5e3,t),this.hb=qn("retryDelaySeedMs",1e4,t),this.eb=qn("forwardChannelMaxRetries",2,t),this.xa=qn("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.K=void 0,this.I=t&&t.supportsCrossDomainXhr||!1,this.J="",this.h=new hn(t&&t.concurrentRequestLimit),this.Ja=new wn,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.j.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.na=void 0,this.S=0,this.L=!1,this.pa=this.B=null}function Zn(t){if(Gn(t),3==t.H){var e=t.W++,n=je(t.G);We(n,"SID",t.J),We(n,"RID",e),We(n,"TYPE","terminate"),Yn(t,n),e=new we(t,t.j,e,void 0),e.L=2,e.v=Ze(je(n)),n=!1,h.navigator&&h.navigator.sendBeacon&&(n=h.navigator.sendBeacon(e.v.toString(),"")),!n&&h.Image&&((new Image).src=e.v,n=!0),n||(e.g=hi(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Le(e)}li(t)}function Kn(t){t.g&&(ii(t),t.g.cancel(),t.g=null)}function Gn(t){Kn(t),t.u&&(h.clearTimeout(t.u),t.u=null),oi(t),t.h.cancel(),t.m&&("number"===typeof t.m&&h.clearTimeout(t.m),t.m=null)}function Jn(t){fn(t.h)||t.m||(t.m=!0,Mt(t.Na,t),t.C=0)}function Xn(t,e){return!(pn(t.h)>=t.h.j-(t.m?1:0))&&(t.m?(t.i=e.F.concat(t.i),!0):!(1==t.H||2==t.H||t.C>=(t.cb?0:t.eb))&&(t.m=le(w(t.Na,t,e),ai(t,t.C)),t.C++,!0))}function Qn(t,e){var n;n=e?e.m:t.W++;const i=je(t.G);We(i,"SID",t.J),We(i,"RID",n),We(i,"AID",t.V),Yn(t,i),t.o&&t.s&&Hn(i,t.o,t.s),n=new we(t,t.j,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.i=e.F.concat(t.i)),e=ti(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),gn(t.h,n),xe(n,i,e)}function Yn(t,e){t.ma&&ot(t.ma,(function(t,n){We(e,n,t)})),t.l&&Fe({},(function(t,n){We(e,n,t)}))}function ti(t,e,n){n=Math.min(t.i.length,n);var i=t.l?w(t.l.Va,t.l,t):null;t:{var r=t.i;let e=-1;for(;;){const t=["count="+n];-1==e?0<n?(e=r[0].h,t.push("ofs="+e)):e=0:t.push("ofs="+e);let o=!0;for(let s=0;s<n;s++){let n=r[s].h;const a=r[s].g;if(n-=e,0>n)e=Math.max(0,r[s].h-100),o=!1;else try{bn(a,t,"req"+n+"_")}catch(ar){i&&i(a)}}if(o){i=t.join("&");break t}}}return t=t.i.splice(0,n),e.F=t,i}function ei(t){t.g||t.u||(t.ba=1,Mt(t.Ma,t),t.A=0)}function ni(t){return!(t.g||t.u||3<=t.A)&&(t.ba++,t.u=le(w(t.Ma,t),ai(t,t.A)),t.A++,!0)}function ii(t){null!=t.B&&(h.clearTimeout(t.B),t.B=null)}function ri(t){t.g=new we(t,t.j,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=je(t.wa);We(e,"RID","rpc"),We(e,"SID",t.J),We(e,"CI",t.M?"0":"1"),We(e,"AID",t.V),We(e,"TYPE","xmlhttp"),Yn(t,e),t.o&&t.s&&Hn(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.oa,n.L=1,n.v=Ze(je(e)),n.s=null,n.S=!0,Ie(n,t)}function oi(t){null!=t.v&&(h.clearTimeout(t.v),t.v=null)}function si(t,e){var n=null;if(t.g==e){oi(t),ii(t),t.g=null;var i=2}else{if(!mn(t.h,e))return;n=e.F,_n(t.h,e),i=1}if(0!=t.H)if(t.ta=e.aa,e.i)if(1==i){n=e.s?e.s.length:0,e=Date.now()-e.G;var r=t.C;i=ie(),It(i,new ce(i,n)),Jn(t)}else ei(t);else if(r=e.o,3==r||0==r&&0<t.ta||!(1==i&&Xn(t,e)||2==i&&ni(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),r){case 1:ci(t,5);break;case 4:ci(t,10);break;case 3:ci(t,6);break;default:ci(t,2)}}function ai(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.l||(n*=2),n*e}function ci(t,e){if(t.j.info("Error code "+e),2==e){var n=null;t.l&&(n=null);var i=w(t.pb,t);n||(n=new Ve("//www.google.com/images/cleardot.gif"),h.location&&"http"==h.location.protocol||$e(n,"https"),Ze(n)),Tn(n.toString(),i)}else ae(2);t.H=0,t.l&&t.l.za(e),li(t),Gn(t)}function li(t){if(t.H=0,t.pa=[],t.l){const e=vn(t.h);0==e.length&&0==t.i.length||(C(t.pa,e),C(t.pa,t.i),t.h.i.length=0,I(t.i),t.i.length=0),t.l.ya()}}function ui(t,e,n){var i=n instanceof Ve?je(n):new Ve(n,void 0);if(""!=i.g)e&&(i.g=e+"."+i.g),He(i,i.m);else{var r=h.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var o=new Ve(null,void 0);i&&$e(o,i),e&&(o.g=e),r&&He(o,r),n&&(o.l=n),i=o}return n=t.F,e=t.Da,n&&e&&We(i,n,e),We(i,"VER",t.qa),Yn(t,i),i}function hi(t,e,n){if(e&&!t.I)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new Pn(new Sn({ob:!0})):new Pn(t.va),e.Oa(t.I),e}function di(){}function fi(){if(B&&!(10<=Number(Q)))throw Error("Environmental error: no available transport.")}function pi(t,e){xt.call(this),this.g=new Wn(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!L(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!L(e)&&(this.g.F=e,t=this.h,null!==t&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new _i(this)}function mi(t){_e.call(this);var e=t.__sm__;if(e){t:{for(const n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function gi(){ve.call(this),this.status=1}function _i(t){this.g=t}function vi(){this.blockSize=-1}function yi(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function wi(t,e,n){n||(n=0);var i=Array(16);if("string"===typeof e)for(var r=0;16>r;++r)i[r]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(r=0;16>r;++r)i[r]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],r=t.g[2];var o=t.g[3],s=e+(o^n&(r^o))+i[0]+3614090360&4294967295;e=n+(s<<7&4294967295|s>>>25),s=o+(r^e&(n^r))+i[1]+3905402710&4294967295,o=e+(s<<12&4294967295|s>>>20),s=r+(n^o&(e^n))+i[2]+606105819&4294967295,r=o+(s<<17&4294967295|s>>>15),s=n+(e^r&(o^e))+i[3]+3250441966&4294967295,n=r+(s<<22&4294967295|s>>>10),s=e+(o^n&(r^o))+i[4]+4118548399&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(r^e&(n^r))+i[5]+1200080426&4294967295,o=e+(s<<12&4294967295|s>>>20),s=r+(n^o&(e^n))+i[6]+2821735955&4294967295,r=o+(s<<17&4294967295|s>>>15),s=n+(e^r&(o^e))+i[7]+4249261313&4294967295,n=r+(s<<22&4294967295|s>>>10),s=e+(o^n&(r^o))+i[8]+1770035416&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(r^e&(n^r))+i[9]+2336552879&4294967295,o=e+(s<<12&4294967295|s>>>20),s=r+(n^o&(e^n))+i[10]+4294925233&4294967295,r=o+(s<<17&4294967295|s>>>15),s=n+(e^r&(o^e))+i[11]+2304563134&4294967295,n=r+(s<<22&4294967295|s>>>10),s=e+(o^n&(r^o))+i[12]+1804603682&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(r^e&(n^r))+i[13]+4254626195&4294967295,o=e+(s<<12&4294967295|s>>>20),s=r+(n^o&(e^n))+i[14]+2792965006&4294967295,r=o+(s<<17&4294967295|s>>>15),s=n+(e^r&(o^e))+i[15]+1236535329&4294967295,n=r+(s<<22&4294967295|s>>>10),s=e+(r^o&(n^r))+i[1]+4129170786&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^r&(e^n))+i[6]+3225465664&4294967295,o=e+(s<<9&4294967295|s>>>23),s=r+(e^n&(o^e))+i[11]+643717713&4294967295,r=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(r^o))+i[0]+3921069994&4294967295,n=r+(s<<20&4294967295|s>>>12),s=e+(r^o&(n^r))+i[5]+3593408605&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^r&(e^n))+i[10]+38016083&4294967295,o=e+(s<<9&4294967295|s>>>23),s=r+(e^n&(o^e))+i[15]+3634488961&4294967295,r=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(r^o))+i[4]+3889429448&4294967295,n=r+(s<<20&4294967295|s>>>12),s=e+(r^o&(n^r))+i[9]+568446438&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^r&(e^n))+i[14]+3275163606&4294967295,o=e+(s<<9&4294967295|s>>>23),s=r+(e^n&(o^e))+i[3]+4107603335&4294967295,r=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(r^o))+i[8]+1163531501&4294967295,n=r+(s<<20&4294967295|s>>>12),s=e+(r^o&(n^r))+i[13]+2850285829&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^r&(e^n))+i[2]+4243563512&4294967295,o=e+(s<<9&4294967295|s>>>23),s=r+(e^n&(o^e))+i[7]+1735328473&4294967295,r=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(r^o))+i[12]+2368359562&4294967295,n=r+(s<<20&4294967295|s>>>12),s=e+(n^r^o)+i[5]+4294588738&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^r)+i[8]+2272392833&4294967295,o=e+(s<<11&4294967295|s>>>21),s=r+(o^e^n)+i[11]+1839030562&4294967295,r=o+(s<<16&4294967295|s>>>16),s=n+(r^o^e)+i[14]+4259657740&4294967295,n=r+(s<<23&4294967295|s>>>9),s=e+(n^r^o)+i[1]+2763975236&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^r)+i[4]+1272893353&4294967295,o=e+(s<<11&4294967295|s>>>21),s=r+(o^e^n)+i[7]+4139469664&4294967295,r=o+(s<<16&4294967295|s>>>16),s=n+(r^o^e)+i[10]+3200236656&4294967295,n=r+(s<<23&4294967295|s>>>9),s=e+(n^r^o)+i[13]+681279174&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^r)+i[0]+3936430074&4294967295,o=e+(s<<11&4294967295|s>>>21),s=r+(o^e^n)+i[3]+3572445317&4294967295,r=o+(s<<16&4294967295|s>>>16),s=n+(r^o^e)+i[6]+76029189&4294967295,n=r+(s<<23&4294967295|s>>>9),s=e+(n^r^o)+i[9]+3654602809&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^r)+i[12]+3873151461&4294967295,o=e+(s<<11&4294967295|s>>>21),s=r+(o^e^n)+i[15]+530742520&4294967295,r=o+(s<<16&4294967295|s>>>16),s=n+(r^o^e)+i[2]+3299628645&4294967295,n=r+(s<<23&4294967295|s>>>9),s=e+(r^(n|~o))+i[0]+4096336452&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~r))+i[7]+1126891415&4294967295,o=e+(s<<10&4294967295|s>>>22),s=r+(e^(o|~n))+i[14]+2878612391&4294967295,r=o+(s<<15&4294967295|s>>>17),s=n+(o^(r|~e))+i[5]+4237533241&4294967295,n=r+(s<<21&4294967295|s>>>11),s=e+(r^(n|~o))+i[12]+1700485571&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~r))+i[3]+2399980690&4294967295,o=e+(s<<10&4294967295|s>>>22),s=r+(e^(o|~n))+i[10]+4293915773&4294967295,r=o+(s<<15&4294967295|s>>>17),s=n+(o^(r|~e))+i[1]+2240044497&4294967295,n=r+(s<<21&4294967295|s>>>11),s=e+(r^(n|~o))+i[8]+1873313359&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~r))+i[15]+4264355552&4294967295,o=e+(s<<10&4294967295|s>>>22),s=r+(e^(o|~n))+i[6]+2734768916&4294967295,r=o+(s<<15&4294967295|s>>>17),s=n+(o^(r|~e))+i[13]+1309151649&4294967295,n=r+(s<<21&4294967295|s>>>11),s=e+(r^(n|~o))+i[4]+4149444226&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~r))+i[11]+3174756917&4294967295,o=e+(s<<10&4294967295|s>>>22),s=r+(e^(o|~n))+i[2]+718787259&4294967295,r=o+(s<<15&4294967295|s>>>17),s=n+(o^(r|~e))+i[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(r+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+r&4294967295,t.g[3]=t.g[3]+o&4294967295}function bi(t,e){this.h=e;for(var n=[],i=!0,r=t.length-1;0<=r;r--){var o=0|t[r];i&&o==e||(n[r]=o,i=!1)}this.g=n}i=Pn.prototype,i.Oa=function(t){this.M=t},i.ha=function(t,e,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():me.g(),this.C=this.u?fe(this.u):fe(me),this.g.onreadystatechange=w(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){return void Dn(this,o)}if(t=n||"",n=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)n.set(r,i[r]);else{if("function"!==typeof i.keys||"function"!==typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const t of i.keys())n.set(t,i.get(t))}i=Array.from(n.keys()).find((t=>"content-type"==t.toLowerCase())),r=h.FormData&&t instanceof h.FormData,!(0<=x(Nn,e))||i||r||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,a]of n)this.g.setRequestHeader(s,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{zn(this),0<this.B&&((this.L=Mn(this.g))?(this.g.timeout=this.B,this.g.ontimeout=w(this.ua,this)):this.A=jt(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){Dn(this,o)}},i.ua=function(){"undefined"!=typeof u&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,It(this,"timeout"),this.abort(8))},i.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,It(this,"complete"),It(this,"abort"),Bn(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Bn(this,!0)),Pn.$.N.call(this)},i.La=function(){this.s||(this.G||this.v||this.l?Fn(this):this.kb())},i.kb=function(){Fn(this)},i.da=function(){try{return 2<Vn(this)?this.g.status:-1}catch(t){return-1}},i.ja=function(){try{return this.g?this.g.responseText:""}catch(t){return""}},i.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Ln(e)}},i.Ia=function(){return this.m},i.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},i=Wn.prototype,i.qa=8,i.H=1,i.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const r=new we(this,this.j,t,void 0);let o=this.s;if(this.U&&(o?(o=st(o),ct(o,this.U)):o=this.U),null!==this.o||this.O||(r.I=o,o=null),this.P)t:{for(var e=0,n=0;n<this.i.length;n++){var i=this.i[n];if(i="__data__"in i.g&&(i=i.g.__data__,"string"===typeof i)?i.length:void 0,void 0===i)break;if(e+=i,4096<e){e=n;break t}if(4096===e||n===this.i.length-1){e=n+1;break t}}e=1e3}else e=1e3;e=ti(this,r,e),n=je(this.G),We(n,"RID",t),We(n,"CVER",22),this.F&&We(n,"X-HTTP-Session-Id",this.F),Yn(this,n),o&&(this.O?e="headers="+encodeURIComponent(String($n(o)))+"&"+e:this.o&&Hn(n,this.o,o)),gn(this.h,r),this.bb&&We(n,"TYPE","init"),this.P?(We(n,"$req",e),We(n,"SID","null"),r.ba=!0,xe(r,n,null)):xe(r,n,e),this.H=2}}else 3==this.H&&(t?Qn(this,t):0==this.i.length||fn(this.h)||Qn(this))},i.Ma=function(){if(this.u=null,ri(this),this.ca&&!(this.L||null==this.g||0>=this.S)){var t=2*this.S;this.j.info("BP detection timer enabled: "+t),this.B=le(w(this.jb,this),t)}},i.jb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.M=!1,this.L=!0,ae(10),Kn(this),ri(this))},i.ib=function(){null!=this.v&&(this.v=null,Kn(this),ni(this),ae(19))},i.pb=function(t){t?(this.j.info("Successfully pinged google.com"),ae(2)):(this.j.info("Failed to ping google.com"),ae(1))},i=di.prototype,i.Ba=function(){},i.Aa=function(){},i.za=function(){},i.ya=function(){},i.Va=function(){},fi.prototype.g=function(t,e){return new pi(t,e)},T(pi,xt),pi.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.I=!0);var t=this.g,e=this.l,n=this.h||void 0;ae(0),t.Y=e,t.ma=n||{},t.M=t.aa,t.G=ui(t,null,t.Y),Jn(t)},pi.prototype.close=function(){Zn(this.g)},pi.prototype.u=function(t){var e=this.g;if("string"===typeof t){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=kt(t),t=n);e.i.push(new un(e.fb++,t)),3==e.H&&Jn(e)},pi.prototype.N=function(){this.g.l=null,delete this.j,Zn(this.g),delete this.g,pi.$.N.call(this)},T(mi,_e),T(gi,ve),T(_i,di),_i.prototype.Ba=function(){It(this.g,"a")},_i.prototype.Aa=function(t){It(this.g,new mi(t))},_i.prototype.za=function(t){It(this.g,new gi)},_i.prototype.ya=function(){It(this.g,"b")},T(yi,vi),yi.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},yi.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,i=this.m,r=this.h,o=0;o<e;){if(0==r)for(;o<=n;)wi(this,t,o),o+=this.blockSize;if("string"===typeof t){for(;o<e;)if(i[r++]=t.charCodeAt(o++),r==this.blockSize){wi(this,i),r=0;break}}else for(;o<e;)if(i[r++]=t[o++],r==this.blockSize){wi(this,i),r=0;break}}this.h=r,this.i+=e},yi.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var i=0;32>i;i+=8)t[n++]=this.g[e]>>>i&255;return t};var Ti={};function Ei(t){return-128<=t&&128>t?D(Ti,t,(function(t){return new bi([0|t],0>t?-1:0)})):new bi([0|t],0>t?-1:0)}function Si(t){if(isNaN(t)||!isFinite(t))return Ci;if(0>t)return Ri(Si(-t));for(var e=[],n=1,i=0;t>=n;i++)e[i]=t/n|0,n*=Ii;return new bi(e,0)}function xi(t,e){if(0==t.length)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return Ri(xi(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Si(Math.pow(e,8)),i=Ci,r=0;r<t.length;r+=8){var o=Math.min(8,t.length-r),s=parseInt(t.substring(r,r+o),e);8>o?(o=Si(Math.pow(e,o)),i=i.R(o).add(Si(s))):(i=i.R(n),i=i.add(Si(s)))}return i}var Ii=4294967296,Ci=Ei(0),ki=Ei(1),Ai=Ei(16777216);function Li(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function Pi(t){return-1==t.h}function Ri(t){for(var e=t.g.length,n=[],i=0;i<e;i++)n[i]=~t.g[i];return new bi(n,~t.h).add(ki)}function Oi(t,e){return t.add(Ri(e))}function Ni(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Mi(t,e){this.g=t,this.h=e}function Di(t,e){if(Li(e))throw Error("division by zero");if(Li(t))return new Mi(Ci,Ci);if(Pi(t))return e=Di(Ri(t),e),new Mi(Ri(e.g),Ri(e.h));if(Pi(e))return e=Di(t,Ri(e)),new Mi(Ri(e.g),e.h);if(30<t.g.length){if(Pi(t)||Pi(e))throw Error("slowDivide_ only works with positive integers.");for(var n=ki,i=e;0>=i.X(t);)n=Ui(n),i=Ui(i);var r=Fi(n,1),o=Fi(i,1);for(i=Fi(i,2),n=Fi(n,2);!Li(i);){var s=o.add(i);0>=s.X(t)&&(r=r.add(n),o=s),i=Fi(i,1),n=Fi(n,1)}return e=Oi(t,r.R(e)),new Mi(r,e)}for(r=Ci;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),i=Math.ceil(Math.log(n)/Math.LN2),i=48>=i?1:Math.pow(2,i-48),o=Si(n),s=o.R(e);Pi(s)||0<s.X(t);)n-=i,o=Si(n),s=o.R(e);Li(o)&&(o=ki),r=r.add(o),t=Oi(t,s)}return new Mi(r,t)}function Ui(t){for(var e=t.g.length+1,n=[],i=0;i<e;i++)n[i]=t.D(i)<<1|t.D(i-1)>>>31;return new bi(n,t.h)}function Fi(t,e){var n=e>>5;e%=32;for(var i=t.g.length-n,r=[],o=0;o<i;o++)r[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new bi(r,t.h)}i=bi.prototype,i.ea=function(){if(Pi(this))return-Ri(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var i=this.D(n);t+=(0<=i?i:Ii+i)*e,e*=Ii}return t},i.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Li(this))return"0";if(Pi(this))return"-"+Ri(this).toString(t);for(var e=Si(Math.pow(t,6)),n=this,i="";;){var r=Di(n,e).g;n=Oi(n,r.R(e));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=r,Li(n))return o+i;for(;6>o.length;)o="0"+o;i=o+i}},i.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},i.X=function(t){return t=Oi(this,t),Pi(t)?-1:Li(t)?0:1},i.abs=function(){return Pi(this)?Ri(this):this},i.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0,r=0;r<=e;r++){var o=i+(65535&this.D(r))+(65535&t.D(r)),s=(o>>>16)+(this.D(r)>>>16)+(t.D(r)>>>16);i=s>>>16,o&=65535,s&=65535,n[r]=s<<16|o}return new bi(n,-2147483648&n[n.length-1]?-1:0)},i.R=function(t){if(Li(this)||Li(t))return Ci;if(Pi(this))return Pi(t)?Ri(this).R(Ri(t)):Ri(Ri(this).R(t));if(Pi(t))return Ri(this.R(Ri(t)));if(0>this.X(Ai)&&0>t.X(Ai))return Si(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],i=0;i<2*e;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<t.g.length;r++){var o=this.D(i)>>>16,s=65535&this.D(i),a=t.D(r)>>>16,c=65535&t.D(r);n[2*i+2*r]+=s*c,Ni(n,2*i+2*r),n[2*i+2*r+1]+=o*c,Ni(n,2*i+2*r+1),n[2*i+2*r+1]+=s*a,Ni(n,2*i+2*r+1),n[2*i+2*r+2]+=o*a,Ni(n,2*i+2*r+2)}for(i=0;i<e;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=e;i<2*e;i++)n[i]=0;return new bi(n,0)},i.gb=function(t){return Di(this,t).h},i.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)&t.D(i);return new bi(n,this.h&t.h)},i.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)|t.D(i);return new bi(n,this.h|t.h)},i.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)^t.D(i);return new bi(n,this.h^t.h)},fi.prototype.createWebChannel=fi.prototype.g,pi.prototype.send=pi.prototype.u,pi.prototype.open=pi.prototype.m,pi.prototype.close=pi.prototype.close,ue.NO_ERROR=0,ue.TIMEOUT=8,ue.HTTP_ERROR=6,he.COMPLETE="complete",pe.EventType=ge,ge.OPEN="a",ge.CLOSE="b",ge.ERROR="c",ge.MESSAGE="d",xt.prototype.listen=xt.prototype.O,Pn.prototype.listenOnce=Pn.prototype.P,Pn.prototype.getLastError=Pn.prototype.Sa,Pn.prototype.getLastErrorCode=Pn.prototype.Ia,Pn.prototype.getStatus=Pn.prototype.da,Pn.prototype.getResponseJson=Pn.prototype.Wa,Pn.prototype.getResponseText=Pn.prototype.ja,Pn.prototype.send=Pn.prototype.ha,Pn.prototype.setWithCredentials=Pn.prototype.Oa,yi.prototype.digest=yi.prototype.l,yi.prototype.reset=yi.prototype.reset,yi.prototype.update=yi.prototype.j,bi.prototype.add=bi.prototype.add,bi.prototype.multiply=bi.prototype.R,bi.prototype.modulo=bi.prototype.gb,bi.prototype.compare=bi.prototype.X,bi.prototype.toNumber=bi.prototype.ea,bi.prototype.toString=bi.prototype.toString,bi.prototype.getBits=bi.prototype.D,bi.fromNumber=Si,bi.fromString=xi;var Bi=l.createWebChannelTransport=function(){return new fi},zi=l.getStatEventTarget=function(){return ie()},Vi=l.ErrorCode=ue,ji=l.EventType=he,$i=l.Event=ee,Hi=l.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},qi=l.FetchXmlHttpFactory=Sn,Wi=l.WebChannel=pe,Zi=l.XhrIo=Pn,Ki=l.Md5=yi,Gi=l.Integer=bi;const Ji="@firebase/firestore";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Xi.UNAUTHENTICATED=new Xi(null),Xi.GOOGLE_CREDENTIALS=new Xi("google-credentials-uid"),Xi.FIRST_PARTY=new Xi("first-party-uid"),Xi.MOCK_USER=new Xi("mock-user");
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
let Qi="9.21.0";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yi=new s.Yd("@firebase/firestore");function tr(){return Yi.logLevel}function er(t,...e){if(Yi.logLevel<=s["in"].DEBUG){const n=e.map(rr);Yi.debug(`Firestore (${Qi}): ${t}`,...n)}}function nr(t,...e){if(Yi.logLevel<=s["in"].ERROR){const n=e.map(rr);Yi.error(`Firestore (${Qi}): ${t}`,...n)}}function ir(t,...e){if(Yi.logLevel<=s["in"].WARN){const n=e.map(rr);Yi.warn(`Firestore (${Qi}): ${t}`,...n)}}function rr(t){if("string"==typeof t)return t;try{return e=t,JSON.stringify(e)}catch(e){return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function or(t="Unexpected state"){const e=`FIRESTORE (${Qi}) INTERNAL ASSERTION FAILED: `+t;throw nr(e),new Error(e)}function sr(t,e){t||or()}function ar(t,e){return t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cr={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class lr extends a.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class dr{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(Xi.UNAUTHENTICATED)))}shutdown(){}}class fr{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class pr{constructor(t){this.t=t,this.currentUser=Xi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){let n=this.i;const i=t=>this.i!==n?(n=this.i,e(t)):Promise.resolve();let r=new ur;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new ur,t.enqueueRetryable((()=>i(this.currentUser)))};const o=()=>{const e=r;t.enqueueRetryable((async()=>{await e.promise,await i(this.currentUser)}))},s=t=>{er("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=t,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit((t=>s(t))),setTimeout((()=>{if(!this.auth){const t=this.t.getImmediate({optional:!0});t?s(t):(er("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new ur)}}),0),o()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((e=>this.i!==t?(er("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):e?(sr("string"==typeof e.accessToken),new hr(e.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return sr(null===t||"string"==typeof t),new Xi(t)}}class mr{constructor(t,e,n){this.h=t,this.l=e,this.m=n,this.type="FirstParty",this.user=Xi.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const t=this.p();return t&&this.g.set("Authorization",t),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class gr{constructor(t,e,n){this.h=t,this.l=e,this.m=n}getToken(){return Promise.resolve(new mr(this.h,this.l,this.m))}start(t,e){t.enqueueRetryable((()=>e(Xi.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class _r{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class vr{constructor(t){this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(t,e){const n=t=>{null!=t.error&&er("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${t.error.message}`);const n=t.token!==this.T;return this.T=t.token,er("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?e(t.token):Promise.resolve()};this.o=e=>{t.enqueueRetryable((()=>n(e)))};const i=t=>{er("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=t,this.appCheck.addTokenListener(this.o)};this.I.onInit((t=>i(t))),setTimeout((()=>{if(!this.appCheck){const t=this.I.getImmediate({optional:!0});t?i(t):er("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((t=>t?(sr("string"==typeof t.token),this.T=t.token,new _r(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function yr(t){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{static A(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let n="";for(;n.length<20;){const i=yr(40);for(let r=0;r<i.length;++r)n.length<20&&i[r]<e&&(n+=t.charAt(i[r]%t.length))}return n}}function br(t,e){return t<e?-1:t>e?1:0}function Tr(t,e,n){return t.length===e.length&&t.every(((t,i)=>n(t,e[i])))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Er{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new lr(cr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new lr(cr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new lr(cr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new lr(cr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Er.fromMillis(Date.now())}static fromDate(t){return Er.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),n=Math.floor(1e6*(t-1e3*e));return new Er(e,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?br(this.nanoseconds,t.nanoseconds):br(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Sr(t)}static min(){return new Sr(new Er(0,0))}static max(){return new Sr(new Er(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(t,e,n){void 0===e?e=0:e>t.length&&or(),void 0===n?n=t.length-e:n>t.length-e&&or(),this.segments=t,this.offset=e,this.len=n}get length(){return this.len}isEqual(t){return 0===xr.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof xr?t.forEach((t=>{e.push(t)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=void 0===t?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const n=t.get(i),r=e.get(i);if(n<r)return-1;if(n>r)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class Ir extends xr{construct(t,e,n){return new Ir(t,e,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const n of t){if(n.indexOf("//")>=0)throw new lr(cr.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);e.push(...n.split("/").filter((t=>t.length>0)))}return new Ir(e)}static emptyPath(){return new Ir([])}}const Cr=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class kr extends xr{construct(t,e,n){return new kr(t,e,n)}static isValidIdentifier(t){return Cr.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),kr.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new kr(["__name__"])}static fromServerFormat(t){const e=[];let n="",i=0;const r=()=>{if(0===n.length)throw new lr(cr.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(n),n=""};let o=!1;for(;i<t.length;){const e=t[i];if("\\"===e){if(i+1===t.length)throw new lr(cr.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const e=t[i+1];if("\\"!==e&&"."!==e&&"`"!==e)throw new lr(cr.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=e,i+=2}else"`"===e?(o=!o,i++):"."!==e||o?(n+=e,i++):(r(),i++)}if(r(),o)throw new lr(cr.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new kr(e)}static emptyPath(){return new kr([])}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(t){this.path=t}static fromPath(t){return new Ar(Ir.fromString(t))}static fromName(t){return new Ar(Ir.fromString(t).popFirst(5))}static empty(){return new Ar(Ir.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===Ir.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return Ir.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Ar(new Ir(t.slice()))}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(t,e,n,i){this.indexId=t,this.collectionGroup=e,this.fields=n,this.indexState=i}}Lr.UNKNOWN_ID=-1;function Pr(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=Sr.fromTimestamp(1e9===i?new Er(n+1,0):new Er(n,i));return new Or(r,Ar.empty(),e)}function Rr(t){return new Or(t.readTime,t.key,-1)}class Or{constructor(t,e,n){this.readTime=t,this.documentKey=e,this.largestBatchId=n}static min(){return new Or(Sr.min(),Ar.empty(),-1)}static max(){return new Or(Sr.max(),Ar.empty(),-1)}}function Nr(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=Ar.comparator(t.documentKey,e.documentKey),0!==n?n:br(t.largestBatchId,e.largestBatchId))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mr="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Dr{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ur(t){if(t.code!==cr.FAILED_PRECONDITION||t.message!==Mr)throw t;er("LocalStore","Unexpectedly lost primary lease")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&or(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new Fr(((n,i)=>{this.nextCallback=e=>{this.wrapSuccess(t,e).next(n,i)},this.catchCallback=t=>{this.wrapFailure(e,t).next(n,i)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof Fr?e:Fr.resolve(e)}catch(t){return Fr.reject(t)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):Fr.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):Fr.reject(e)}static resolve(t){return new Fr(((e,n)=>{e(t)}))}static reject(t){return new Fr(((e,n)=>{n(t)}))}static waitFor(t){return new Fr(((e,n)=>{let i=0,r=0,o=!1;t.forEach((t=>{++i,t.next((()=>{++r,o&&r===i&&e()}),(t=>n(t)))})),o=!0,r===i&&e()}))}static or(t){let e=Fr.resolve(!1);for(const n of t)e=e.next((t=>t?Fr.resolve(t):n()));return e}static forEach(t,e){const n=[];return t.forEach(((t,i)=>{n.push(e.call(this,t,i))})),this.waitFor(n)}static mapArray(t,e){return new Fr(((n,i)=>{const r=t.length,o=new Array(r);let s=0;for(let a=0;a<r;a++){const c=a;e(t[c]).next((t=>{o[c]=t,++s,s===r&&n(o)}),(t=>i(t)))}}))}static doWhile(t,e){return new Fr(((n,i)=>{const r=()=>{!0===t()?e().next((()=>{r()}),i):n()};r()}))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Br(t){return"IndexedDbTransactionError"===t.name}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class zr{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=t=>this.ot(t),this.ut=t=>e.writeSequenceNumber(t))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}function Vr(t){return null==t}function jr(t){return 0===t&&1/t==-1/0}function $r(t){return"number"==typeof t&&Number.isInteger(t)&&!jr(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zr.ct=-1;const Hr=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],qr=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Wr=qr;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Zr(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Kr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Gr(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(t,e){this.comparator=t,this.root=e||Qr.EMPTY}insert(t,e){return new Jr(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Qr.BLACK,null,null))}remove(t){return new Jr(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Qr.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null}indexOf(t){let e=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(0===i)return e+n.left.size;i<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,n)=>(t(e,n),!1)))}toString(){const t=[];return this.inorderTraversal(((e,n)=>(t.push(`${e}:${n}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Xr(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Xr(this.root,t,this.comparator,!1)}getReverseIterator(){return new Xr(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Xr(this.root,t,this.comparator,!0)}}class Xr{constructor(t,e,n,i){this.isReverse=i,this.nodeStack=[];let r=1;for(;!t.isEmpty();)if(r=e?n(t.key,e):1,e&&i&&(r*=-1),r<0)t=this.isReverse?t.left:t.right;else{if(0===r){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Qr{constructor(t,e,n,i,r){this.key=t,this.value=e,this.color=null!=n?n:Qr.RED,this.left=null!=i?i:Qr.EMPTY,this.right=null!=r?r:Qr.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,n,i,r){return new Qr(null!=t?t:this.key,null!=e?e:this.value,null!=n?n:this.color,null!=i?i:this.left,null!=r?r:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,n){let i=this;const r=n(t,i.key);return i=r<0?i.copy(null,null,null,i.left.insert(t,e,n),null):0===r?i.copy(null,e,null,null,null):i.copy(null,null,null,null,i.right.insert(t,e,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Qr.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let n,i=this;if(e(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,e),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===e(t,i.key)){if(i.right.isEmpty())return Qr.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,e))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Qr.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Qr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw or();if(this.right.isRed())throw or();const t=this.left.check();if(t!==this.right.check())throw or();return t+(this.isRed()?0:1)}}Qr.EMPTY=null,Qr.RED=!0,Qr.BLACK=!1,Qr.EMPTY=new class{constructor(){this.size=0}get key(){throw or()}get value(){throw or()}get color(){throw or()}get left(){throw or()}get right(){throw or()}copy(t,e,n,i,r){return this}insert(t,e,n){return new Qr(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Yr{constructor(t){this.comparator=t,this.data=new Jr(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,n)=>(t(e),!1)))}forEachInRange(t,e){const n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,t[1])>=0)return;e(i.key)}}forEachWhile(t,e){let n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new to(this.data.getIterator())}getIteratorFrom(t){return new to(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((t=>{e=e.add(t)})),e}isEqual(t){if(!(t instanceof Yr))return!1;if(this.size!==t.size)return!1;const e=this.data.getIterator(),n=t.data.getIterator();for(;e.hasNext();){const t=e.getNext().key,i=n.getNext().key;if(0!==this.comparator(t,i))return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new Yr(this.comparator);return e.data=t,e}}class to{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class eo{constructor(t){this.fields=t,t.sort(kr.comparator)}static empty(){return new eo([])}unionWith(t){let e=new Yr(kr.comparator);for(const n of this.fields)e=e.add(n);for(const n of t)e=e.add(n);return new eo(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Tr(this.fields,t.fields,((t,e)=>t.isEqual(e)))}}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class io{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(t){try{return atob(t)}catch(t){throw"undefined"!=typeof DOMException&&t instanceof DOMException?new no("Invalid base64 string: "+t):t}}(t);return new io(e)}static fromUint8Array(t){const e=function(t){let e="";for(let n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(t);return new io(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return t=this.binaryString,btoa(t);var t}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return br(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}io.EMPTY_BYTE_STRING=new io("");const ro=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function oo(t){if(sr(!!t),"string"==typeof t){let e=0;const n=ro.exec(t);if(sr(!!n),n[1]){let t=n[1];t=(t+"000000000").substr(0,9),e=Number(t)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:so(t.seconds),nanos:so(t.nanos)}}function so(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function ao(t){return"string"==typeof t?io.fromBase64String(t):io.fromUint8Array(t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function co(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function lo(t){const e=t.mapValue.fields.__previous_value__;return co(e)?lo(e):e}function uo(t){const e=oo(t.mapValue.fields.__local_write_time__.timestampValue);return new Er(e.seconds,e.nanos)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(t,e,n,i,r,o,s,a){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=i,this.ssl=r,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=a}}class fo{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new fo("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof fo&&t.projectId===this.projectId&&t.database===this.database}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const po={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function mo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?co(t)?4:Ao(t)?9007199254740991:10:or()}function go(t,e){if(t===e)return!0;const n=mo(t);if(n!==mo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return uo(t).isEqual(uo(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;const n=oo(t.timestampValue),i=oo(e.timestampValue);return n.seconds===i.seconds&&n.nanos===i.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return ao(t.bytesValue).isEqual(ao(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return so(t.geoPointValue.latitude)===so(e.geoPointValue.latitude)&&so(t.geoPointValue.longitude)===so(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return so(t.integerValue)===so(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){const n=so(t.doubleValue),i=so(e.doubleValue);return n===i?jr(n)===jr(i):isNaN(n)&&isNaN(i)}return!1}(t,e);case 9:return Tr(t.arrayValue.values||[],e.arrayValue.values||[],go);case 10:return function(t,e){const n=t.mapValue.fields||{},i=e.mapValue.fields||{};if(Zr(n)!==Zr(i))return!1;for(const r in n)if(n.hasOwnProperty(r)&&(void 0===i[r]||!go(n[r],i[r])))return!1;return!0}(t,e);default:return or()}}function _o(t,e){return void 0!==(t.values||[]).find((t=>go(t,e)))}function vo(t,e){if(t===e)return 0;const n=mo(t),i=mo(e);if(n!==i)return br(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return br(t.booleanValue,e.booleanValue);case 2:return function(t,e){const n=so(t.integerValue||t.doubleValue),i=so(e.integerValue||e.doubleValue);return n<i?-1:n>i?1:n===i?0:isNaN(n)?isNaN(i)?0:-1:1}(t,e);case 3:return yo(t.timestampValue,e.timestampValue);case 4:return yo(uo(t),uo(e));case 5:return br(t.stringValue,e.stringValue);case 6:return function(t,e){const n=ao(t),i=ao(e);return n.compareTo(i)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){const n=t.split("/"),i=e.split("/");for(let r=0;r<n.length&&r<i.length;r++){const t=br(n[r],i[r]);if(0!==t)return t}return br(n.length,i.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){const n=br(so(t.latitude),so(e.latitude));return 0!==n?n:br(so(t.longitude),so(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){const n=t.values||[],i=e.values||[];for(let r=0;r<n.length&&r<i.length;++r){const t=vo(n[r],i[r]);if(t)return t}return br(n.length,i.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){if(t===po.mapValue&&e===po.mapValue)return 0;if(t===po.mapValue)return 1;if(e===po.mapValue)return-1;const n=t.fields||{},i=Object.keys(n),r=e.fields||{},o=Object.keys(r);i.sort(),o.sort();for(let s=0;s<i.length&&s<o.length;++s){const t=br(i[s],o[s]);if(0!==t)return t;const e=vo(n[i[s]],r[o[s]]);if(0!==e)return e}return br(i.length,o.length)}(t.mapValue,e.mapValue);default:throw or()}}function yo(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return br(t,e);const n=oo(t),i=oo(e),r=br(n.seconds,i.seconds);return 0!==r?r:br(n.nanos,i.nanos)}function wo(t){return bo(t)}function bo(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){const e=oo(t);return`time(${e.seconds},${e.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?ao(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,Ar.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(t){let e="[",n=!0;for(const i of t.values||[])n?n=!1:e+=",",e+=bo(i);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){const e=Object.keys(t.fields||{}).sort();let n="{",i=!0;for(const r of e)i?i=!1:n+=",",n+=`${r}:${bo(t.fields[r])}`;return n+"}"}(t.mapValue):or();var e,n}function To(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Eo(t){return!!t&&"integerValue"in t}function So(t){return!!t&&"arrayValue"in t}function xo(t){return!!t&&"nullValue"in t}function Io(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Co(t){return!!t&&"mapValue"in t}function ko(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Kr(t.mapValue.fields,((t,n)=>e.mapValue.fields[t]=ko(n))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ko(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Ao(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Lo{constructor(t){this.value=t}static empty(){return new Lo({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let n=0;n<t.length-1;++n)if(e=(e.mapValue.fields||{})[t.get(n)],!Co(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=ko(e)}setAll(t){let e=kr.emptyPath(),n={},i=[];t.forEach(((t,r)=>{if(!e.isImmediateParentOf(r)){const t=this.getFieldsMap(e);this.applyChanges(t,n,i),n={},i=[],e=r.popLast()}t?n[r.lastSegment()]=ko(t):i.push(r.lastSegment())}));const r=this.getFieldsMap(e);this.applyChanges(r,n,i)}delete(t){const e=this.field(t.popLast());Co(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return go(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let n=0;n<t.length;++n){let i=e.mapValue.fields[t.get(n)];Co(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=i),e=i}return e.mapValue.fields}applyChanges(t,e,n){Kr(e,((e,n)=>t[e]=n));for(const i of n)delete t[i]}clone(){return new Lo(ko(this.value))}}function Po(t){const e=[];return Kr(t.fields,((t,n)=>{const i=new kr([t]);if(Co(n)){const t=Po(n.mapValue).fields;if(0===t.length)e.push(i);else for(const n of t)e.push(i.child(n))}else e.push(i)})),new eo(e)
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class Ro{constructor(t,e,n,i,r,o,s){this.key=t,this.documentType=e,this.version=n,this.readTime=i,this.createTime=r,this.data=o,this.documentState=s}static newInvalidDocument(t){return new Ro(t,0,Sr.min(),Sr.min(),Sr.min(),Lo.empty(),0)}static newFoundDocument(t,e,n,i){return new Ro(t,1,e,Sr.min(),n,i,0)}static newNoDocument(t,e){return new Ro(t,2,e,Sr.min(),Sr.min(),Lo.empty(),0)}static newUnknownDocument(t,e){return new Ro(t,3,e,Sr.min(),Sr.min(),Lo.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Sr.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Lo.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Lo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Sr.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof Ro&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ro(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(t,e){this.position=t,this.inclusive=e}}function No(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){const o=e[r],s=t.position[r];if(i=o.field.isKeyField()?Ar.comparator(Ar.fromName(s.referenceValue),n.key):vo(s,n.data.field(o.field)),"desc"===o.dir&&(i*=-1),0!==i)break}return i}function Mo(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!go(t.position[n],e.position[n]))return!1;return!0}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(t,e="asc"){this.field=t,this.dir=e}}function Uo(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{}class Bo extends Fo{constructor(t,e,n){super(),this.field=t,this.op=e,this.value=n}static create(t,e,n){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,n):new Zo(t,e,n):"array-contains"===e?new Xo(t,n):"in"===e?new Qo(t,n):"not-in"===e?new Yo(t,n):"array-contains-any"===e?new ts(t,n):new Bo(t,e,n)}static createKeyFieldInFilter(t,e,n){return"in"===e?new Ko(t,n):new Go(t,n)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.matchesComparison(vo(e,this.value)):null!==e&&mo(this.value)===mo(e)&&this.matchesComparison(vo(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return or()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class zo extends Fo{constructor(t,e){super(),this.filters=t,this.op=e,this.ht=null}static create(t,e){return new zo(t,e)}matches(t){return Vo(this)?void 0===this.filters.find((e=>!e.matches(t))):void 0!==this.filters.find((e=>e.matches(t)))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const t=this.lt((t=>t.isInequality()));return null!==t?t.field:null}lt(t){for(const e of this.getFlattenedFilters())if(t(e))return e;return null}}function Vo(t){return"and"===t.op}function jo(t){return $o(t)&&Vo(t)}function $o(t){for(const e of t.filters)if(e instanceof zo)return!1;return!0}function Ho(t){if(t instanceof Bo)return t.field.canonicalString()+t.op.toString()+wo(t.value);if(jo(t))return t.filters.map((t=>Ho(t))).join(",");{const e=t.filters.map((t=>Ho(t))).join(",");return`${t.op}(${e})`}}function qo(t,e){return t instanceof Bo?function(t,e){return e instanceof Bo&&t.op===e.op&&t.field.isEqual(e.field)&&go(t.value,e.value)}(t,e):t instanceof zo?function(t,e){return e instanceof zo&&t.op===e.op&&t.filters.length===e.filters.length&&t.filters.reduce(((t,n,i)=>t&&qo(n,e.filters[i])),!0)}(t,e):void or()}function Wo(t){return t instanceof Bo?function(t){return`${t.field.canonicalString()} ${t.op} ${wo(t.value)}`}(t):t instanceof zo?function(t){return t.op.toString()+" {"+t.getFilters().map(Wo).join(" ,")+"}"}(t):"Filter"}class Zo extends Bo{constructor(t,e,n){super(t,e,n),this.key=Ar.fromName(n.referenceValue)}matches(t){const e=Ar.comparator(t.key,this.key);return this.matchesComparison(e)}}class Ko extends Bo{constructor(t,e){super(t,"in",e),this.keys=Jo("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class Go extends Bo{constructor(t,e){super(t,"not-in",e),this.keys=Jo("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function Jo(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((t=>Ar.fromName(t.referenceValue)))}class Xo extends Bo{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return So(e)&&_o(e.arrayValue,this.value)}}class Qo extends Bo{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&_o(this.value.arrayValue,e)}}class Yo extends Bo{constructor(t,e){super(t,"not-in",e)}matches(t){if(_o(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!_o(this.value.arrayValue,e)}}class ts extends Bo{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!So(e)||!e.arrayValue.values)&&e.arrayValue.values.some((t=>_o(this.value.arrayValue,t)))}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(t,e=null,n=[],i=[],r=null,o=null,s=null){this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=i,this.limit=r,this.startAt=o,this.endAt=s,this.ft=null}}function ns(t,e=null,n=[],i=[],r=null,o=null,s=null){return new es(t,e,n,i,r,o,s)}function is(t){const e=ar(t);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((t=>Ho(t))).join(","),t+="|ob:",t+=e.orderBy.map((t=>function(t){return t.field.canonicalString()+t.dir}(t))).join(","),Vr(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((t=>wo(t))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((t=>wo(t))).join(",")),e.ft=t}return e.ft}function rs(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Uo(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!qo(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Mo(t.startAt,e.startAt)&&Mo(t.endAt,e.endAt)}function os(t){return Ar.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class ss{constructor(t,e=null,n=[],i=[],r=null,o="F",s=null,a=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=i,this.limit=r,this.limitType=o,this.startAt=s,this.endAt=a,this.dt=null,this._t=null,this.startAt,this.endAt}}function as(t,e,n,i,r,o,s,a){return new ss(t,e,n,i,r,o,s,a)}function cs(t){return new ss(t)}function ls(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function us(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function hs(t){for(const e of t.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function ds(t){return null!==t.collectionGroup}function fs(t){const e=ar(t);if(null===e.dt){e.dt=[];const t=hs(e),n=us(e);if(null!==t&&null===n)t.isKeyField()||e.dt.push(new Do(t)),e.dt.push(new Do(kr.keyField(),"asc"));else{let t=!1;for(const n of e.explicitOrderBy)e.dt.push(n),n.field.isKeyField()&&(t=!0);if(!t){const t=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new Do(kr.keyField(),t))}}}return e.dt}function ps(t){const e=ar(t);if(!e._t)if("F"===e.limitType)e._t=ns(e.path,e.collectionGroup,fs(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const r of fs(e)){const e="desc"===r.dir?"asc":"desc";t.push(new Do(r.field,e))}const n=e.endAt?new Oo(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Oo(e.startAt.position,e.startAt.inclusive):null;e._t=ns(e.path,e.collectionGroup,t,e.filters,e.limit,n,i)}return e._t}function ms(t,e){e.getFirstInequalityField(),hs(t);const n=t.filters.concat([e]);return new ss(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function gs(t,e,n){return new ss(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function _s(t,e){return rs(ps(t),ps(e))&&t.limitType===e.limitType}function vs(t){return`${is(ps(t))}|lt:${t.limitType}`}function ys(t){return`Query(target=${function(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map((t=>Wo(t))).join(", ")}]`),Vr(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map((t=>function(t){return`${t.field.canonicalString()} (${t.dir})`}(t))).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((t=>wo(t))).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((t=>wo(t))).join(",")),`Target(${e})`}(ps(t))}; limitType=${t.limitType})`}function ws(t,e){return e.isFoundDocument()&&function(t,e){const n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):Ar.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(const n of fs(t))if(!n.field.isKeyField()&&null===e.data.field(n.field))return!1;return!0}(t,e)&&function(t,e){for(const n of t.filters)if(!n.matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!function(t,e,n){const i=No(t,e,n);return t.inclusive?i<=0:i<0}(t.startAt,fs(t),e))&&!(t.endAt&&!function(t,e,n){const i=No(t,e,n);return t.inclusive?i>=0:i>0}(t.endAt,fs(t),e))}(t,e)}function bs(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Ts(t){return(e,n)=>{let i=!1;for(const r of fs(t)){const t=Es(r,e,n);if(0!==t)return t;i=i||r.field.isKeyField()}return 0}}function Es(t,e,n){const i=t.field.isKeyField()?Ar.comparator(e.key,n.key):function(t,e,n){const i=e.data.field(t),r=n.data.field(t);return null!==i&&null!==r?vo(i,r):or()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return or()}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(const[i,r]of n)if(this.equalsFn(i,t))return r}has(t){return void 0!==this.get(t)}set(t,e){const n=this.mapKeyFn(t),i=this.inner[n];if(void 0===i)return this.inner[n]=[[t,e]],void this.innerSize++;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return void(i[r]=[t,e]);i.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],t))return 1===n.length?delete this.inner[e]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(t){Kr(this.inner,((e,n)=>{for(const[i,r]of n)t(i,r)}))}isEmpty(){return Gr(this.inner)}size(){return this.innerSize}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs=new Jr(Ar.comparator);function Is(){return xs}const Cs=new Jr(Ar.comparator);function ks(...t){let e=Cs;for(const n of t)e=e.insert(n.key,n);return e}function As(t){let e=Cs;return t.forEach(((t,n)=>e=e.insert(t,n.overlayedDocument))),e}function Ls(){return Rs()}function Ps(){return Rs()}function Rs(){return new Ss((t=>t.toString()),((t,e)=>t.isEqual(e)))}const Os=new Jr(Ar.comparator),Ns=new Yr(Ar.comparator);function Ms(...t){let e=Ns;for(const n of t)e=e.add(n);return e}const Ds=new Yr(br);function Us(){return Ds}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fs(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jr(e)?"-0":e}}function Bs(t){return{integerValue:""+t}}function zs(t,e){return $r(e)?Bs(e):Fs(t,e)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(){this._=void 0}}function js(t,e,n){return t instanceof qs?function(t,e){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&co(e)&&(e=lo(e)),e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Ws?Zs(t,e):t instanceof Ks?Gs(t,e):function(t,e){const n=Hs(t,e),i=Xs(n)+Xs(t.wt);return Eo(n)&&Eo(t.wt)?Bs(i):Fs(t.serializer,i)}(t,e)}function $s(t,e,n){return t instanceof Ws?Zs(t,e):t instanceof Ks?Gs(t,e):n}function Hs(t,e){return t instanceof Js?Eo(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}class qs extends Vs{}class Ws extends Vs{constructor(t){super(),this.elements=t}}function Zs(t,e){const n=Qs(e);for(const i of t.elements)n.some((t=>go(t,i)))||n.push(i);return{arrayValue:{values:n}}}class Ks extends Vs{constructor(t){super(),this.elements=t}}function Gs(t,e){let n=Qs(e);for(const i of t.elements)n=n.filter((t=>!go(t,i)));return{arrayValue:{values:n}}}class Js extends Vs{constructor(t,e){super(),this.serializer=t,this.wt=e}}function Xs(t){return so(t.integerValue||t.doubleValue)}function Qs(t){return So(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ys(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Ws&&e instanceof Ws||t instanceof Ks&&e instanceof Ks?Tr(t.elements,e.elements,go):t instanceof Js&&e instanceof Js?go(t.wt,e.wt):t instanceof qs&&e instanceof qs}(t.transform,e.transform)}class ta{constructor(t,e){this.version=t,this.transformResults=e}}class ea{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new ea}static exists(t){return new ea(void 0,t)}static updateTime(t){return new ea(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function na(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class ia{}function ra(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new pa(t.key,ea.none()):new la(t.key,t.data,ea.none());{const n=t.data,i=Lo.empty();let r=new Yr(kr.comparator);for(let t of e.fields)if(!r.has(t)){let e=n.field(t);null===e&&t.length>1&&(t=t.popLast(),e=n.field(t)),null===e?i.delete(t):i.set(t,e),r=r.add(t)}return new ua(t.key,i,new eo(r.toArray()),ea.none())}}function oa(t,e,n){t instanceof la?function(t,e,n){const i=t.value.clone(),r=da(t.fieldTransforms,e,n.transformResults);i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(t,e,n):t instanceof ua?function(t,e,n){if(!na(t.precondition,e))return void e.convertToUnknownDocument(n.version);const i=da(t.fieldTransforms,e,n.transformResults),r=e.data;r.setAll(ha(t)),r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function sa(t,e,n,i){return t instanceof la?function(t,e,n,i){if(!na(t.precondition,e))return n;const r=t.value.clone(),o=fa(t.fieldTransforms,i,e);return r.setAll(o),e.convertToFoundDocument(e.version,r).setHasLocalMutations(),null}(t,e,n,i):t instanceof ua?function(t,e,n,i){if(!na(t.precondition,e))return n;const r=fa(t.fieldTransforms,i,e),o=e.data;return o.setAll(ha(t)),o.setAll(r),e.convertToFoundDocument(e.version,o).setHasLocalMutations(),null===n?null:n.unionWith(t.fieldMask.fields).unionWith(t.fieldTransforms.map((t=>t.field)))}(t,e,n,i):function(t,e,n){return na(t.precondition,e)?(e.convertToNoDocument(e.version).setHasLocalMutations(),null):n}(t,e,n)}function aa(t,e){let n=null;for(const i of t.fieldTransforms){const t=e.data.field(i.field),r=Hs(i.transform,t||null);null!=r&&(null===n&&(n=Lo.empty()),n.set(i.field,r))}return n||null}function ca(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&Tr(t,e,((t,e)=>Ys(t,e)))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class la extends ia{constructor(t,e,n,i=[]){super(),this.key=t,this.value=e,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ua extends ia{constructor(t,e,n,i,r=[]){super(),this.key=t,this.data=e,this.fieldMask=n,this.precondition=i,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}}function ha(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}})),e}function da(t,e,n){const i=new Map;sr(t.length===n.length);for(let r=0;r<n.length;r++){const o=t[r],s=o.transform,a=e.data.field(o.field);i.set(o.field,$s(s,a,n[r]))}return i}function fa(t,e,n){const i=new Map;for(const r of t){const t=r.transform,o=n.data.field(r.field);i.set(r.field,js(t,o,e))}return i}class pa extends ia{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ma extends ia{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(t,e,n,i){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(t,e){const n=e.mutationResults;for(let i=0;i<this.mutations.length;i++){const e=this.mutations[i];e.key.isEqual(t.key)&&oa(e,t,n[i])}}applyToLocalView(t,e){for(const n of this.baseMutations)n.key.isEqual(t.key)&&(e=sa(n,t,e,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(t.key)&&(e=sa(n,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const n=Ps();return this.mutations.forEach((i=>{const r=t.get(i.key),o=r.overlayedDocument;let s=this.applyToLocalView(o,r.mutatedFields);s=e.has(i.key)?null:s;const a=ra(o,s);null!==a&&n.set(i.key,a),o.isValidDocument()||o.convertToNoDocument(Sr.min())})),n}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),Ms())}isEqual(t){return this.batchId===t.batchId&&Tr(this.mutations,t.mutations,((t,e)=>ca(t,e)))&&Tr(this.baseMutations,t.baseMutations,((t,e)=>ca(t,e)))}}class _a{constructor(t,e,n,i){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=i}static from(t,e,n){sr(t.mutations.length===n.length);let i=Os;const r=t.mutations;for(let o=0;o<r.length;o++)i=i.insert(r[o].key,n[o].version);return new _a(t,e,n,i)}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class ya{constructor(t,e){this.count=t,this.unchangedNames=e}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wa,ba;function Ta(t){switch(t){default:return or();case cr.CANCELLED:case cr.UNKNOWN:case cr.DEADLINE_EXCEEDED:case cr.RESOURCE_EXHAUSTED:case cr.INTERNAL:case cr.UNAVAILABLE:case cr.UNAUTHENTICATED:return!1;case cr.INVALID_ARGUMENT:case cr.NOT_FOUND:case cr.ALREADY_EXISTS:case cr.PERMISSION_DENIED:case cr.FAILED_PRECONDITION:case cr.ABORTED:case cr.OUT_OF_RANGE:case cr.UNIMPLEMENTED:case cr.DATA_LOSS:return!0}}function Ea(t){if(void 0===t)return nr("GRPC error has no .code"),cr.UNKNOWN;switch(t){case wa.OK:return cr.OK;case wa.CANCELLED:return cr.CANCELLED;case wa.UNKNOWN:return cr.UNKNOWN;case wa.DEADLINE_EXCEEDED:return cr.DEADLINE_EXCEEDED;case wa.RESOURCE_EXHAUSTED:return cr.RESOURCE_EXHAUSTED;case wa.INTERNAL:return cr.INTERNAL;case wa.UNAVAILABLE:return cr.UNAVAILABLE;case wa.UNAUTHENTICATED:return cr.UNAUTHENTICATED;case wa.INVALID_ARGUMENT:return cr.INVALID_ARGUMENT;case wa.NOT_FOUND:return cr.NOT_FOUND;case wa.ALREADY_EXISTS:return cr.ALREADY_EXISTS;case wa.PERMISSION_DENIED:return cr.PERMISSION_DENIED;case wa.FAILED_PRECONDITION:return cr.FAILED_PRECONDITION;case wa.ABORTED:return cr.ABORTED;case wa.OUT_OF_RANGE:return cr.OUT_OF_RANGE;case wa.UNIMPLEMENTED:return cr.UNIMPLEMENTED;case wa.DATA_LOSS:return cr.DATA_LOSS;default:return or()}}(ba=wa||(wa={}))[ba.OK=0]="OK",ba[ba.CANCELLED=1]="CANCELLED",ba[ba.UNKNOWN=2]="UNKNOWN",ba[ba.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ba[ba.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ba[ba.NOT_FOUND=5]="NOT_FOUND",ba[ba.ALREADY_EXISTS=6]="ALREADY_EXISTS",ba[ba.PERMISSION_DENIED=7]="PERMISSION_DENIED",ba[ba.UNAUTHENTICATED=16]="UNAUTHENTICATED",ba[ba.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ba[ba.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ba[ba.ABORTED=10]="ABORTED",ba[ba.OUT_OF_RANGE=11]="OUT_OF_RANGE",ba[ba.UNIMPLEMENTED=12]="UNIMPLEMENTED",ba[ba.INTERNAL=13]="INTERNAL",ba[ba.UNAVAILABLE=14]="UNAVAILABLE",ba[ba.DATA_LOSS=15]="DATA_LOSS";
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Sa{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return xa}static getOrCreateInstance(){return null===xa&&(xa=new Sa),xa}onExistenceFilterMismatch(t){const e=Symbol();return this.onExistenceFilterMismatchCallbacks.set(e,t),()=>this.onExistenceFilterMismatchCallbacks.delete(e)}notifyOnExistenceFilterMismatch(t){this.onExistenceFilterMismatchCallbacks.forEach((e=>e(t)))}}let xa=null;
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ia(){return new TextEncoder}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ca=new Gi([4294967295,4294967295],0);function ka(t){const e=Ia().encode(t),n=new Ki;return n.update(e),new Uint8Array(n.digest())}function Aa(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Gi([n,i],0),new Gi([r,o],0)]}class La{constructor(t,e,n){if(this.bitmap=t,this.padding=e,this.hashCount=n,e<0||e>=8)throw new Pa(`Invalid padding: ${e}`);if(n<0)throw new Pa(`Invalid hash count: ${n}`);if(t.length>0&&0===this.hashCount)throw new Pa(`Invalid hash count: ${n}`);if(0===t.length&&0!==e)throw new Pa(`Invalid padding when bitmap length is 0: ${e}`);this.yt=8*t.length-e,this.It=Gi.fromNumber(this.yt)}Tt(t,e,n){let i=t.add(e.multiply(Gi.fromNumber(n)));return 1===i.compare(Ca)&&(i=new Gi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.It).toNumber()}Et(t){return 0!=(this.bitmap[Math.floor(t/8)]&1<<t%8)}At(t){if(0===this.yt)return!1;const e=ka(t),[n,i]=Aa(e);for(let r=0;r<this.hashCount;r++){const t=this.Tt(n,i,r);if(!this.Et(t))return!1}return!0}static create(t,e,n){const i=t%8==0?0:8-t%8,r=new Uint8Array(Math.ceil(t/8)),o=new La(r,i,e);return n.forEach((t=>o.insert(t))),o}insert(t){if(0===this.yt)return;const e=ka(t),[n,i]=Aa(e);for(let r=0;r<this.hashCount;r++){const t=this.Tt(n,i,r);this.Rt(t)}}Rt(t){const e=Math.floor(t/8),n=t%8;this.bitmap[e]|=1<<n}}class Pa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(t,e,n,i,r){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(t,e,n){const i=new Map;return i.set(t,Oa.createSynthesizedTargetChangeForCurrentChange(t,e,n)),new Ra(Sr.min(),i,new Jr(br),Is(),Ms())}}class Oa{constructor(t,e,n,i,r){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(t,e,n){return new Oa(n,e,Ms(),Ms(),Ms())}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(t,e,n,i){this.vt=t,this.removedTargetIds=e,this.key=n,this.Pt=i}}class Ma{constructor(t,e){this.targetId=t,this.bt=e}}class Da{constructor(t,e,n=io.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=i}}class Ua{constructor(){this.Vt=0,this.St=za(),this.Dt=io.EMPTY_BYTE_STRING,this.Ct=!1,this.xt=!0}get current(){return this.Ct}get resumeToken(){return this.Dt}get Nt(){return 0!==this.Vt}get kt(){return this.xt}Mt(t){t.approximateByteSize()>0&&(this.xt=!0,this.Dt=t)}Ot(){let t=Ms(),e=Ms(),n=Ms();return this.St.forEach(((i,r)=>{switch(r){case 0:t=t.add(i);break;case 2:e=e.add(i);break;case 1:n=n.add(i);break;default:or()}})),new Oa(this.Dt,this.Ct,t,e,n)}$t(){this.xt=!1,this.St=za()}Ft(t,e){this.xt=!0,this.St=this.St.insert(t,e)}Bt(t){this.xt=!0,this.St=this.St.remove(t)}Lt(){this.Vt+=1}qt(){this.Vt-=1}Ut(){this.xt=!0,this.Ct=!0}}class Fa{constructor(t){this.Kt=t,this.Gt=new Map,this.Qt=Is(),this.jt=Ba(),this.zt=new Jr(br)}Wt(t){for(const e of t.vt)t.Pt&&t.Pt.isFoundDocument()?this.Ht(e,t.Pt):this.Jt(e,t.key,t.Pt);for(const e of t.removedTargetIds)this.Jt(e,t.key,t.Pt)}Yt(t){this.forEachTarget(t,(e=>{const n=this.Xt(e);switch(t.state){case 0:this.Zt(e)&&n.Mt(t.resumeToken);break;case 1:n.qt(),n.Nt||n.$t(),n.Mt(t.resumeToken);break;case 2:n.qt(),n.Nt||this.removeTarget(e);break;case 3:this.Zt(e)&&(n.Ut(),n.Mt(t.resumeToken));break;case 4:this.Zt(e)&&(this.te(e),n.Mt(t.resumeToken));break;default:or()}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Gt.forEach(((t,n)=>{this.Zt(n)&&e(n)}))}ee(t){var e;const n=t.targetId,i=t.bt.count,r=this.ne(n);if(r){const o=r.target;if(os(o))if(0===i){const t=new Ar(o.path);this.Jt(n,t,Ro.newNoDocument(t,Sr.min()))}else sr(1===i);else{const r=this.se(n);if(r!==i){const i=this.ie(t,r);if(0!==i){this.te(n);const t=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.zt=this.zt.insert(n,t)}null===(e=Sa.instance)||void 0===e||e.notifyOnExistenceFilterMismatch(function(t,e,n){var i,r,o,s,a,c;const l={localCacheCount:e,existenceFilterCount:n.count},u=n.unchangedNames;return u&&(l.bloomFilter={applied:0===t,hashCount:null!==(i=null==u?void 0:u.hashCount)&&void 0!==i?i:0,bitmapLength:null!==(s=null===(o=null===(r=null==u?void 0:u.bits)||void 0===r?void 0:r.bitmap)||void 0===o?void 0:o.length)&&void 0!==s?s:0,padding:null!==(c=null===(a=null==u?void 0:u.bits)||void 0===a?void 0:a.padding)&&void 0!==c?c:0}),l}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(i,r,t.bt))}}}}ie(t,e){const{unchangedNames:n,count:i}=t.bt;if(!n||!n.bits)return 1;const{bits:{bitmap:r="",padding:o=0},hashCount:s=0}=n;let a,c;try{a=ao(r).toUint8Array()}catch(t){if(t instanceof no)return ir("Decoding the base64 bloom filter in existence filter failed ("+t.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw t}try{c=new La(a,o,s)}catch(t){return ir(t instanceof Pa?"BloomFilter error: ":"Applying bloom filter failed: ",t),1}return 0===c.yt?1:i!==e-this.re(t.targetId,c)?2:0}re(t,e){const n=this.Kt.getRemoteKeysForTarget(t);let i=0;return n.forEach((n=>{const r=this.Kt.oe(),o=`projects/${r.projectId}/databases/${r.database}/documents/${n.path.canonicalString()}`;e.At(o)||(this.Jt(t,n,null),i++)})),i}ue(t){const e=new Map;this.Gt.forEach(((n,i)=>{const r=this.ne(i);if(r){if(n.current&&os(r.target)){const e=new Ar(r.target.path);null!==this.Qt.get(e)||this.ce(i,e)||this.Jt(i,e,Ro.newNoDocument(e,t))}n.kt&&(e.set(i,n.Ot()),n.$t())}}));let n=Ms();this.jt.forEach(((t,e)=>{let i=!0;e.forEachWhile((t=>{const e=this.ne(t);return!e||"TargetPurposeLimboResolution"===e.purpose||(i=!1,!1)})),i&&(n=n.add(t))})),this.Qt.forEach(((e,n)=>n.setReadTime(t)));const i=new Ra(t,e,this.zt,this.Qt,n);return this.Qt=Is(),this.jt=Ba(),this.zt=new Jr(br),i}Ht(t,e){if(!this.Zt(t))return;const n=this.ce(t,e.key)?2:0;this.Xt(t).Ft(e.key,n),this.Qt=this.Qt.insert(e.key,e),this.jt=this.jt.insert(e.key,this.ae(e.key).add(t))}Jt(t,e,n){if(!this.Zt(t))return;const i=this.Xt(t);this.ce(t,e)?i.Ft(e,1):i.Bt(e),this.jt=this.jt.insert(e,this.ae(e).delete(t)),n&&(this.Qt=this.Qt.insert(e,n))}removeTarget(t){this.Gt.delete(t)}se(t){const e=this.Xt(t).Ot();return this.Kt.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Lt(t){this.Xt(t).Lt()}Xt(t){let e=this.Gt.get(t);return e||(e=new Ua,this.Gt.set(t,e)),e}ae(t){let e=this.jt.get(t);return e||(e=new Yr(br),this.jt=this.jt.insert(t,e)),e}Zt(t){const e=null!==this.ne(t);return e||er("WatchChangeAggregator","Detected inactive target",t),e}ne(t){const e=this.Gt.get(t);return e&&e.Nt?null:this.Kt.he(t)}te(t){this.Gt.set(t,new Ua),this.Kt.getRemoteKeysForTarget(t).forEach((e=>{this.Jt(t,e,null)}))}ce(t,e){return this.Kt.getRemoteKeysForTarget(t).has(e)}}function Ba(){return new Jr(Ar.comparator)}function za(){return new Jr(Ar.comparator)}const Va=(()=>{const t={asc:"ASCENDING",desc:"DESCENDING"};return t})(),ja=(()=>{const t={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};return t})(),$a=(()=>{const t={and:"AND",or:"OR"};return t})();class Ha{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function qa(t,e){return t.useProto3Json||Vr(e)?e:{value:e}}function Wa(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Za(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Ka(t,e){return Wa(t,e.toTimestamp())}function Ga(t){return sr(!!t),Sr.fromTimestamp(function(t){const e=oo(t);return new Er(e.seconds,e.nanos)}(t))}function Ja(t,e){return function(t){return new Ir(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function Xa(t){const e=Ir.fromString(t);return sr(wc(e)),e}function Qa(t,e){return Ja(t.databaseId,e.path)}function Ya(t,e){const n=Xa(e);if(n.get(1)!==t.databaseId.projectId)throw new lr(cr.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new lr(cr.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ar(ic(n))}function tc(t,e){return Ja(t.databaseId,e)}function ec(t){const e=Xa(t);return 4===e.length?Ir.emptyPath():ic(e)}function nc(t){return new Ir(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function ic(t){return sr(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function rc(t,e,n){return{name:Qa(t,e),fields:n.value.mapValue.fields}}function oc(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:or()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],o=function(t,e){return t.useProto3Json?(sr(void 0===e||"string"==typeof e),io.fromBase64String(e||"")):(sr(void 0===e||e instanceof Uint8Array),io.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(t){const e=void 0===t.code?cr.UNKNOWN:Ea(t.code);return new lr(e,t.message||"")}(s);n=new Da(i,r,o,a||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const r=Ya(t,i.document.name),o=Ga(i.document.updateTime),s=i.document.createTime?Ga(i.document.createTime):Sr.min(),a=new Lo({mapValue:{fields:i.document.fields}}),c=Ro.newFoundDocument(r,o,s,a),l=i.targetIds||[],u=i.removedTargetIds||[];n=new Na(l,u,c.key,c)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const r=Ya(t,i.document),o=i.readTime?Ga(i.readTime):Sr.min(),s=Ro.newNoDocument(r,o),a=i.removedTargetIds||[];n=new Na([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const r=Ya(t,i.document),o=i.removedTargetIds||[];n=new Na([],o,r,null)}else{if(!("filter"in e))return or();{e.filter;const t=e.filter;t.targetId;const{count:i=0,unchangedNames:r}=t,o=new ya(i,r),s=t.targetId;n=new Ma(s,o)}}return n}function sc(t,e){let n;if(e instanceof la)n={update:rc(t,e.key,e.value)};else if(e instanceof pa)n={delete:Qa(t,e.key)};else if(e instanceof ua)n={update:rc(t,e.key,e.data),updateMask:yc(e.fieldMask)};else{if(!(e instanceof ma))return or();n={verify:Qa(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((t=>function(t,e){const n=e.transform;if(n instanceof qs)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Ws)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Ks)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Js)return{fieldPath:e.field.canonicalString(),increment:n.wt};throw or()}(0,t)))),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Ka(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:or()}(t,e.precondition)),n}function ac(t,e){return t&&t.length>0?(sr(void 0!==e),t.map((t=>function(t,e){let n=t.updateTime?Ga(t.updateTime):Ga(e);return n.isEqual(Sr.min())&&(n=Ga(e)),new ta(n,t.transformResults||[])}(t,e)))):[]}function cc(t,e){return{documents:[tc(t,e.path)]}}function lc(t,e){const n={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(n.parent=tc(t,i),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=tc(t,i.popLast()),n.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(t){if(0!==t.length)return vc(zo.create(t,"and"))}(e.filters);r&&(n.structuredQuery.where=r);const o=function(t){if(0!==t.length)return t.map((t=>function(t){return{field:gc(t.field),direction:fc(t.dir)}}(t)))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const s=qa(t,e.limit);var a;return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(t){return{before:!t.inclusive,values:t.position}}(e.endAt)),n}function uc(t){let e=ec(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){sr(1===i);const t=n.from[0];t.allDescendants?r=t.collectionId:e=e.child(t.collectionId)}let o=[];n.where&&(o=function(t){const e=dc(t);return e instanceof zo&&jo(e)?e.getFilters():[e]}(n.where));let s=[];n.orderBy&&(s=n.orderBy.map((t=>function(t){return new Do(_c(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t))));let a=null;n.limit&&(a=function(t){let e;return e="object"==typeof t?t.value:t,Vr(e)?null:e}(n.limit));let c=null;n.startAt&&(c=function(t){const e=!!t.before,n=t.values||[];return new Oo(n,e)}(n.startAt));let l=null;return n.endAt&&(l=function(t){const e=!t.before,n=t.values||[];return new Oo(n,e)}(n.endAt)),as(e,r,s,o,a,"F",c,l)}function hc(t,e){const n=function(t){switch(t){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return or()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}function dc(t){return void 0!==t.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const e=_c(t.unaryFilter.field);return Bo.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=_c(t.unaryFilter.field);return Bo.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=_c(t.unaryFilter.field);return Bo.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=_c(t.unaryFilter.field);return Bo.create(r,"!=",{nullValue:"NULL_VALUE"});default:return or()}}(t):void 0!==t.fieldFilter?function(t){return Bo.create(_c(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return or()}}(t.fieldFilter.op),t.fieldFilter.value)}(t):void 0!==t.compositeFilter?function(t){return zo.create(t.compositeFilter.filters.map((t=>dc(t))),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return or()}}(t.compositeFilter.op))}(t):or()}function fc(t){return Va[t]}function pc(t){return ja[t]}function mc(t){return $a[t]}function gc(t){return{fieldPath:t.canonicalString()}}function _c(t){return kr.fromServerFormat(t.fieldPath)}function vc(t){return t instanceof Bo?function(t){if("=="===t.op){if(Io(t.value))return{unaryFilter:{field:gc(t.field),op:"IS_NAN"}};if(xo(t.value))return{unaryFilter:{field:gc(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Io(t.value))return{unaryFilter:{field:gc(t.field),op:"IS_NOT_NAN"}};if(xo(t.value))return{unaryFilter:{field:gc(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:gc(t.field),op:pc(t.op),value:t.value}}}(t):t instanceof zo?function(t){const e=t.getFilters().map((t=>vc(t)));return 1===e.length?e[0]:{compositeFilter:{op:mc(t.op),filters:e}}}(t):or()}function yc(t){const e=[];return t.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function wc(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(t,e,n,i,r=Sr.min(),o=Sr.min(),s=io.EMPTY_BYTE_STRING,a=null){this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=a}withSequenceNumber(t){return new bc(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new bc(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new bc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new bc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(t){this.le=t}}function Ec(t){const e=uc({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?gs(e,e.limit,"L"):e}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(){}_e(t,e){this.we(t,e),e.me()}we(t,e){if("nullValue"in t)this.ge(e,5);else if("booleanValue"in t)this.ge(e,10),e.ye(t.booleanValue?1:0);else if("integerValue"in t)this.ge(e,15),e.ye(so(t.integerValue));else if("doubleValue"in t){const n=so(t.doubleValue);isNaN(n)?this.ge(e,13):(this.ge(e,15),jr(n)?e.ye(0):e.ye(n))}else if("timestampValue"in t){const n=t.timestampValue;this.ge(e,20),"string"==typeof n?e.pe(n):(e.pe(`${n.seconds||""}`),e.ye(n.nanos||0))}else if("stringValue"in t)this.Ie(t.stringValue,e),this.Te(e);else if("bytesValue"in t)this.ge(e,30),e.Ee(ao(t.bytesValue)),this.Te(e);else if("referenceValue"in t)this.Ae(t.referenceValue,e);else if("geoPointValue"in t){const n=t.geoPointValue;this.ge(e,45),e.ye(n.latitude||0),e.ye(n.longitude||0)}else"mapValue"in t?Ao(t)?this.ge(e,Number.MAX_SAFE_INTEGER):(this.Re(t.mapValue,e),this.Te(e)):"arrayValue"in t?(this.ve(t.arrayValue,e),this.Te(e)):or()}Ie(t,e){this.ge(e,25),this.Pe(t,e)}Pe(t,e){e.pe(t)}Re(t,e){const n=t.fields||{};this.ge(e,55);for(const i of Object.keys(n))this.Ie(i,e),this.we(n[i],e)}ve(t,e){const n=t.values||[];this.ge(e,50);for(const i of n)this.we(i,e)}Ae(t,e){this.ge(e,37),Ar.fromName(t).path.forEach((t=>{this.ge(e,60),this.Pe(t,e)}))}ge(t,e){t.ye(e)}Te(t){t.ye(2)}}Sc.be=new Sc;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class xc{constructor(){this.sn=new Ic}addToCollectionParentIndex(t,e){return this.sn.add(e),Fr.resolve()}getCollectionParents(t,e){return Fr.resolve(this.sn.getEntries(e))}addFieldIndex(t,e){return Fr.resolve()}deleteFieldIndex(t,e){return Fr.resolve()}getDocumentsMatchingTarget(t,e){return Fr.resolve(null)}getIndexType(t,e){return Fr.resolve(0)}getFieldIndexes(t,e){return Fr.resolve([])}getNextCollectionGroupToUpdate(t){return Fr.resolve(null)}getMinOffset(t,e){return Fr.resolve(Or.min())}getMinOffsetFromCollectionGroup(t,e){return Fr.resolve(Or.min())}updateCollectionGroup(t,e,n){return Fr.resolve()}updateIndexEntries(t,e){return Fr.resolve()}}class Ic{constructor(){this.index={}}add(t){const e=t.lastSegment(),n=t.popLast(),i=this.index[e]||new Yr(Ir.comparator),r=!i.has(n);return this.index[e]=i.add(n),r}has(t){const e=t.lastSegment(),n=t.popLast(),i=this.index[e];return i&&i.has(n)}getEntries(t){return(this.index[t]||new Yr(Ir.comparator)).toArray()}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Uint8Array(0);class Cc{constructor(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}static withCacheSize(t){return new Cc(t,Cc.DEFAULT_COLLECTION_PERCENTILE,Cc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Cc.DEFAULT_COLLECTION_PERCENTILE=10,Cc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Cc.DEFAULT=new Cc(41943040,Cc.DEFAULT_COLLECTION_PERCENTILE,Cc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Cc.DISABLED=new Cc(-1,0,0);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class kc{constructor(t){this.xn=t}next(){return this.xn+=2,this.xn}static Nn(){return new kc(0)}static kn(){return new kc(-1)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Ac{constructor(){this.changes=new Ss((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Ro.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const n=this.changes.get(e);return void 0!==n?Fr.resolve(n):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Lc{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(t,e,n,i){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=n,this.indexManager=i}getDocument(t,e){let n=null;return this.documentOverlayCache.getOverlay(t,e).next((i=>(n=i,this.remoteDocumentCache.getEntry(t,e)))).next((t=>(null!==n&&sa(n.mutation,t,eo.empty(),Er.now()),t)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((e=>this.getLocalViewOfDocuments(t,e,Ms()).next((()=>e))))}getLocalViewOfDocuments(t,e,n=Ms()){const i=Ls();return this.populateOverlays(t,i,e).next((()=>this.computeViews(t,e,i,n).next((t=>{let e=ks();return t.forEach(((t,n)=>{e=e.insert(t,n.overlayedDocument)})),e}))))}getOverlayedDocuments(t,e){const n=Ls();return this.populateOverlays(t,n,e).next((()=>this.computeViews(t,e,n,Ms())))}populateOverlays(t,e,n){const i=[];return n.forEach((t=>{e.has(t)||i.push(t)})),this.documentOverlayCache.getOverlays(t,i).next((t=>{t.forEach(((t,n)=>{e.set(t,n)}))}))}computeViews(t,e,n,i){let r=Is();const o=Rs(),s=Rs();return e.forEach(((t,e)=>{const s=n.get(e.key);i.has(e.key)&&(void 0===s||s.mutation instanceof ua)?r=r.insert(e.key,e):void 0!==s?(o.set(e.key,s.mutation.getFieldMask()),sa(s.mutation,e,s.mutation.getFieldMask(),Er.now())):o.set(e.key,eo.empty())})),this.recalculateAndSaveOverlays(t,r).next((t=>(t.forEach(((t,e)=>o.set(t,e))),e.forEach(((t,e)=>{var n;return s.set(t,new Lc(e,null!==(n=o.get(t))&&void 0!==n?n:null))})),s)))}recalculateAndSaveOverlays(t,e){const n=Rs();let i=new Jr(((t,e)=>t-e)),r=Ms();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((t=>{for(const r of t)r.keys().forEach((t=>{const o=e.get(t);if(null===o)return;let s=n.get(t)||eo.empty();s=r.applyToLocalView(o,s),n.set(t,s);const a=(i.get(r.batchId)||Ms()).add(t);i=i.insert(r.batchId,a)}))})).next((()=>{const o=[],s=i.getReverseIterator();for(;s.hasNext();){const i=s.getNext(),a=i.key,c=i.value,l=Ps();c.forEach((t=>{if(!r.has(t)){const i=ra(e.get(t),n.get(t));null!==i&&l.set(t,i),r=r.add(t)}})),o.push(this.documentOverlayCache.saveOverlays(t,a,l))}return Fr.waitFor(o)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((e=>this.recalculateAndSaveOverlays(t,e)))}getDocumentsMatchingQuery(t,e,n){return function(t){return Ar.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):ds(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,n):this.getDocumentsMatchingCollectionQuery(t,e,n)}getNextDocuments(t,e,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,n,i).next((r=>{const o=i-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,n.largestBatchId,i-r.size):Fr.resolve(Ls());let s=-1,a=r;return o.next((e=>Fr.forEach(e,((e,n)=>(s<n.largestBatchId&&(s=n.largestBatchId),r.get(e)?Fr.resolve():this.remoteDocumentCache.getEntry(t,e).next((t=>{a=a.insert(e,t)}))))).next((()=>this.populateOverlays(t,e,r))).next((()=>this.computeViews(t,a,e,Ms()))).next((t=>({batchId:s,changes:As(t)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Ar(e)).next((t=>{let e=ks();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e}))}getDocumentsMatchingCollectionGroupQuery(t,e,n){const i=e.collectionGroup;let r=ks();return this.indexManager.getCollectionParents(t,i).next((o=>Fr.forEach(o,(o=>{const s=function(t,e){return new ss(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,o.child(i));return this.getDocumentsMatchingCollectionQuery(t,s,n).next((t=>{t.forEach(((t,e)=>{r=r.insert(t,e)}))}))})).next((()=>r))))}getDocumentsMatchingCollectionQuery(t,e,n){let i;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,n.largestBatchId).next((r=>(i=r,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,n,i)))).next((t=>{i.forEach(((e,n)=>{const i=n.getKey();null===t.get(i)&&(t=t.insert(i,Ro.newInvalidDocument(i)))}));let n=ks();return t.forEach(((t,r)=>{const o=i.get(t);void 0!==o&&sa(o.mutation,r,eo.empty(),Er.now()),ws(e,r)&&(n=n.insert(t,r))})),n}))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(t){this.serializer=t,this.us=new Map,this.cs=new Map}getBundleMetadata(t,e){return Fr.resolve(this.us.get(e))}saveBundleMetadata(t,e){var n;return this.us.set(e.id,{id:(n=e).id,version:n.version,createTime:Ga(n.createTime)}),Fr.resolve()}getNamedQuery(t,e){return Fr.resolve(this.cs.get(e))}saveNamedQuery(t,e){return this.cs.set(e.name,function(t){return{name:t.name,query:Ec(t.bundledQuery),readTime:Ga(t.readTime)}}(e)),Fr.resolve()}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(){this.overlays=new Jr(Ar.comparator),this.hs=new Map}getOverlay(t,e){return Fr.resolve(this.overlays.get(e))}getOverlays(t,e){const n=Ls();return Fr.forEach(e,(e=>this.getOverlay(t,e).next((t=>{null!==t&&n.set(e,t)})))).next((()=>n))}saveOverlays(t,e,n){return n.forEach(((n,i)=>{this.de(t,e,i)})),Fr.resolve()}removeOverlaysForBatchId(t,e,n){const i=this.hs.get(n);return void 0!==i&&(i.forEach((t=>this.overlays=this.overlays.remove(t))),this.hs.delete(n)),Fr.resolve()}getOverlaysForCollection(t,e,n){const i=Ls(),r=e.length+1,o=new Ar(e.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const t=s.getNext().value,o=t.getKey();if(!e.isPrefixOf(o.path))break;o.path.length===r&&t.largestBatchId>n&&i.set(t.getKey(),t)}return Fr.resolve(i)}getOverlaysForCollectionGroup(t,e,n,i){let r=new Jr(((t,e)=>t-e));const o=this.overlays.getIterator();for(;o.hasNext();){const t=o.getNext().value;if(t.getKey().getCollectionGroup()===e&&t.largestBatchId>n){let e=r.get(t.largestBatchId);null===e&&(e=Ls(),r=r.insert(t.largestBatchId,e)),e.set(t.getKey(),t)}}const s=Ls(),a=r.getIterator();for(;a.hasNext();)if(a.getNext().value.forEach(((t,e)=>s.set(t,e))),s.size()>=i)break;return Fr.resolve(s)}de(t,e,n){const i=this.overlays.get(n.key);if(null!==i){const t=this.hs.get(i.largestBatchId).delete(n.key);this.hs.set(i.largestBatchId,t)}this.overlays=this.overlays.insert(n.key,new va(e,n));let r=this.hs.get(e);void 0===r&&(r=Ms(),this.hs.set(e,r)),this.hs.set(e,r.add(n.key))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(){this.ls=new Yr(Mc.fs),this.ds=new Yr(Mc._s)}isEmpty(){return this.ls.isEmpty()}addReference(t,e){const n=new Mc(t,e);this.ls=this.ls.add(n),this.ds=this.ds.add(n)}ws(t,e){t.forEach((t=>this.addReference(t,e)))}removeReference(t,e){this.gs(new Mc(t,e))}ys(t,e){t.forEach((t=>this.removeReference(t,e)))}ps(t){const e=new Ar(new Ir([])),n=new Mc(e,t),i=new Mc(e,t+1),r=[];return this.ds.forEachInRange([n,i],(t=>{this.gs(t),r.push(t.key)})),r}Is(){this.ls.forEach((t=>this.gs(t)))}gs(t){this.ls=this.ls.delete(t),this.ds=this.ds.delete(t)}Ts(t){const e=new Ar(new Ir([])),n=new Mc(e,t),i=new Mc(e,t+1);let r=Ms();return this.ds.forEachInRange([n,i],(t=>{r=r.add(t.key)})),r}containsKey(t){const e=new Mc(t,0),n=this.ls.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)}}class Mc{constructor(t,e){this.key=t,this.Es=e}static fs(t,e){return Ar.comparator(t.key,e.key)||br(t.Es,e.Es)}static _s(t,e){return br(t.Es,e.Es)||Ar.comparator(t.key,e.key)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.As=1,this.Rs=new Yr(Mc.fs)}checkEmpty(t){return Fr.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,n,i){const r=this.As;this.As++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new ga(r,e,n,i);this.mutationQueue.push(o);for(const s of i)this.Rs=this.Rs.add(new Mc(s.key,r)),this.indexManager.addToCollectionParentIndex(t,s.key.path.popLast());return Fr.resolve(o)}lookupMutationBatch(t,e){return Fr.resolve(this.vs(e))}getNextMutationBatchAfterBatchId(t,e){const n=e+1,i=this.Ps(n),r=i<0?0:i;return Fr.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return Fr.resolve(0===this.mutationQueue.length?-1:this.As-1)}getAllMutationBatches(t){return Fr.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const n=new Mc(e,0),i=new Mc(e,Number.POSITIVE_INFINITY),r=[];return this.Rs.forEachInRange([n,i],(t=>{const e=this.vs(t.Es);r.push(e)})),Fr.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(t,e){let n=new Yr(br);return e.forEach((t=>{const e=new Mc(t,0),i=new Mc(t,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([e,i],(t=>{n=n.add(t.Es)}))})),Fr.resolve(this.bs(n))}getAllMutationBatchesAffectingQuery(t,e){const n=e.path,i=n.length+1;let r=n;Ar.isDocumentKey(r)||(r=r.child(""));const o=new Mc(new Ar(r),0);let s=new Yr(br);return this.Rs.forEachWhile((t=>{const e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===i&&(s=s.add(t.Es)),!0)}),o),Fr.resolve(this.bs(s))}bs(t){const e=[];return t.forEach((t=>{const n=this.vs(t);null!==n&&e.push(n)})),e}removeMutationBatch(t,e){sr(0===this.Vs(e.batchId,"removed")),this.mutationQueue.shift();let n=this.Rs;return Fr.forEach(e.mutations,(i=>{const r=new Mc(i.key,e.batchId);return n=n.delete(r),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)})).next((()=>{this.Rs=n}))}Dn(t){}containsKey(t,e){const n=new Mc(e,0),i=this.Rs.firstAfterOrEqual(n);return Fr.resolve(e.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,Fr.resolve()}Vs(t,e){return this.Ps(t)}Ps(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}vs(t){const e=this.Ps(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(t){this.Ss=t,this.docs=new Jr(Ar.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const n=e.key,i=this.docs.get(n),r=i?i.size:0,o=this.Ss(e);return this.docs=this.docs.insert(n,{document:e.mutableCopy(),size:o}),this.size+=o-r,this.indexManager.addToCollectionParentIndex(t,n.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const n=this.docs.get(e);return Fr.resolve(n?n.document.mutableCopy():Ro.newInvalidDocument(e))}getEntries(t,e){let n=Is();return e.forEach((t=>{const e=this.docs.get(t);n=n.insert(t,e?e.document.mutableCopy():Ro.newInvalidDocument(t))})),Fr.resolve(n)}getDocumentsMatchingQuery(t,e,n,i){let r=Is();const o=e.path,s=new Ar(o.child("")),a=this.docs.getIteratorFrom(s);for(;a.hasNext();){const{key:t,value:{document:s}}=a.getNext();if(!o.isPrefixOf(t.path))break;t.path.length>o.length+1||Nr(Rr(s),n)<=0||(i.has(s.key)||ws(e,s))&&(r=r.insert(s.key,s.mutableCopy()))}return Fr.resolve(r)}getAllFromCollectionGroup(t,e,n,i){or()}Ds(t,e){return Fr.forEach(this.docs,(t=>e(t)))}newChangeBuffer(t){return new Fc(this)}getSize(t){return Fr.resolve(this.size)}}class Fc extends Ac{constructor(t){super(),this.rs=t}applyChanges(t){const e=[];return this.changes.forEach(((n,i)=>{i.isValidDocument()?e.push(this.rs.addEntry(t,i)):this.rs.removeEntry(n)})),Fr.waitFor(e)}getFromCache(t,e){return this.rs.getEntry(t,e)}getAllFromCache(t,e){return this.rs.getEntries(t,e)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(t){this.persistence=t,this.Cs=new Ss((t=>is(t)),rs),this.lastRemoteSnapshotVersion=Sr.min(),this.highestTargetId=0,this.xs=0,this.Ns=new Nc,this.targetCount=0,this.ks=kc.Nn()}forEachTarget(t,e){return this.Cs.forEach(((t,n)=>e(n))),Fr.resolve()}getLastRemoteSnapshotVersion(t){return Fr.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Fr.resolve(this.xs)}allocateTargetId(t){return this.highestTargetId=this.ks.next(),Fr.resolve(this.highestTargetId)}setTargetsMetadata(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.xs&&(this.xs=e),Fr.resolve()}$n(t){this.Cs.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ks=new kc(e),this.highestTargetId=e),t.sequenceNumber>this.xs&&(this.xs=t.sequenceNumber)}addTargetData(t,e){return this.$n(e),this.targetCount+=1,Fr.resolve()}updateTargetData(t,e){return this.$n(e),Fr.resolve()}removeTargetData(t,e){return this.Cs.delete(e.target),this.Ns.ps(e.targetId),this.targetCount-=1,Fr.resolve()}removeTargets(t,e,n){let i=0;const r=[];return this.Cs.forEach(((o,s)=>{s.sequenceNumber<=e&&null===n.get(s.targetId)&&(this.Cs.delete(o),r.push(this.removeMatchingKeysForTargetId(t,s.targetId)),i++)})),Fr.waitFor(r).next((()=>i))}getTargetCount(t){return Fr.resolve(this.targetCount)}getTargetData(t,e){const n=this.Cs.get(e)||null;return Fr.resolve(n)}addMatchingKeys(t,e,n){return this.Ns.ws(e,n),Fr.resolve()}removeMatchingKeys(t,e,n){this.Ns.ys(e,n);const i=this.persistence.referenceDelegate,r=[];return i&&e.forEach((e=>{r.push(i.markPotentiallyOrphaned(t,e))})),Fr.waitFor(r)}removeMatchingKeysForTargetId(t,e){return this.Ns.ps(e),Fr.resolve()}getMatchingKeysForTargetId(t,e){const n=this.Ns.Ts(e);return Fr.resolve(n)}containsKey(t,e){return Fr.resolve(this.Ns.containsKey(e))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(t,e){this.Ms={},this.overlays={},this.Os=new zr(0),this.$s=!1,this.$s=!0,this.referenceDelegate=t(this),this.Fs=new Bc(this),this.indexManager=new xc,this.remoteDocumentCache=function(t){return new Uc(t)}((t=>this.referenceDelegate.Bs(t))),this.serializer=new Tc(e),this.Ls=new Rc(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.$s=!1,Promise.resolve()}get started(){return this.$s}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new Oc,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let n=this.Ms[t.toKey()];return n||(n=new Dc(e,this.referenceDelegate),this.Ms[t.toKey()]=n),n}getTargetCache(){return this.Fs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ls}runTransaction(t,e,n){er("MemoryPersistence","Starting transaction:",t);const i=new Vc(this.Os.next());return this.referenceDelegate.qs(),n(i).next((t=>this.referenceDelegate.Us(i).next((()=>t)))).toPromise().then((t=>(i.raiseOnCommittedEvent(),t)))}Ks(t,e){return Fr.or(Object.values(this.Ms).map((n=>()=>n.containsKey(t,e))))}}class Vc extends Dr{constructor(t){super(),this.currentSequenceNumber=t}}class jc{constructor(t){this.persistence=t,this.Gs=new Nc,this.Qs=null}static js(t){return new jc(t)}get zs(){if(this.Qs)return this.Qs;throw or()}addReference(t,e,n){return this.Gs.addReference(n,e),this.zs.delete(n.toString()),Fr.resolve()}removeReference(t,e,n){return this.Gs.removeReference(n,e),this.zs.add(n.toString()),Fr.resolve()}markPotentiallyOrphaned(t,e){return this.zs.add(e.toString()),Fr.resolve()}removeTarget(t,e){this.Gs.ps(e.targetId).forEach((t=>this.zs.add(t.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,e.targetId).next((t=>{t.forEach((t=>this.zs.add(t.toString())))})).next((()=>n.removeTargetData(t,e)))}qs(){this.Qs=new Set}Us(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Fr.forEach(this.zs,(n=>{const i=Ar.fromPath(n);return this.Ws(t,i).next((t=>{t||e.removeEntry(i,Sr.min())}))})).next((()=>(this.Qs=null,e.apply(t))))}updateLimboDocument(t,e){return this.Ws(t,e).next((t=>{t?this.zs.delete(e.toString()):this.zs.add(e.toString())}))}Bs(t){return 0}Ws(t,e){return Fr.or([()=>Fr.resolve(this.Gs.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ks(t,e)])}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class $c{constructor(t,e,n,i){this.targetId=t,this.fromCache=e,this.$i=n,this.Fi=i}static Bi(t,e){let n=Ms(),i=Ms();for(const r of e.docChanges)switch(r.type){case 0:n=n.add(r.doc.key);break;case 1:i=i.add(r.doc.key)}return new $c(t,e.fromCache,n,i)}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(){this.Li=!1}initialize(t,e){this.qi=t,this.indexManager=e,this.Li=!0}getDocumentsMatchingQuery(t,e,n,i){return this.Ui(t,e).next((r=>r||this.Ki(t,e,i,n))).next((n=>n||this.Gi(t,e)))}Ui(t,e){if(ls(e))return Fr.resolve(null);let n=ps(e);return this.indexManager.getIndexType(t,n).next((i=>0===i?null:(null!==e.limit&&1===i&&(e=gs(e,null,"F"),n=ps(e)),this.indexManager.getDocumentsMatchingTarget(t,n).next((i=>{const r=Ms(...i);return this.qi.getDocuments(t,r).next((i=>this.indexManager.getMinOffset(t,n).next((n=>{const o=this.Qi(e,i);return this.ji(e,o,r,n.readTime)?this.Ui(t,gs(e,null,"F")):this.zi(t,o,e,n)}))))})))))}Ki(t,e,n,i){return ls(e)||i.isEqual(Sr.min())?this.Gi(t,e):this.qi.getDocuments(t,n).next((r=>{const o=this.Qi(e,r);return this.ji(e,o,n,i)?this.Gi(t,e):(tr()<=s["in"].DEBUG&&er("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ys(e)),this.zi(t,o,e,Pr(i,-1)))}))}Qi(t,e){let n=new Yr(Ts(t));return e.forEach(((e,i)=>{ws(t,i)&&(n=n.add(i))})),n}ji(t,e,n,i){if(null===t.limit)return!1;if(n.size!==e.size)return!0;const r="F"===t.limitType?e.last():e.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(i)>0)}Gi(t,e){return tr()<=s["in"].DEBUG&&er("QueryEngine","Using full collection scan to execute query:",ys(e)),this.qi.getDocumentsMatchingQuery(t,e,Or.min())}zi(t,e,n,i){return this.qi.getDocumentsMatchingQuery(t,n,i).next((t=>(e.forEach((e=>{t=t.insert(e.key,e)})),t)))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(t,e,n,i){this.persistence=t,this.Wi=e,this.serializer=i,this.Hi=new Jr(br),this.Ji=new Ss((t=>is(t)),rs),this.Yi=new Map,this.Xi=t.getRemoteDocumentCache(),this.Fs=t.getTargetCache(),this.Ls=t.getBundleCache(),this.Zi(n)}Zi(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Pc(this.Xi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Xi.setIndexManager(this.indexManager),this.Wi.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.Hi)))}}function Wc(t,e,n,i){return new qc(t,e,n,i)}async function Zc(t,e){const n=ar(t);return await n.persistence.runTransaction("Handle user change","readonly",(t=>{let i;return n.mutationQueue.getAllMutationBatches(t).next((r=>(i=r,n.Zi(e),n.mutationQueue.getAllMutationBatches(t)))).next((e=>{const r=[],o=[];let s=Ms();for(const t of i){r.push(t.batchId);for(const e of t.mutations)s=s.add(e.key)}for(const t of e){o.push(t.batchId);for(const e of t.mutations)s=s.add(e.key)}return n.localDocuments.getDocuments(t,s).next((t=>({tr:t,removedBatchIds:r,addedBatchIds:o})))}))}))}function Kc(t,e){const n=ar(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(t=>{const i=e.batch.keys(),r=n.Xi.newChangeBuffer({trackRemovals:!0});return function(t,e,n,i){const r=n.batch,o=r.keys();let s=Fr.resolve();return o.forEach((t=>{s=s.next((()=>i.getEntry(e,t))).next((e=>{const o=n.docVersions.get(t);sr(null!==o),e.version.compareTo(o)<0&&(r.applyToRemoteDocument(e,n),e.isValidDocument()&&(e.setReadTime(n.commitVersion),i.addEntry(e)))}))})),s.next((()=>t.mutationQueue.removeMutationBatch(e,r)))}(n,t,e,r).next((()=>r.apply(t))).next((()=>n.mutationQueue.performConsistencyCheck(t))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(t,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(t,function(t){let e=Ms();for(let n=0;n<t.mutationResults.length;++n)t.mutationResults[n].transformResults.length>0&&(e=e.add(t.batch.mutations[n].key));return e}(e)))).next((()=>n.localDocuments.getDocuments(t,i)))}))}function Gc(t){const e=ar(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Fs.getLastRemoteSnapshotVersion(t)))}function Jc(t,e){const n=ar(t),i=e.snapshotVersion;let r=n.Hi;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(t=>{const o=n.Xi.newChangeBuffer({trackRemovals:!0});r=n.Hi;const s=[];e.targetChanges.forEach(((o,a)=>{const c=r.get(a);if(!c)return;s.push(n.Fs.removeMatchingKeys(t,o.removedDocuments,a).next((()=>n.Fs.addMatchingKeys(t,o.addedDocuments,a))));let l=c.withSequenceNumber(t.currentSequenceNumber);null!==e.targetMismatches.get(a)?l=l.withResumeToken(io.EMPTY_BYTE_STRING,Sr.min()).withLastLimboFreeSnapshotVersion(Sr.min()):o.resumeToken.approximateByteSize()>0&&(l=l.withResumeToken(o.resumeToken,i)),r=r.insert(a,l),function(t,e,n){return 0===t.resumeToken.approximateByteSize()||(e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(c,l,o)&&s.push(n.Fs.updateTargetData(t,l))}));let a=Is(),c=Ms();if(e.documentUpdates.forEach((i=>{e.resolvedLimboDocuments.has(i)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(t,i))})),s.push(Xc(t,o,e.documentUpdates).next((t=>{a=t.er,c=t.nr}))),!i.isEqual(Sr.min())){const e=n.Fs.getLastRemoteSnapshotVersion(t).next((e=>n.Fs.setTargetsMetadata(t,t.currentSequenceNumber,i)));s.push(e)}return Fr.waitFor(s).next((()=>o.apply(t))).next((()=>n.localDocuments.getLocalViewOfDocuments(t,a,c))).next((()=>a))})).then((t=>(n.Hi=r,t)))}function Xc(t,e,n){let i=Ms(),r=Ms();return n.forEach((t=>i=i.add(t))),e.getEntries(t,i).next((t=>{let i=Is();return n.forEach(((n,o)=>{const s=t.get(n);o.isFoundDocument()!==s.isFoundDocument()&&(r=r.add(n)),o.isNoDocument()&&o.version.isEqual(Sr.min())?(e.removeEntry(n,o.readTime),i=i.insert(n,o)):!s.isValidDocument()||o.version.compareTo(s.version)>0||0===o.version.compareTo(s.version)&&s.hasPendingWrites?(e.addEntry(o),i=i.insert(n,o)):er("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",o.version)})),{er:i,nr:r}}))}function Qc(t,e){const n=ar(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(t=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(t,e))))}function Yc(t,e){const n=ar(t);return n.persistence.runTransaction("Allocate target","readwrite",(t=>{let i;return n.Fs.getTargetData(t,e).next((r=>r?(i=r,Fr.resolve(i)):n.Fs.allocateTargetId(t).next((r=>(i=new bc(e,r,"TargetPurposeListen",t.currentSequenceNumber),n.Fs.addTargetData(t,i).next((()=>i)))))))})).then((t=>{const i=n.Hi.get(t.targetId);return(null===i||t.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Hi=n.Hi.insert(t.targetId,t),n.Ji.set(e,t.targetId)),t}))}async function tl(t,e,n){const i=ar(t),r=i.Hi.get(e),o=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",o,(t=>i.persistence.referenceDelegate.removeTarget(t,r)))}catch(t){if(!Br(t))throw t;er("LocalStore",`Failed to update sequence numbers for target ${e}: ${t}`)}i.Hi=i.Hi.remove(e),i.Ji.delete(r.target)}function el(t,e,n){const i=ar(t);let r=Sr.min(),o=Ms();return i.persistence.runTransaction("Execute query","readonly",(t=>function(t,e,n){const i=ar(t),r=i.Ji.get(n);return void 0!==r?Fr.resolve(i.Hi.get(r)):i.Fs.getTargetData(e,n)}(i,t,ps(e)).next((e=>{if(e)return r=e.lastLimboFreeSnapshotVersion,i.Fs.getMatchingKeysForTargetId(t,e.targetId).next((t=>{o=t}))})).next((()=>i.Wi.getDocumentsMatchingQuery(t,e,n?r:Sr.min(),n?o:Ms()))).next((t=>(nl(i,bs(e),t),{documents:t,sr:o})))))}function nl(t,e,n){let i=t.Yi.get(e)||Sr.min();n.forEach(((t,e)=>{e.readTime.compareTo(i)>0&&(i=e.readTime)})),t.Yi.set(e,i)}class il{constructor(){this.activeTargetIds=Us()}hr(t){this.activeTargetIds=this.activeTargetIds.add(t)}lr(t){this.activeTargetIds=this.activeTargetIds.delete(t)}ar(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class rl{constructor(){this.Wr=new il,this.Hr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,n){}addLocalQueryTarget(t){return this.Wr.hr(t),this.Hr[t]||"not-current"}updateQueryState(t,e,n){this.Hr[t]=e}removeLocalQueryTarget(t){this.Wr.lr(t)}isLocalQueryTarget(t){return this.Wr.activeTargetIds.has(t)}clearQueryState(t){delete this.Hr[t]}getAllActiveQueryTargets(){return this.Wr.activeTargetIds}isActiveQueryTarget(t){return this.Wr.activeTargetIds.has(t)}start(){return this.Wr=new il,Promise.resolve()}handleUserChange(t,e,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{Jr(t){}shutdown(){}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(){this.Yr=()=>this.Xr(),this.Zr=()=>this.eo(),this.no=[],this.so()}Jr(t){this.no.push(t)}shutdown(){window.removeEventListener("online",this.Yr),window.removeEventListener("offline",this.Zr)}so(){window.addEventListener("online",this.Yr),window.addEventListener("offline",this.Zr)}Xr(){er("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.no)t(0)}eo(){er("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.no)t(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let al=null;function cl(){return null===al?al=268435456+Math.round(2147483648*Math.random()):al++,"0x"+al.toString(16)
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}const ll={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(t){this.io=t.io,this.ro=t.ro}oo(t){this.uo=t}co(t){this.ao=t}onMessage(t){this.ho=t}close(){this.ro()}send(t){this.io(t)}lo(){this.uo()}fo(t){this.ao(t)}_o(t){this.ho(t)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hl="WebChannelConnection";class dl extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http";this.wo=e+"://"+t.host,this.mo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get yo(){return!1}po(t,e,n,i,r){const o=cl(),s=this.Io(t,e);er("RestConnection",`Sending RPC '${t}' ${o}:`,s,n);const a={};return this.To(a,i,r),this.Eo(t,s,a,n).then((e=>(er("RestConnection",`Received RPC '${t}' ${o}: `,e),e)),(e=>{throw ir("RestConnection",`RPC '${t}' ${o} failed with error: `,e,"url: ",s,"request:",n),e}))}Ao(t,e,n,i,r,o){return this.po(t,e,n,i,r)}To(t,e,n){t["X-Goog-Api-Client"]="gl-js/ fire/"+Qi,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((e,n)=>t[n]=e)),n&&n.headers.forEach(((e,n)=>t[n]=e))}Io(t,e){const n=ll[t];return`${this.wo}/v1/${e}:${n}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}Eo(t,e,n,i){const r=cl();return new Promise(((o,s)=>{const a=new Zi;a.setWithCredentials(!0),a.listenOnce(ji.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case Vi.NO_ERROR:const e=a.getResponseJson();er(hl,`XHR for RPC '${t}' ${r} received:`,JSON.stringify(e)),o(e);break;case Vi.TIMEOUT:er(hl,`RPC '${t}' ${r} timed out`),s(new lr(cr.DEADLINE_EXCEEDED,"Request time out"));break;case Vi.HTTP_ERROR:const n=a.getStatus();if(er(hl,`RPC '${t}' ${r} failed with status:`,n,"response text:",a.getResponseText()),n>0){let t=a.getResponseJson();Array.isArray(t)&&(t=t[0]);const e=null==t?void 0:t.error;if(e&&e.status&&e.message){const t=function(t){const e=t.toLowerCase().replace(/_/g,"-");return Object.values(cr).indexOf(e)>=0?e:cr.UNKNOWN}(e.status);s(new lr(t,e.message))}else s(new lr(cr.UNKNOWN,"Server responded with status "+a.getStatus()))}else s(new lr(cr.UNAVAILABLE,"Connection failed."));break;default:or()}}finally{er(hl,`RPC '${t}' ${r} completed.`)}}));const c=JSON.stringify(i);er(hl,`RPC '${t}' ${r} sending request:`,i),a.send(e,"POST",c,n,15)}))}Ro(t,e,n){const i=cl(),r=[this.wo,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=Bi(),s=zi(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new qi({})),this.To(a.initMessageHeaders,e,n),a.encodeInitMessageHeaders=!0;const c=r.join("");er(hl,`Creating RPC '${t}' stream ${i}: ${c}`,a);const l=o.createWebChannel(c,a);let u=!1,h=!1;const d=new ul({io:e=>{h?er(hl,`Not sending because RPC '${t}' stream ${i} is closed:`,e):(u||(er(hl,`Opening RPC '${t}' stream ${i} transport.`),l.open(),u=!0),er(hl,`RPC '${t}' stream ${i} sending:`,e),l.send(e))},ro:()=>l.close()}),f=(t,e,n)=>{t.listen(e,(t=>{try{n(t)}catch(t){setTimeout((()=>{throw t}),0)}}))};return f(l,Wi.EventType.OPEN,(()=>{h||er(hl,`RPC '${t}' stream ${i} transport opened.`)})),f(l,Wi.EventType.CLOSE,(()=>{h||(h=!0,er(hl,`RPC '${t}' stream ${i} transport closed`),d.fo())})),f(l,Wi.EventType.ERROR,(e=>{h||(h=!0,ir(hl,`RPC '${t}' stream ${i} transport errored:`,e),d.fo(new lr(cr.UNAVAILABLE,"The operation could not be completed")))})),f(l,Wi.EventType.MESSAGE,(e=>{var n;if(!h){const r=e.data[0];sr(!!r);const o=r,s=o.error||(null===(n=o[0])||void 0===n?void 0:n.error);if(s){er(hl,`RPC '${t}' stream ${i} received error:`,s);const e=s.status;let n=function(t){const e=wa[t];if(void 0!==e)return Ea(e)}(e),r=s.message;void 0===n&&(n=cr.INTERNAL,r="Unknown error status: "+e+" with message "+s.message),h=!0,d.fo(new lr(n,r)),l.close()}else er(hl,`RPC '${t}' stream ${i} received:`,r),d._o(r)}})),f(s,$i.STAT_EVENT,(e=>{e.stat===Hi.PROXY?er(hl,`RPC '${t}' stream ${i} detected buffering proxy`):e.stat===Hi.NOPROXY&&er(hl,`RPC '${t}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{d.lo()}),0),d}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fl(){return"undefined"!=typeof document?document:null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pl(t){return new Ha(t,!0)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(t,e,n=1e3,i=1.5,r=6e4){this.si=t,this.timerId=e,this.vo=n,this.Po=i,this.bo=r,this.Vo=0,this.So=null,this.Do=Date.now(),this.reset()}reset(){this.Vo=0}Co(){this.Vo=this.bo}xo(t){this.cancel();const e=Math.floor(this.Vo+this.No()),n=Math.max(0,Date.now()-this.Do),i=Math.max(0,e-n);i>0&&er("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Vo} ms, delay with jitter: ${e} ms, last attempt: ${n} ms ago)`),this.So=this.si.enqueueAfterDelay(this.timerId,i,(()=>(this.Do=Date.now(),t()))),this.Vo*=this.Po,this.Vo<this.vo&&(this.Vo=this.vo),this.Vo>this.bo&&(this.Vo=this.bo)}ko(){null!==this.So&&(this.So.skipDelay(),this.So=null)}cancel(){null!==this.So&&(this.So.cancel(),this.So=null)}No(){return(Math.random()-.5)*this.Vo}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(t,e,n,i,r,o,s,a){this.si=t,this.Mo=n,this.Oo=i,this.connection=r,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=a,this.state=0,this.$o=0,this.Fo=null,this.Bo=null,this.stream=null,this.Lo=new ml(t,e)}qo(){return 1===this.state||5===this.state||this.Uo()}Uo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Ko()}async stop(){this.qo()&&await this.close(0)}Go(){this.state=0,this.Lo.reset()}Qo(){this.Uo()&&null===this.Fo&&(this.Fo=this.si.enqueueAfterDelay(this.Mo,6e4,(()=>this.jo())))}zo(t){this.Wo(),this.stream.send(t)}async jo(){if(this.Uo())return this.close(0)}Wo(){this.Fo&&(this.Fo.cancel(),this.Fo=null)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}async close(t,e){this.Wo(),this.Ho(),this.Lo.cancel(),this.$o++,4!==t?this.Lo.reset():e&&e.code===cr.RESOURCE_EXHAUSTED?(nr(e.toString()),nr("Using maximum backoff delay to prevent overloading the backend."),this.Lo.Co()):e&&e.code===cr.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Jo(),this.stream.close(),this.stream=null),this.state=t,await this.listener.co(e)}Jo(){}auth(){this.state=1;const t=this.Yo(this.$o),e=this.$o;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([t,n])=>{this.$o===e&&this.Xo(t,n)}),(e=>{t((()=>{const t=new lr(cr.UNKNOWN,"Fetching auth token failed: "+e.message);return this.Zo(t)}))}))}Xo(t,e){const n=this.Yo(this.$o);this.stream=this.tu(t,e),this.stream.oo((()=>{n((()=>(this.state=2,this.Bo=this.si.enqueueAfterDelay(this.Oo,1e4,(()=>(this.Uo()&&(this.state=3),Promise.resolve()))),this.listener.oo())))})),this.stream.co((t=>{n((()=>this.Zo(t)))})),this.stream.onMessage((t=>{n((()=>this.onMessage(t)))}))}Ko(){this.state=5,this.Lo.xo((async()=>{this.state=0,this.start()}))}Zo(t){return er("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Yo(t){return e=>{this.si.enqueueAndForget((()=>this.$o===t?e():(er("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class _l extends gl{constructor(t,e,n,i,r,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,n,i,o),this.serializer=r}tu(t,e){return this.connection.Ro("Listen",t,e)}onMessage(t){this.Lo.reset();const e=oc(this.serializer,t),n=function(t){if(!("targetChange"in t))return Sr.min();const e=t.targetChange;return e.targetIds&&e.targetIds.length?Sr.min():e.readTime?Ga(e.readTime):Sr.min()}(t);return this.listener.eu(e,n)}nu(t){const e={};e.database=nc(this.serializer),e.addTarget=function(t,e){let n;const i=e.target;if(n=os(i)?{documents:cc(t,i)}:{query:lc(t,i)},n.targetId=e.targetId,e.resumeToken.approximateByteSize()>0){n.resumeToken=Za(t,e.resumeToken);const i=qa(t,e.expectedCount);null!==i&&(n.expectedCount=i)}else if(e.snapshotVersion.compareTo(Sr.min())>0){n.readTime=Wa(t,e.snapshotVersion.toTimestamp());const i=qa(t,e.expectedCount);null!==i&&(n.expectedCount=i)}return n}(this.serializer,t);const n=hc(this.serializer,t);n&&(e.labels=n),this.zo(e)}su(t){const e={};e.database=nc(this.serializer),e.removeTarget=t,this.zo(e)}}class vl extends gl{constructor(t,e,n,i,r,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,n,i,o),this.serializer=r,this.iu=!1}get ru(){return this.iu}start(){this.iu=!1,this.lastStreamToken=void 0,super.start()}Jo(){this.iu&&this.ou([])}tu(t,e){return this.connection.Ro("Write",t,e)}onMessage(t){if(sr(!!t.streamToken),this.lastStreamToken=t.streamToken,this.iu){this.Lo.reset();const e=ac(t.writeResults,t.commitTime),n=Ga(t.commitTime);return this.listener.uu(n,e)}return sr(!t.writeResults||0===t.writeResults.length),this.iu=!0,this.listener.cu()}au(){const t={};t.database=nc(this.serializer),this.zo(t)}ou(t){const e={streamToken:this.lastStreamToken,writes:t.map((t=>sc(this.serializer,t)))};this.zo(e)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl extends class{}{constructor(t,e,n,i){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=n,this.serializer=i,this.hu=!1}lu(){if(this.hu)throw new lr(cr.FAILED_PRECONDITION,"The client has already been terminated.")}po(t,e,n){return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,r])=>this.connection.po(t,e,n,i,r))).catch((t=>{throw"FirebaseError"===t.name?(t.code===cr.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),t):new lr(cr.UNKNOWN,t.toString())}))}Ao(t,e,n,i){return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([r,o])=>this.connection.Ao(t,e,n,r,o,i))).catch((t=>{throw"FirebaseError"===t.name?(t.code===cr.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),t):new lr(cr.UNKNOWN,t.toString())}))}terminate(){this.hu=!0}}class wl{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.du=0,this._u=null,this.wu=!0}mu(){0===this.du&&(this.gu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._u=null,this.yu("Backend didn't respond within 10 seconds."),this.gu("Offline"),Promise.resolve()))))}pu(t){"Online"===this.state?this.gu("Unknown"):(this.du++,this.du>=1&&(this.Iu(),this.yu(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.gu("Offline")))}set(t){this.Iu(),this.du=0,"Online"===t&&(this.wu=!1),this.gu(t)}gu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}yu(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.wu?(nr(e),this.wu=!1):er("OnlineStateTracker",e)}Iu(){null!==this._u&&(this._u.cancel(),this._u=null)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(t,e,n,i,r){this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.Tu=[],this.Eu=new Map,this.Au=new Set,this.Ru=[],this.vu=r,this.vu.Jr((t=>{n.enqueueAndForget((async()=>{Ll(this)&&(er("RemoteStore","Restarting streams for network reachability change."),await async function(t){const e=ar(t);e.Au.add(4),await El(e),e.Pu.set("Unknown"),e.Au.delete(4),await Tl(e)}(this))}))})),this.Pu=new wl(n,i)}}async function Tl(t){if(Ll(t))for(const e of t.Ru)await e(!0)}async function El(t){for(const e of t.Ru)await e(!1)}function Sl(t,e){const n=ar(t);n.Eu.has(e.targetId)||(n.Eu.set(e.targetId,e),Al(n)?kl(n):Kl(n).Uo()&&Il(n,e))}function xl(t,e){const n=ar(t),i=Kl(n);n.Eu.delete(e),i.Uo()&&Cl(n,e),0===n.Eu.size&&(i.Uo()?i.Qo():Ll(n)&&n.Pu.set("Unknown"))}function Il(t,e){if(t.bu.Lt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Sr.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Kl(t).nu(e)}function Cl(t,e){t.bu.Lt(e),Kl(t).su(e)}function kl(t){t.bu=new Fa({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),he:e=>t.Eu.get(e)||null,oe:()=>t.datastore.serializer.databaseId}),Kl(t).start(),t.Pu.mu()}function Al(t){return Ll(t)&&!Kl(t).qo()&&t.Eu.size>0}function Ll(t){return 0===ar(t).Au.size}function Pl(t){t.bu=void 0}async function Rl(t){t.Eu.forEach(((e,n)=>{Il(t,e)}))}async function Ol(t,e){Pl(t),Al(t)?(t.Pu.pu(e),kl(t)):t.Pu.set("Unknown")}async function Nl(t,e,n){if(t.Pu.set("Online"),e instanceof Da&&2===e.state&&e.cause)try{await async function(t,e){const n=e.cause;for(const i of e.targetIds)t.Eu.has(i)&&(await t.remoteSyncer.rejectListen(i,n),t.Eu.delete(i),t.bu.removeTarget(i))}(t,e)}catch(n){er("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await Ml(t,n)}else if(e instanceof Na?t.bu.Wt(e):e instanceof Ma?t.bu.ee(e):t.bu.Yt(e),!n.isEqual(Sr.min()))try{const e=await Gc(t.localStore);n.compareTo(e)>=0&&await function(t,e){const n=t.bu.ue(e);return n.targetChanges.forEach(((n,i)=>{if(n.resumeToken.approximateByteSize()>0){const r=t.Eu.get(i);r&&t.Eu.set(i,r.withResumeToken(n.resumeToken,e))}})),n.targetMismatches.forEach(((e,n)=>{const i=t.Eu.get(e);if(!i)return;t.Eu.set(e,i.withResumeToken(io.EMPTY_BYTE_STRING,i.snapshotVersion)),Cl(t,e);const r=new bc(i.target,e,n,i.sequenceNumber);Il(t,r)})),t.remoteSyncer.applyRemoteEvent(n)}(t,n)}catch(e){er("RemoteStore","Failed to raise snapshot:",e),await Ml(t,e)}}async function Ml(t,e,n){if(!Br(e))throw e;t.Au.add(1),await El(t),t.Pu.set("Offline"),n||(n=()=>Gc(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{er("RemoteStore","Retrying IndexedDB access"),await n(),t.Au.delete(1),await Tl(t)}))}function Dl(t,e){return e().catch((n=>Ml(t,n,e)))}async function Ul(t){const e=ar(t),n=Gl(e);let i=e.Tu.length>0?e.Tu[e.Tu.length-1].batchId:-1;for(;Fl(e);)try{const t=await Qc(e.localStore,i);if(null===t){0===e.Tu.length&&n.Qo();break}i=t.batchId,Bl(e,t)}catch(t){await Ml(e,t)}zl(e)&&Vl(e)}function Fl(t){return Ll(t)&&t.Tu.length<10}function Bl(t,e){t.Tu.push(e);const n=Gl(t);n.Uo()&&n.ru&&n.ou(e.mutations)}function zl(t){return Ll(t)&&!Gl(t).qo()&&t.Tu.length>0}function Vl(t){Gl(t).start()}async function jl(t){Gl(t).au()}async function $l(t){const e=Gl(t);for(const n of t.Tu)e.ou(n.mutations)}async function Hl(t,e,n){const i=t.Tu.shift(),r=_a.from(i,e,n);await Dl(t,(()=>t.remoteSyncer.applySuccessfulWrite(r))),await Ul(t)}async function ql(t,e){e&&Gl(t).ru&&await async function(t,e){if(n=e.code,Ta(n)&&n!==cr.ABORTED){const n=t.Tu.shift();Gl(t).Go(),await Dl(t,(()=>t.remoteSyncer.rejectFailedWrite(n.batchId,e))),await Ul(t)}var n}(t,e),zl(t)&&Vl(t)}async function Wl(t,e){const n=ar(t);n.asyncQueue.verifyOperationInProgress(),er("RemoteStore","RemoteStore received new credentials");const i=Ll(n);n.Au.add(3),await El(n),i&&n.Pu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Au.delete(3),await Tl(n)}async function Zl(t,e){const n=ar(t);e?(n.Au.delete(2),await Tl(n)):e||(n.Au.add(2),await El(n),n.Pu.set("Unknown"))}function Kl(t){return t.Vu||(t.Vu=function(t,e,n){const i=ar(t);return i.lu(),new _l(e,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,n)
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}(t.datastore,t.asyncQueue,{oo:Rl.bind(null,t),co:Ol.bind(null,t),eu:Nl.bind(null,t)}),t.Ru.push((async e=>{e?(t.Vu.Go(),Al(t)?kl(t):t.Pu.set("Unknown")):(await t.Vu.stop(),Pl(t))}))),t.Vu}function Gl(t){return t.Su||(t.Su=function(t,e,n){const i=ar(t);return i.lu(),new vl(e,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,n)}(t.datastore,t.asyncQueue,{oo:jl.bind(null,t),co:ql.bind(null,t),cu:$l.bind(null,t),uu:Hl.bind(null,t)}),t.Ru.push((async e=>{e?(t.Su.Go(),await Ul(t)):(await t.Su.stop(),t.Tu.length>0&&(er("RemoteStore",`Stopping write stream with ${t.Tu.length} pending writes`),t.Tu=[]))}))),t.Su
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class Jl{constructor(t,e,n,i,r){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=i,this.removalCallback=r,this.deferred=new ur,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((t=>{}))}static createAndSchedule(t,e,n,i,r){const o=Date.now()+n,s=new Jl(t,e,o,i,r);return s.start(n),s}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new lr(cr.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Xl(t,e){if(nr("AsyncQueue",`${e}: ${t}`),Br(t))return new lr(cr.UNAVAILABLE,`${e}: ${t}`);throw t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(t){this.comparator=t?(e,n)=>t(e,n)||Ar.comparator(e.key,n.key):(t,e)=>Ar.comparator(t.key,e.key),this.keyedMap=ks(),this.sortedSet=new Jr(this.comparator)}static emptySet(t){return new Ql(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,n)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Ql))return!1;if(this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();for(;e.hasNext();){const t=e.getNext().key,i=n.getNext().key;if(!t.isEqual(i))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const n=new Ql;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=e,n}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(){this.Du=new Jr(Ar.comparator)}track(t){const e=t.doc.key,n=this.Du.get(e);n?0!==t.type&&3===n.type?this.Du=this.Du.insert(e,t):3===t.type&&1!==n.type?this.Du=this.Du.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Du=this.Du.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Du=this.Du.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Du=this.Du.remove(e):1===t.type&&2===n.type?this.Du=this.Du.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Du=this.Du.insert(e,{type:2,doc:t.doc}):or():this.Du=this.Du.insert(e,t)}Cu(){const t=[];return this.Du.inorderTraversal(((e,n)=>{t.push(n)})),t}}class tu{constructor(t,e,n,i,r,o,s,a,c){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=r,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a,this.hasCachedResults=c}static fromInitialDocuments(t,e,n,i,r){const o=[];return e.forEach((t=>{o.push({type:0,doc:t})})),new tu(t,e,Ql.emptySet(e),o,n,i,!0,!1,r)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&_s(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(let i=0;i<e.length;i++)if(e[i].type!==n[i].type||!e[i].doc.isEqual(n[i].doc))return!1;return!0}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(){this.xu=void 0,this.listeners=[]}}class nu{constructor(){this.queries=new Ss((t=>vs(t)),_s),this.onlineState="Unknown",this.Nu=new Set}}async function iu(t,e){const n=ar(t),i=e.query;let r=!1,o=n.queries.get(i);if(o||(r=!0,o=new eu),r)try{o.xu=await n.onListen(i)}catch(t){const n=Xl(t,`Initialization of query '${ys(e.query)}' failed`);return void e.onError(n)}n.queries.set(i,o),o.listeners.push(e),e.ku(n.onlineState),o.xu&&e.Mu(o.xu)&&au(n)}async function ru(t,e){const n=ar(t),i=e.query;let r=!1;const o=n.queries.get(i);if(o){const t=o.listeners.indexOf(e);t>=0&&(o.listeners.splice(t,1),r=0===o.listeners.length)}if(r)return n.queries.delete(i),n.onUnlisten(i)}function ou(t,e){const n=ar(t);let i=!1;for(const r of e){const t=r.query,e=n.queries.get(t);if(e){for(const t of e.listeners)t.Mu(r)&&(i=!0);e.xu=r}}i&&au(n)}function su(t,e,n){const i=ar(t),r=i.queries.get(e);if(r)for(const o of r.listeners)o.onError(n);i.queries.delete(e)}function au(t){t.Nu.forEach((t=>{t.next()}))}class cu{constructor(t,e,n){this.query=t,this.Ou=e,this.$u=!1,this.Fu=null,this.onlineState="Unknown",this.options=n||{}}Mu(t){if(!this.options.includeMetadataChanges){const e=[];for(const n of t.docChanges)3!==n.type&&e.push(n);t=new tu(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.$u?this.Bu(t)&&(this.Ou.next(t),e=!0):this.Lu(t,this.onlineState)&&(this.qu(t),e=!0),this.Fu=t,e}onError(t){this.Ou.error(t)}ku(t){this.onlineState=t;let e=!1;return this.Fu&&!this.$u&&this.Lu(this.Fu,t)&&(this.qu(this.Fu),e=!0),e}Lu(t,e){if(!t.fromCache)return!0;const n="Offline"!==e;return(!this.options.Uu||!n)&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}Bu(t){if(t.docChanges.length>0)return!0;const e=this.Fu&&this.Fu.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&!0===this.options.includeMetadataChanges}qu(t){t=tu.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.$u=!0,this.Ou.next(t)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class lu{constructor(t){this.key=t}}class uu{constructor(t){this.key=t}}class hu{constructor(t,e){this.query=t,this.Ju=e,this.Yu=null,this.hasCachedResults=!1,this.current=!1,this.Xu=Ms(),this.mutatedKeys=Ms(),this.Zu=Ts(t),this.tc=new Ql(this.Zu)}get ec(){return this.Ju}nc(t,e){const n=e?e.sc:new Yl,i=e?e.tc:this.tc;let r=e?e.mutatedKeys:this.mutatedKeys,o=i,s=!1;const a="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal(((t,e)=>{const l=i.get(t),u=ws(this.query,e)?e:null,h=!!l&&this.mutatedKeys.has(l.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;l&&u?l.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),f=!0):this.ic(l,u)||(n.track({type:2,doc:u}),f=!0,(a&&this.Zu(u,a)>0||c&&this.Zu(u,c)<0)&&(s=!0)):!l&&u?(n.track({type:0,doc:u}),f=!0):l&&!u&&(n.track({type:1,doc:l}),f=!0,(a||c)&&(s=!0)),f&&(u?(o=o.add(u),r=d?r.add(t):r.delete(t)):(o=o.delete(t),r=r.delete(t)))})),null!==this.query.limit)for(;o.size>this.query.limit;){const t="F"===this.query.limitType?o.last():o.first();o=o.delete(t.key),r=r.delete(t.key),n.track({type:1,doc:t})}return{tc:o,sc:n,ji:s,mutatedKeys:r}}ic(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,n){const i=this.tc;this.tc=t.tc,this.mutatedKeys=t.mutatedKeys;const r=t.sc.Cu();r.sort(((t,e)=>function(t,e){const n=t=>{switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return or()}};return n(t)-n(e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t.type,e.type)||this.Zu(t.doc,e.doc))),this.rc(n);const o=e?this.oc():[],s=0===this.Xu.size&&this.current?1:0,a=s!==this.Yu;return this.Yu=s,0!==r.length||a?{snapshot:new tu(this.query,t.tc,i,r,t.mutatedKeys,0===s,a,!1,!!n&&n.resumeToken.approximateByteSize()>0),uc:o}:{uc:o}}ku(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({tc:this.tc,sc:new Yl,mutatedKeys:this.mutatedKeys,ji:!1},!1)):{uc:[]}}cc(t){return!this.Ju.has(t)&&!!this.tc.has(t)&&!this.tc.get(t).hasLocalMutations}rc(t){t&&(t.addedDocuments.forEach((t=>this.Ju=this.Ju.add(t))),t.modifiedDocuments.forEach((t=>{})),t.removedDocuments.forEach((t=>this.Ju=this.Ju.delete(t))),this.current=t.current)}oc(){if(!this.current)return[];const t=this.Xu;this.Xu=Ms(),this.tc.forEach((t=>{this.cc(t.key)&&(this.Xu=this.Xu.add(t.key))}));const e=[];return t.forEach((t=>{this.Xu.has(t)||e.push(new uu(t))})),this.Xu.forEach((n=>{t.has(n)||e.push(new lu(n))})),e}ac(t){this.Ju=t.sr,this.Xu=Ms();const e=this.nc(t.documents);return this.applyChanges(e,!0)}hc(){return tu.fromInitialDocuments(this.query,this.tc,this.mutatedKeys,0===this.Yu,this.hasCachedResults)}}class du{constructor(t,e,n){this.query=t,this.targetId=e,this.view=n}}class fu{constructor(t){this.key=t,this.lc=!1}}class pu{constructor(t,e,n,i,r,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=i,this.currentUser=r,this.maxConcurrentLimboResolutions=o,this.fc={},this.dc=new Ss((t=>vs(t)),_s),this._c=new Map,this.wc=new Set,this.mc=new Jr(Ar.comparator),this.gc=new Map,this.yc=new Nc,this.Ic={},this.Tc=new Map,this.Ec=kc.kn(),this.onlineState="Unknown",this.Ac=void 0}get isPrimaryClient(){return!0===this.Ac}}async function mu(t,e){const n=Nu(t);let i,r;const o=n.dc.get(e);if(o)i=o.targetId,n.sharedClientState.addLocalQueryTarget(i),r=o.view.hc();else{const t=await Yc(n.localStore,ps(e)),o=n.sharedClientState.addLocalQueryTarget(t.targetId);i=t.targetId,r=await gu(n,e,i,"current"===o,t.resumeToken),n.isPrimaryClient&&Sl(n.remoteStore,t)}return r}async function gu(t,e,n,i,r){t.Rc=(e,n,i)=>async function(t,e,n,i){let r=e.view.nc(n);r.ji&&(r=await el(t.localStore,e.query,!1).then((({documents:t})=>e.view.nc(t,r))));const o=i&&i.targetChanges.get(e.targetId),s=e.view.applyChanges(r,t.isPrimaryClient,o);return ku(t,e.targetId,s.uc),s.snapshot}(t,e,n,i);const o=await el(t.localStore,e,!0),s=new hu(e,o.sr),a=s.nc(o.documents),c=Oa.createSynthesizedTargetChangeForCurrentChange(n,i&&"Offline"!==t.onlineState,r),l=s.applyChanges(a,t.isPrimaryClient,c);ku(t,n,l.uc);const u=new du(e,n,s);return t.dc.set(e,u),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),l.snapshot}async function _u(t,e){const n=ar(t),i=n.dc.get(e),r=n._c.get(i.targetId);if(r.length>1)return n._c.set(i.targetId,r.filter((t=>!_s(t,e)))),void n.dc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await tl(n.localStore,i.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(i.targetId),xl(n.remoteStore,i.targetId),Iu(n,i.targetId)})).catch(Ur)):(Iu(n,i.targetId),await tl(n.localStore,i.targetId,!0))}async function vu(t,e,n){const i=Mu(t);try{const t=await function(t,e){const n=ar(t),i=Er.now(),r=e.reduce(((t,e)=>t.add(e.key)),Ms());let o,s;return n.persistence.runTransaction("Locally write mutations","readwrite",(t=>{let a=Is(),c=Ms();return n.Xi.getEntries(t,r).next((t=>{a=t,a.forEach(((t,e)=>{e.isValidDocument()||(c=c.add(t))}))})).next((()=>n.localDocuments.getOverlayedDocuments(t,a))).next((r=>{o=r;const s=[];for(const t of e){const e=aa(t,o.get(t.key).overlayedDocument);null!=e&&s.push(new ua(t.key,e,Po(e.value.mapValue),ea.exists(!0)))}return n.mutationQueue.addMutationBatch(t,i,s,e)})).next((e=>{s=e;const i=e.applyToLocalDocumentSet(o,c);return n.documentOverlayCache.saveOverlays(t,e.batchId,i)}))})).then((()=>({batchId:s.batchId,changes:As(o)})))}(i.localStore,e);i.sharedClientState.addPendingMutation(t.batchId),function(t,e,n){let i=t.Ic[t.currentUser.toKey()];i||(i=new Jr(br)),i=i.insert(e,n),t.Ic[t.currentUser.toKey()]=i}(i,t.batchId,n),await Pu(i,t.changes),await Ul(i.remoteStore)}catch(t){const e=Xl(t,"Failed to persist write");n.reject(e)}}async function yu(t,e){const n=ar(t);try{const t=await Jc(n.localStore,e);e.targetChanges.forEach(((t,e)=>{const i=n.gc.get(e);i&&(sr(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?i.lc=!0:t.modifiedDocuments.size>0?sr(i.lc):t.removedDocuments.size>0&&(sr(i.lc),i.lc=!1))})),await Pu(n,t,e)}catch(t){await Ur(t)}}function wu(t,e,n){const i=ar(t);if(i.isPrimaryClient&&0===n||!i.isPrimaryClient&&1===n){const t=[];i.dc.forEach(((n,i)=>{const r=i.view.ku(e);r.snapshot&&t.push(r.snapshot)})),function(t,e){const n=ar(t);n.onlineState=e;let i=!1;n.queries.forEach(((t,n)=>{for(const r of n.listeners)r.ku(e)&&(i=!0)})),i&&au(n)}(i.eventManager,e),t.length&&i.fc.eu(t),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function bu(t,e,n){const i=ar(t);i.sharedClientState.updateQueryState(e,"rejected",n);const r=i.gc.get(e),o=r&&r.key;if(o){let t=new Jr(Ar.comparator);t=t.insert(o,Ro.newNoDocument(o,Sr.min()));const n=Ms().add(o),r=new Ra(Sr.min(),new Map,new Jr(br),t,n);await yu(i,r),i.mc=i.mc.remove(o),i.gc.delete(e),Lu(i)}else await tl(i.localStore,e,!1).then((()=>Iu(i,e,n))).catch(Ur)}async function Tu(t,e){const n=ar(t),i=e.batch.batchId;try{const t=await Kc(n.localStore,e);xu(n,i,null),Su(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Pu(n,t)}catch(t){await Ur(t)}}async function Eu(t,e,n){const i=ar(t);try{const t=await function(t,e){const n=ar(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(t=>{let i;return n.mutationQueue.lookupMutationBatch(t,e).next((e=>(sr(null!==e),i=e.keys(),n.mutationQueue.removeMutationBatch(t,e)))).next((()=>n.mutationQueue.performConsistencyCheck(t))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(t,i,e))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(t,i))).next((()=>n.localDocuments.getDocuments(t,i)))}))}(i.localStore,e);xu(i,e,n),Su(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Pu(i,t)}catch(n){await Ur(n)}}function Su(t,e){(t.Tc.get(e)||[]).forEach((t=>{t.resolve()})),t.Tc.delete(e)}function xu(t,e,n){const i=ar(t);let r=i.Ic[i.currentUser.toKey()];if(r){const t=r.get(e);t&&(n?t.reject(n):t.resolve(),r=r.remove(e)),i.Ic[i.currentUser.toKey()]=r}}function Iu(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t._c.get(e))t.dc.delete(i),n&&t.fc.vc(i,n);t._c.delete(e),t.isPrimaryClient&&t.yc.ps(e).forEach((e=>{t.yc.containsKey(e)||Cu(t,e)}))}function Cu(t,e){t.wc.delete(e.path.canonicalString());const n=t.mc.get(e);null!==n&&(xl(t.remoteStore,n),t.mc=t.mc.remove(e),t.gc.delete(n),Lu(t))}function ku(t,e,n){for(const i of n)i instanceof lu?(t.yc.addReference(i.key,e),Au(t,i)):i instanceof uu?(er("SyncEngine","Document no longer in limbo: "+i.key),t.yc.removeReference(i.key,e),t.yc.containsKey(i.key)||Cu(t,i.key)):or()}function Au(t,e){const n=e.key,i=n.path.canonicalString();t.mc.get(n)||t.wc.has(i)||(er("SyncEngine","New document in limbo: "+n),t.wc.add(i),Lu(t))}function Lu(t){for(;t.wc.size>0&&t.mc.size<t.maxConcurrentLimboResolutions;){const e=t.wc.values().next().value;t.wc.delete(e);const n=new Ar(Ir.fromString(e)),i=t.Ec.next();t.gc.set(i,new fu(n)),t.mc=t.mc.insert(n,i),Sl(t.remoteStore,new bc(ps(cs(n.path)),i,"TargetPurposeLimboResolution",zr.ct))}}async function Pu(t,e,n){const i=ar(t),r=[],o=[],s=[];i.dc.isEmpty()||(i.dc.forEach(((t,a)=>{s.push(i.Rc(a,e,n).then((t=>{if((t||n)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(a.targetId,(null==t?void 0:t.fromCache)?"not-current":"current"),t){r.push(t);const e=$c.Bi(a.targetId,t);o.push(e)}})))})),await Promise.all(s),i.fc.eu(r),await async function(t,e){const n=ar(t);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(t=>Fr.forEach(e,(e=>Fr.forEach(e.$i,(i=>n.persistence.referenceDelegate.addReference(t,e.targetId,i))).next((()=>Fr.forEach(e.Fi,(i=>n.persistence.referenceDelegate.removeReference(t,e.targetId,i)))))))))}catch(t){if(!Br(t))throw t;er("LocalStore","Failed to update sequence numbers: "+t)}for(const i of e){const t=i.targetId;if(!i.fromCache){const e=n.Hi.get(t),i=e.snapshotVersion,r=e.withLastLimboFreeSnapshotVersion(i);n.Hi=n.Hi.insert(t,r)}}}(i.localStore,o))}async function Ru(t,e){const n=ar(t);if(!n.currentUser.isEqual(e)){er("SyncEngine","User change. New user:",e.toKey());const t=await Zc(n.localStore,e);n.currentUser=e,function(t,e){t.Tc.forEach((t=>{t.forEach((t=>{t.reject(new lr(cr.CANCELLED,e))}))})),t.Tc.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,t.removedBatchIds,t.addedBatchIds),await Pu(n,t.tr)}}function Ou(t,e){const n=ar(t),i=n.gc.get(e);if(i&&i.lc)return Ms().add(i.key);{let t=Ms();const i=n._c.get(e);if(!i)return t;for(const e of i){const i=n.dc.get(e);t=t.unionWith(i.view.ec)}return t}}function Nu(t){const e=ar(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=yu.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ou.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=bu.bind(null,e),e.fc.eu=ou.bind(null,e.eventManager),e.fc.vc=su.bind(null,e.eventManager),e}function Mu(t){const e=ar(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Tu.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Eu.bind(null,e),e}class Du{constructor(){this.synchronizeTabs=!1}async initialize(t){this.serializer=pl(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),await this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)}createGarbageCollectionScheduler(t,e){return null}createIndexBackfillerScheduler(t,e){return null}createLocalStore(t){return Wc(this.persistence,new Hc,t.initialUser,this.serializer)}createPersistence(t){return new zc(jc.js,this.serializer)}createSharedClientState(t){return new rl}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Uu{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=t=>wu(this.syncEngine,t,1),this.remoteStore.remoteSyncer.handleCredentialChange=Ru.bind(null,this.syncEngine),await Zl(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return new nu}createDatastore(t){const e=pl(t.databaseInfo.databaseId),n=(i=t.databaseInfo,new dl(i));var i;return function(t,e,n,i){return new yl(t,e,n,i)}(t.authCredentials,t.appCheckCredentials,n,e)}createRemoteStore(t){return e=this.localStore,n=this.datastore,i=t.asyncQueue,r=t=>wu(this.syncEngine,t,0),o=sl.D()?new sl:new ol,new bl(e,n,i,r,o);var e,n,i,r,o}createSyncEngine(t,e){return function(t,e,n,i,r,o,s){const a=new pu(t,e,n,i,r,o);return s&&(a.Ac=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return async function(t){const e=ar(t);er("RemoteStore","RemoteStore shutting down."),e.Au.add(5),await El(e),e.vu.shutdown(),e.Pu.set("Unknown")}(this.remoteStore)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Fu{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Vc(this.observer.next,t)}error(t){this.observer.error?this.Vc(this.observer.error,t):nr("Uncaught Error in snapshot listener:",t.toString())}Sc(){this.muted=!0}Vc(t,e){this.muted||setTimeout((()=>{this.muted||t(e)}),0)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Bu{constructor(t,e,n,i){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=n,this.databaseInfo=i,this.user=Xi.UNAUTHENTICATED,this.clientId=wr.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async t=>{er("FirestoreClient","Received user=",t.uid),await this.authCredentialListener(t),this.user=t})),this.appCheckCredentials.start(n,(t=>(er("FirestoreClient","Received new app check token=",t),this.appCheckCredentialListener(t,this.user))))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new lr(cr.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ur;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const n=Xl(e,"Failed to shutdown persistence");t.reject(n)}})),t.promise}}async function zu(t,e){t.asyncQueue.verifyOperationInProgress(),er("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener((async t=>{i.isEqual(t)||(await Zc(e.localStore,t),i=t)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function Vu(t,e){t.asyncQueue.verifyOperationInProgress();const n=await $u(t);er("FirestoreClient","Initializing OnlineComponentProvider");const i=await t.getConfiguration();await e.initialize(n,i),t.setCredentialChangeListener((t=>Wl(e.remoteStore,t))),t.setAppCheckTokenChangeListener(((t,n)=>Wl(e.remoteStore,n))),t._onlineComponents=e}function ju(t){return"FirebaseError"===t.name?t.code===cr.FAILED_PRECONDITION||t.code===cr.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}async function $u(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){er("FirestoreClient","Using user provided OfflineComponentProvider");try{await zu(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!ju(n))throw n;ir("Error using user provided cache. Falling back to memory cache: "+n),await zu(t,new Du)}}else er("FirestoreClient","Using default OfflineComponentProvider"),await zu(t,new Du);return t._offlineComponents}async function Hu(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(er("FirestoreClient","Using user provided OnlineComponentProvider"),await Vu(t,t._uninitializedComponentsProvider._online)):(er("FirestoreClient","Using default OnlineComponentProvider"),await Vu(t,new Uu))),t._onlineComponents}function qu(t){return Hu(t).then((t=>t.syncEngine))}async function Wu(t){const e=await Hu(t),n=e.eventManager;return n.onListen=mu.bind(null,e.syncEngine),n.onUnlisten=_u.bind(null,e.syncEngine),n}function Zu(t,e,n={}){const i=new ur;return t.asyncQueue.enqueueAndForget((async()=>function(t,e,n,i,r){const o=new Fu({next:n=>{e.enqueueAndForget((()=>ru(t,s))),n.fromCache&&"server"===i.source?r.reject(new lr(cr.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):r.resolve(n)},error:t=>r.reject(t)}),s=new cu(n,o,{includeMetadataChanges:!0,Uu:!0});return iu(t,s)}(await Wu(t),t.asyncQueue,e,n,i))),i.promise}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Ku=new Map;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gu(t,e,n){if(!n)throw new lr(cr.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Ju(t,e,n,i){if(!0===e&&!0===i)throw new lr(cr.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Xu(t){if(!Ar.isDocumentKey(t))throw new lr(cr.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Qu(t){if(Ar.isDocumentKey(t))throw new lr(cr.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Yu(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=function(t){return t.constructor?t.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return"function"==typeof t?"a function":or()}function th(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new lr(cr.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Yu(t);throw new lr(cr.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class eh{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new lr(cr.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new lr(cr.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Ju("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling||void 0===t.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!1:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(t,e,n,i){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new eh({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new lr(cr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new lr(cr.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new eh(t),void 0!==t.credentials&&(this._authCredentials=function(t){if(!t)return new dr;switch(t.type){case"firstParty":return new gr(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new lr(cr.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=Ku.get(t);e&&(er("ComponentProvider","Removing Datastore"),Ku.delete(t),e.terminate())}(this),Promise.resolve()}}function ih(t,e,n,i={}){var r;const o=(t=th(t,nh))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==e&&ir("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},o),{host:`${e}:${n}`,ssl:!1})),i.mockUserToken){let e,n;if("string"==typeof i.mockUserToken)e=i.mockUserToken,n=Xi.MOCK_USER;else{e=(0,a.Sg)(i.mockUserToken,null===(r=t._app)||void 0===r?void 0:r.options.projectId);const o=i.mockUserToken.sub||i.mockUserToken.user_id;if(!o)throw new lr(cr.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Xi(o)}t._authCredentials=new fr(new hr(e,n))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new sh(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new rh(this.firestore,t,this._key)}}class oh{constructor(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new oh(this.firestore,t,this._query)}}class sh extends oh{constructor(t,e,n){super(t,e,cs(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new rh(this.firestore,null,new Ar(t))}withConverter(t){return new sh(this.firestore,t,this._path)}}function ah(t,e,...n){if(t=(0,a.m9)(t),Gu("collection","path",e),t instanceof nh){const i=Ir.fromString(e,...n);return Qu(i),new sh(t,null,i)}{if(!(t instanceof rh||t instanceof sh))throw new lr(cr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Ir.fromString(e,...n));return Qu(i),new sh(t.firestore,null,i)}}function ch(t,e,...n){if(t=(0,a.m9)(t),1===arguments.length&&(e=wr.A()),Gu("doc","path",e),t instanceof nh){const i=Ir.fromString(e,...n);return Xu(i),new rh(t,null,new Ar(i))}{if(!(t instanceof rh||t instanceof sh))throw new lr(cr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Ir.fromString(e,...n));return Xu(i),new rh(t.firestore,t instanceof sh?t.converter:null,new Ar(i))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class lh{constructor(){this.Kc=Promise.resolve(),this.Gc=[],this.Qc=!1,this.jc=[],this.zc=null,this.Wc=!1,this.Hc=!1,this.Jc=[],this.Lo=new ml(this,"async_queue_retry"),this.Yc=()=>{const t=fl();t&&er("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Lo.ko()};const t=fl();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Yc)}get isShuttingDown(){return this.Qc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Xc(),this.Zc(t)}enterRestrictedMode(t){if(!this.Qc){this.Qc=!0,this.Hc=t||!1;const e=fl();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Yc)}}enqueue(t){if(this.Xc(),this.Qc)return new Promise((()=>{}));const e=new ur;return this.Zc((()=>this.Qc&&this.Hc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Gc.push(t),this.ta())))}async ta(){if(0!==this.Gc.length){try{await this.Gc[0](),this.Gc.shift(),this.Lo.reset()}catch(t){if(!Br(t))throw t;er("AsyncQueue","Operation failed with retryable error: "+t)}this.Gc.length>0&&this.Lo.xo((()=>this.ta()))}}Zc(t){const e=this.Kc.then((()=>(this.Wc=!0,t().catch((t=>{this.zc=t,this.Wc=!1;const e=function(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t);throw nr("INTERNAL UNHANDLED ERROR: ",e),t})).then((t=>(this.Wc=!1,t))))));return this.Kc=e,e}enqueueAfterDelay(t,e,n){this.Xc(),this.Jc.indexOf(t)>-1&&(e=0);const i=Jl.createAndSchedule(this,t,e,n,(t=>this.ea(t)));return this.jc.push(i),i}Xc(){this.zc&&or()}verifyOperationInProgress(){}async na(){let t;do{t=this.Kc,await t}while(t!==this.Kc)}sa(t){for(const e of this.jc)if(e.timerId===t)return!0;return!1}ia(t){return this.na().then((()=>{this.jc.sort(((t,e)=>t.targetTimeMs-e.targetTimeMs));for(const e of this.jc)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.na()}))}ra(t){this.Jc.push(t)}ea(t){const e=this.jc.indexOf(t);this.jc.splice(e,1)}}class uh extends nh{constructor(t,e,n,i){super(t,e,n,i),this.type="firestore",this._queue=new lh,this._persistenceKey=(null==i?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||fh(this),this._firestoreClient.terminate()}}function hh(t,e){const n="object"==typeof t?t:(0,r.Mq)(),i="string"==typeof t?t:e||"(default)",o=(0,r.qX)(n,"firestore").getImmediate({identifier:i});if(!o._initialized){const t=(0,a.P0)("firestore");t&&ih(o,...t)}return o}function dh(t){return t._firestoreClient||fh(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function fh(t){var e,n,i;const r=t._freezeSettings(),o=function(t,e,n,i){return new ho(t,e,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,i.useFetchStreams)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,r);t._firestoreClient=new Bu(t._authCredentials,t._appCheckCredentials,t._queue,o),(null===(n=r.cache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(i=r.cache)||void 0===i?void 0:i._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.cache.kind,_offline:r.cache._offlineComponentProvider,_online:r.cache._onlineComponentProvider})}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class ph{constructor(t){this._byteString=t}static fromBase64String(t){try{return new ph(io.fromBase64String(t))}catch(t){throw new lr(cr.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(t){return new ph(io.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new lr(cr.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new kr(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class gh{constructor(t){this._methodName=t}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new lr(cr.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new lr(cr.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return br(this._lat,t._lat)||br(this._long,t._long)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vh=/^__.*__$/;class yh{constructor(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}toMutation(t,e){return null!==this.fieldMask?new ua(t,this.data,this.fieldMask,e,this.fieldTransforms):new la(t,this.data,e,this.fieldTransforms)}}function wh(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw or()}}class bh{constructor(t,e,n,i,r,o){this.settings=t,this.databaseId=e,this.serializer=n,this.ignoreUndefinedProperties=i,void 0===r&&this.oa(),this.fieldTransforms=r||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ua(){return this.settings.ua}ca(t){return new bh(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}aa(t){var e;const n=null===(e=this.path)||void 0===e?void 0:e.child(t),i=this.ca({path:n,ha:!1});return i.la(t),i}fa(t){var e;const n=null===(e=this.path)||void 0===e?void 0:e.child(t),i=this.ca({path:n,ha:!1});return i.oa(),i}da(t){return this.ca({path:void 0,ha:!0})}_a(t){return Oh(t,this.settings.methodName,this.settings.wa||!1,this.path,this.settings.ma)}contains(t){return void 0!==this.fieldMask.find((e=>t.isPrefixOf(e)))||void 0!==this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))}oa(){if(this.path)for(let t=0;t<this.path.length;t++)this.la(this.path.get(t))}la(t){if(0===t.length)throw this._a("Document fields must not be empty");if(wh(this.ua)&&vh.test(t))throw this._a('Document fields cannot begin and end with "__"')}}class Th{constructor(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=n||pl(t)}ga(t,e,n,i=!1){return new bh({ua:t,methodName:e,ma:n,path:kr.emptyPath(),ha:!1,wa:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Eh(t){const e=t._freezeSettings(),n=pl(t._databaseId);return new Th(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Sh(t,e,n,i,r,o={}){const s=t.ga(o.merge||o.mergeFields?2:0,e,n,r);Ah("Data must be an object, but it was:",s,i);const a=Ch(i,s);let c,l;if(o.merge)c=new eo(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){const t=[];for(const i of o.mergeFields){const r=Lh(e,i,n);if(!s.contains(r))throw new lr(cr.INVALID_ARGUMENT,`Field '${r}' is specified in your field mask but missing from your input data.`);Nh(t,r)||t.push(r)}c=new eo(t),l=s.fieldTransforms.filter((t=>c.covers(t.field)))}else c=null,l=s.fieldTransforms;return new yh(new Lo(a),c,l)}function xh(t,e,n,i=!1){return Ih(n,t.ga(i?4:3,e))}function Ih(t,e){if(kh(t=(0,a.m9)(t)))return Ah("Unsupported field value:",e,t),Ch(t,e);if(t instanceof gh)return function(t,e){if(!wh(e.ua))throw e._a(`${t._methodName}() can only be used with update() and set()`);if(!e.path)throw e._a(`${t._methodName}() is not currently supported inside arrays`);const n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.ha&&4!==e.ua)throw e._a("Nested arrays are not supported");return function(t,e){const n=[];let i=0;for(const r of t){let t=Ih(r,e.da(i));null==t&&(t={nullValue:"NULL_VALUE"}),n.push(t),i++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=(0,a.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return zs(e.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const n=Er.fromDate(t);return{timestampValue:Wa(e.serializer,n)}}if(t instanceof Er){const n=new Er(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Wa(e.serializer,n)}}if(t instanceof _h)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof ph)return{bytesValue:Za(e.serializer,t._byteString)};if(t instanceof rh){const n=e.databaseId,i=t.firestore._databaseId;if(!i.isEqual(n))throw e._a(`Document reference is for database ${i.projectId}/${i.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:Ja(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e._a(`Unsupported field value: ${Yu(t)}`)}(t,e)}function Ch(t,e){const n={};return Gr(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Kr(t,((t,i)=>{const r=Ih(i,e.aa(t));null!=r&&(n[t]=r)})),{mapValue:{fields:n}}}function kh(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Er||t instanceof _h||t instanceof ph||t instanceof rh||t instanceof gh)}function Ah(t,e,n){if(!kh(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){const i=Yu(n);throw"an object"===i?e._a(t+" a custom object"):e._a(t+" "+i)}}function Lh(t,e,n){if((e=(0,a.m9)(e))instanceof mh)return e._internalPath;if("string"==typeof e)return Rh(t,e);throw Oh("Field path arguments must be of type string or ",t,!1,void 0,n)}const Ph=new RegExp("[~\\*/\\[\\]]");function Rh(t,e,n){if(e.search(Ph)>=0)throw Oh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new mh(...e.split("."))._internalPath}catch(i){throw Oh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Oh(t,e,n,i,r){const o=i&&!i.isEmpty(),s=void 0!==r;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${i}`),s&&(c+=` in document ${r}`),c+=")"),new lr(cr.INVALID_ARGUMENT,a+t+c)}function Nh(t,e){return t.some((t=>t.isEqual(e)))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(t,e,n,i,r){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=i,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new rh(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new Dh(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(Uh("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class Dh extends Mh{data(){return super.data()}}function Uh(t,e){return"string"==typeof e?Rh(t,e):e instanceof mh?e._internalPath:e._delegate._internalPath}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fh(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new lr(cr.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Bh{}class zh extends Bh{}function Vh(t,e,...n){let i=[];e instanceof Bh&&i.push(e),i=i.concat(n),function(t){const e=t.filter((t=>t instanceof Hh)).length,n=t.filter((t=>t instanceof jh)).length;if(e>1||e>0&&n>0)throw new lr(cr.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(i);for(const r of i)t=r._apply(t);return t}class jh extends zh{constructor(t,e,n){super(),this._field=t,this._op=e,this._value=n,this.type="where"}static _create(t,e,n){return new jh(t,e,n)}_apply(t){const e=this._parse(t);return Zh(t._query,e),new oh(t.firestore,t.converter,ms(t._query,e))}_parse(t){const e=Eh(t.firestore),n=function(t,e,n,i,r,o,s){let a;if(r.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new lr(cr.INVALID_ARGUMENT,`Invalid Query. You can't perform '${o}' queries on documentId().`);if("in"===o||"not-in"===o){Wh(s,o);const e=[];for(const n of s)e.push(qh(i,t,n));a={arrayValue:{values:e}}}else a=qh(i,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Wh(s,o),a=xh(n,e,s,"in"===o||"not-in"===o);return Bo.create(r,o,a)}(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value);return n}}function $h(t,e,n){const i=e,r=Uh("where",t);return jh._create(r,i,n)}class Hh extends Bh{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new Hh(t,e)}_parse(t){const e=this._queryConstraints.map((e=>e._parse(t))).filter((t=>t.getFilters().length>0));return 1===e.length?e[0]:zo.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return 0===e.getFilters().length?t:(function(t,e){let n=t;const i=e.getFlattenedFilters();for(const r of i)Zh(n,r),n=ms(n,r)}(t._query,e),new oh(t.firestore,t.converter,ms(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function qh(t,e,n){if("string"==typeof(n=(0,a.m9)(n))){if(""===n)throw new lr(cr.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ds(e)&&-1!==n.indexOf("/"))throw new lr(cr.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(Ir.fromString(n));if(!Ar.isDocumentKey(i))throw new lr(cr.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return To(t,new Ar(i))}if(n instanceof rh)return To(t,n._key);throw new lr(cr.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Yu(n)}.`)}function Wh(t,e){if(!Array.isArray(t)||0===t.length)throw new lr(cr.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Zh(t,e){if(e.isInequality()){const n=hs(t),i=e.field;if(null!==n&&!n.isEqual(i))throw new lr(cr.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${n.toString()}' and '${i.toString()}'`);const r=us(t);null!==r&&Kh(t,i,r)}const n=function(t,e){for(const n of t)for(const t of n.getFlattenedFilters())if(e.indexOf(t.op)>=0)return t.op;return null}(t.filters,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw n===e.op?new lr(cr.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new lr(cr.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function Kh(t,e,n){if(!n.isEqual(e))throw new lr(cr.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class Gh{convertValue(t,e="none"){switch(mo(t)){case 0:return null;case 1:return t.booleanValue;case 2:return so(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(ao(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw or()}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const n={};return Kr(t,((t,i)=>{n[t]=this.convertValue(i,e)})),n}convertGeoPoint(t){return new _h(so(t.latitude),so(t.longitude))}convertArray(t,e){return(t.values||[]).map((t=>this.convertValue(t,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const n=lo(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(uo(t));default:return null}}convertTimestamp(t){const e=oo(t);return new Er(e.seconds,e.nanos)}convertDocumentKey(t,e){const n=Ir.fromString(t);sr(wc(n));const i=new fo(n.get(1),n.get(3)),r=new Ar(n.popFirst(5));return i.isEqual(e)||nr(`Document ${r} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),r}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jh(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Xh{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Qh extends Mh{constructor(t,e,n,i,r,o){super(t,e,n,i,o),this._firestore=t,this._firestoreImpl=t,this.metadata=r}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Yh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const n=this._document.data.field(Uh("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}}}class Yh extends Qh{data(t={}){return super.data(t)}}class td{constructor(t,e,n,i){this._firestore=t,this._userDataWriter=e,this._snapshot=i,this.metadata=new Xh(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach((n=>{t.call(e,new Yh(this._firestore,this._userDataWriter,n.key,n,new Xh(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new lr(cr.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){let e=0;return t._snapshot.docChanges.map((n=>{const i=new Yh(t._firestore,t._userDataWriter,n.doc.key,n.doc,new Xh(t._snapshot.mutatedKeys.has(n.doc.key),t._snapshot.fromCache),t.query.converter);return n.doc,{type:"added",doc:i,oldIndex:-1,newIndex:e++}}))}{let n=t._snapshot.oldDocs;return t._snapshot.docChanges.filter((t=>e||3!==t.type)).map((e=>{const i=new Yh(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Xh(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter);let r=-1,o=-1;return 0!==e.type&&(r=n.indexOf(e.doc.key),n=n.delete(e.doc.key)),1!==e.type&&(n=n.add(e.doc),o=n.indexOf(e.doc.key)),{type:ed(e.type),doc:i,oldIndex:r,newIndex:o}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function ed(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return or()}}class nd extends Gh{constructor(t){super(),this.firestore=t}convertBytes(t){return new ph(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new rh(this.firestore,null,e)}}function id(t){t=th(t,oh);const e=th(t.firestore,uh),n=dh(e),i=new nd(e);return Fh(t._query),Zu(n,t._query).then((n=>new td(e,i,t,n)))}function rd(t,e,n){t=th(t,rh);const i=th(t.firestore,uh),r=Jh(t.converter,e,n);return od(i,[Sh(Eh(i),"setDoc",t._key,r,null!==t.converter,n).toMutation(t._key,ea.none())])}function od(t,e){return function(t,e){const n=new ur;return t.asyncQueue.enqueueAndForget((async()=>vu(await qu(t),e,n))),n.promise}(dh(t),e)}!function(t,e=!0){!function(t){Qi=t}(r.Jn),(0,r.Xd)(new o.wA("firestore",((t,{instanceIdentifier:n,options:i})=>{const r=t.getProvider("app").getImmediate(),o=new uh(new pr(t.getProvider("auth-internal")),new vr(t.getProvider("app-check-internal")),function(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new lr(cr.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fo(t.options.projectId,e)}(r,n),r);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),(0,r.KN)(Ji,"3.11.0",t),(0,r.KN)(Ji,"3.11.0","esm2017")}()},1294:function(t,e,n){"use strict";n.d(e,{Jt:function(){return ie},cF:function(){return oe},iH:function(){return re},KV:function(){return ne}});n(2801),n(7658),n(3767),n(8585),n(8696);var i=n(7077),r=n(223),o=n(7142);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const s="firebasestorage.googleapis.com",a="storageBucket",c=12e4,l=6e5;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class u extends r.ZR{constructor(t,e,n=0){super(f(t),`Firebase Storage: ${e} (${f(t)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,u.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return f(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}\n${this.customData.serverResponse}`:this.message=this._baseMessage}}var h,d;function f(t){return"storage/"+t}function p(){const t="An unknown error occurred, please check the error payload for server response.";return new u(h.UNKNOWN,t)}function m(t){return new u(h.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function g(t){return new u(h.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function _(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new u(h.UNAUTHENTICATED,t)}function v(){return new u(h.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function y(t){return new u(h.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function w(){return new u(h.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function b(){return new u(h.CANCELED,"User canceled the upload/download.")}function T(t){return new u(h.INVALID_URL,"Invalid URL '"+t+"'.")}function E(t){return new u(h.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function S(){return new u(h.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+a+"' property when initializing the app?")}function x(){return new u(h.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function I(){return new u(h.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function C(t){return new u(h.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function k(t){return new u(h.INVALID_ARGUMENT,t)}function A(){return new u(h.APP_DELETED,"The Firebase app was deleted.")}function L(t){return new u(h.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function P(t,e){return new u(h.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function R(t){throw new u(h.INTERNAL_ERROR,"Internal error: "+t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(t){t["UNKNOWN"]="unknown",t["OBJECT_NOT_FOUND"]="object-not-found",t["BUCKET_NOT_FOUND"]="bucket-not-found",t["PROJECT_NOT_FOUND"]="project-not-found",t["QUOTA_EXCEEDED"]="quota-exceeded",t["UNAUTHENTICATED"]="unauthenticated",t["UNAUTHORIZED"]="unauthorized",t["UNAUTHORIZED_APP"]="unauthorized-app",t["RETRY_LIMIT_EXCEEDED"]="retry-limit-exceeded",t["INVALID_CHECKSUM"]="invalid-checksum",t["CANCELED"]="canceled",t["INVALID_EVENT_NAME"]="invalid-event-name",t["INVALID_URL"]="invalid-url",t["INVALID_DEFAULT_BUCKET"]="invalid-default-bucket",t["NO_DEFAULT_BUCKET"]="no-default-bucket",t["CANNOT_SLICE_BLOB"]="cannot-slice-blob",t["SERVER_FILE_WRONG_SIZE"]="server-file-wrong-size",t["NO_DOWNLOAD_URL"]="no-download-url",t["INVALID_ARGUMENT"]="invalid-argument",t["INVALID_ARGUMENT_COUNT"]="invalid-argument-count",t["APP_DELETED"]="app-deleted",t["INVALID_ROOT_OPERATION"]="invalid-root-operation",t["INVALID_FORMAT"]="invalid-format",t["INTERNAL_ERROR"]="internal-error",t["UNSUPPORTED_ENVIRONMENT"]="unsupported-environment"})(h||(h={}));class O{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let n;try{n=O.makeFromUrl(t,e)}catch(i){return new O(t,"")}if(""===n.path)return n;throw E(t)}static makeFromUrl(t,e){let n=null;const i="([A-Za-z0-9.\\-_]+)";function r(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),c={bucket:1,path:3};function l(t){t.path_=decodeURIComponent(t.path)}const u="v[A-Za-z0-9_]+",h=e.replace(/[.]/g,"\\."),d="(/([^?#]*).*)?$",f=new RegExp(`^https?://${h}/${u}/b/${i}/o${d}`,"i"),p={bucket:1,path:3},m=e===s?"(?:storage.googleapis.com|storage.cloud.google.com)":e,g="([^?#]*)",_=new RegExp(`^https?://${m}/${i}/${g}`,"i"),v={bucket:1,path:2},y=[{regex:a,indices:c,postModify:r},{regex:f,indices:p,postModify:l},{regex:_,indices:v,postModify:l}];for(let s=0;s<y.length;s++){const e=y[s],i=e.regex.exec(t);if(i){const t=i[e.indices.bucket];let r=i[e.indices.path];r||(r=""),n=new O(t,r),e.postModify(n);break}}if(null==n)throw T(t);return n}}class N{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M(t,e,n){let i=1,r=null,o=null,s=!1,a=0;function c(){return 2===a}let l=!1;function u(...t){l||(l=!0,e.apply(null,t))}function h(e){r=setTimeout((()=>{r=null,t(f,c())}),e)}function d(){o&&clearTimeout(o)}function f(t,...e){if(l)return void d();if(t)return d(),void u.call(null,t,...e);const n=c()||s;if(n)return d(),void u.call(null,t,...e);let r;i<64&&(i*=2),1===a?(a=2,r=0):r=1e3*(i+Math.random()),h(r)}let p=!1;function m(t){p||(p=!0,d(),l||(null!==r?(t||(a=2),clearTimeout(r),h(0)):t||(a=1)))}return h(0),o=setTimeout((()=>{s=!0,m(!0)}),n),m}function D(t){t(!1)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U(t){return void 0!==t}function F(t){return"object"===typeof t&&!Array.isArray(t)}function B(t){return"string"===typeof t||t instanceof String}function z(t){return V()&&t instanceof Blob}function V(){return"undefined"!==typeof Blob&&!(0,r.UG)()}function j(t,e,n,i){if(i<e)throw k(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw k(`Invalid value for '${t}'. Expected ${n} or less.`)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $(t,e,n){let i=e;return null==n&&(i=`https://${e}`),`${n}://${i}/v0${t}`}function H(t){const e=encodeURIComponent;let n="?";for(const i in t)if(t.hasOwnProperty(i)){const r=e(i)+"="+e(t[i]);n=n+r+"&"}return n=n.slice(0,-1),n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function q(t,e){const n=t>=500&&t<600,i=[408,429],r=-1!==i.indexOf(t),o=-1!==e.indexOf(t);return n||r||o}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(t){t[t["NO_ERROR"]=0]="NO_ERROR",t[t["NETWORK_ERROR"]=1]="NETWORK_ERROR",t[t["ABORT"]=2]="ABORT"})(d||(d={}));class W{constructor(t,e,n,i,r,o,s,a,c,l,u,h=!0){this.url_=t,this.method_=e,this.headers_=n,this.body_=i,this.successCodes_=r,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=a,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=u,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((t,e)=>{this.resolve_=t,this.reject_=e,this.start_()}))}start_(){const t=(t,e)=>{if(e)return void t(!1,new Z(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const i=t=>{const e=t.loaded,n=t.lengthComputable?t.total:-1;null!==this.progressCallback_&&this.progressCallback_(e,n)};null!==this.progressCallback_&&n.addUploadProgressListener(i),n.send(this.url_,this.method_,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(i),this.pendingConnection_=null;const e=n.getErrorCode()===d.NO_ERROR,r=n.getStatus();if(!e||q(r,this.additionalRetryCodes_)&&this.retry){const e=n.getErrorCode()===d.ABORT;return void t(!1,new Z(!1,null,e))}const o=-1!==this.successCodes_.indexOf(r);t(!0,new Z(o,n))}))},e=(t,e)=>{const n=this.resolve_,i=this.reject_,r=e.connection;if(e.wasSuccessCode)try{const t=this.callback_(r,r.getResponse());U(t)?n(t):n()}catch(o){i(o)}else if(null!==r){const t=p();t.serverResponse=r.getErrorText(),this.errorCallback_?i(this.errorCallback_(r,t)):i(t)}else if(e.canceled){const t=this.appDelete_?A():b();i(t)}else{const t=w();i(t)}};this.canceled_?e(!1,new Z(!1,null,!0)):this.backoffId_=M(t,e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&D(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Z{constructor(t,e,n){this.wasSuccessCode=t,this.connection=e,this.canceled=!!n}}function K(t,e){null!==e&&e.length>0&&(t["Authorization"]="Firebase "+e)}function G(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(null!==e&&void 0!==e?e:"AppManager")}function J(t,e){e&&(t["X-Firebase-GMPID"]=e)}function X(t,e){null!==e&&(t["X-Firebase-AppCheck"]=e)}function Q(t,e,n,i,r,o,s=!0){const a=H(t.urlParams),c=t.url+a,l=Object.assign({},t.headers);return J(l,e),K(l,n),G(l,o),X(l,i),new W(c,t.method,l,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r,s)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function tt(...t){const e=Y();if(void 0!==e){const n=new e;for(let e=0;e<t.length;e++)n.append(t[e]);return n.getBlob()}if(V())return new Blob(t);throw new u(h.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function et(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nt(t){if("undefined"===typeof atob)throw C("base-64");return atob(t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const it={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class rt{constructor(t,e){this.data=t,this.contentType=e||null}}function ot(t,e){switch(t){case it.RAW:return new rt(st(e));case it.BASE64:case it.BASE64URL:return new rt(ct(t,e));case it.DATA_URL:return new rt(ut(e),ht(e))}throw p()}function st(t){const e=[];for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|63&i);else if(55296===(64512&i)){const r=n<t.length-1&&56320===(64512&t.charCodeAt(n+1));if(r){const r=i,o=t.charCodeAt(++n);i=65536|(1023&r)<<10|1023&o,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)}else e.push(239,191,189)}else 56320===(64512&i)?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(e)}function at(t){let e;try{e=decodeURIComponent(t)}catch(n){throw P(it.DATA_URL,"Malformed data URL.")}return st(e)}function ct(t,e){switch(t){case it.BASE64:{const n=-1!==e.indexOf("-"),i=-1!==e.indexOf("_");if(n||i){const e=n?"-":"_";throw P(t,"Invalid character '"+e+"' found: is it base64url encoded?")}break}case it.BASE64URL:{const n=-1!==e.indexOf("+"),i=-1!==e.indexOf("/");if(n||i){const e=n?"+":"/";throw P(t,"Invalid character '"+e+"' found: is it base64 encoded?")}e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=nt(e)}catch(r){if(r.message.includes("polyfill"))throw r;throw P(t,"Invalid character found")}const i=new Uint8Array(n.length);for(let o=0;o<n.length;o++)i[o]=n.charCodeAt(o);return i}class lt{constructor(t){this.base64=!1,this.contentType=null;const e=t.match(/^data:([^,]+)?,/);if(null===e)throw P(it.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=e[1]||null;null!=n&&(this.base64=dt(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=t.substring(t.indexOf(",")+1)}}function ut(t){const e=new lt(t);return e.base64?ct(it.BASE64,e.rest):at(e.rest)}function ht(t){const e=new lt(t);return e.contentType}function dt(t,e){const n=t.length>=e.length;return!!n&&t.substring(t.length-e.length)===e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(t,e){let n=0,i="";z(t)?(this.data_=t,n=t.size,i=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=i}size(){return this.size_}type(){return this.type_}slice(t,e){if(z(this.data_)){const n=this.data_,i=et(n,t,e);return null===i?null:new ft(i)}{const n=new Uint8Array(this.data_.buffer,t,e-t);return new ft(n,!0)}}static getBlob(...t){if(V()){const e=t.map((t=>t instanceof ft?t.data_:t));return new ft(tt.apply(null,e))}{const e=t.map((t=>B(t)?ot(it.RAW,t).data:t.data_));let n=0;e.forEach((t=>{n+=t.byteLength}));const i=new Uint8Array(n);let r=0;return e.forEach((t=>{for(let e=0;e<t.length;e++)i[r++]=t[e]})),new ft(i,!0)}}uploadData(){return this.data_}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pt(t){let e;try{e=JSON.parse(t)}catch(n){return null}return F(e)?e:null}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mt(t){if(0===t.length)return null;const e=t.lastIndexOf("/");if(-1===e)return"";const n=t.slice(0,e);return n}function gt(t,e){const n=e.split("/").filter((t=>t.length>0)).join("/");return 0===t.length?n:t+"/"+n}function _t(t){const e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(t,e){return e}class yt{constructor(t,e,n,i){this.server=t,this.local=e||t,this.writable=!!n,this.xform=i||vt}}let wt=null;function bt(t){return!B(t)||t.length<2?t:_t(t)}function Tt(){if(wt)return wt;const t=[];function e(t,e){return bt(e)}t.push(new yt("bucket")),t.push(new yt("generation")),t.push(new yt("metageneration")),t.push(new yt("name","fullPath",!0));const n=new yt("name");function i(t,e){return void 0!==e?Number(e):e}n.xform=e,t.push(n);const r=new yt("size");return r.xform=i,t.push(r),t.push(new yt("timeCreated")),t.push(new yt("updated")),t.push(new yt("md5Hash",null,!0)),t.push(new yt("cacheControl",null,!0)),t.push(new yt("contentDisposition",null,!0)),t.push(new yt("contentEncoding",null,!0)),t.push(new yt("contentLanguage",null,!0)),t.push(new yt("contentType",null,!0)),t.push(new yt("metadata","customMetadata",!0)),wt=t,wt}function Et(t,e){function n(){const n=t["bucket"],i=t["fullPath"],r=new O(n,i);return e._makeStorageReference(r)}Object.defineProperty(t,"ref",{get:n})}function St(t,e,n){const i={type:"file"},r=n.length;for(let o=0;o<r;o++){const t=n[o];i[t.local]=t.xform(i,e[t.server])}return Et(i,t),i}function xt(t,e,n){const i=pt(e);if(null===i)return null;const r=i;return St(t,r,n)}function It(t,e,n,i){const r=pt(e);if(null===r)return null;if(!B(r["downloadTokens"]))return null;const o=r["downloadTokens"];if(0===o.length)return null;const s=encodeURIComponent,a=o.split(","),c=a.map((e=>{const r=t["bucket"],o=t["fullPath"],a="/b/"+s(r)+"/o/"+s(o),c=$(a,n,i),l=H({alt:"media",token:e});return c+l}));return c[0]}function Ct(t,e){const n={},i=e.length;for(let r=0;r<i;r++){const i=e[r];i.writable&&(n[i.server]=t[i.local])}return JSON.stringify(n)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(t,e,n,i){this.url=t,this.method=e,this.handler=n,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(t){if(!t)throw p()}function Lt(t,e){function n(n,i){const r=xt(t,i,e);return At(null!==r),r}return n}function Pt(t,e){function n(n,i){const r=xt(t,i,e);return At(null!==r),It(r,i,t.host,t._protocol)}return n}function Rt(t){function e(e,n){let i;return i=401===e.getStatus()?e.getErrorText().includes("Firebase App Check token is invalid")?v():_():402===e.getStatus()?g(t.bucket):403===e.getStatus()?y(t.path):n,i.status=e.getStatus(),i.serverResponse=n.serverResponse,i}return e}function Ot(t){const e=Rt(t);function n(n,i){let r=e(n,i);return 404===n.getStatus()&&(r=m(t.path)),r.serverResponse=i.serverResponse,r}return n}function Nt(t,e,n){const i=e.fullServerUrl(),r=$(i,t.host,t._protocol),o="GET",s=t.maxOperationRetryTime,a=new kt(r,o,Pt(t,n),s);return a.errorHandler=Ot(e),a}function Mt(t,e){return t&&t["contentType"]||e&&e.type()||"application/octet-stream"}function Dt(t,e,n){const i=Object.assign({},n);return i["fullPath"]=t.path,i["size"]=e.size(),i["contentType"]||(i["contentType"]=Mt(null,e)),i}function Ut(t,e,n,i,r){const o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function a(){let t="";for(let e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}const c=a();s["Content-Type"]="multipart/related; boundary="+c;const l=Dt(e,i,r),u=Ct(l,n),h="--"+c+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+u+"\r\n--"+c+"\r\nContent-Type: "+l["contentType"]+"\r\n\r\n",d="\r\n--"+c+"--",f=ft.getBlob(h,i,d);if(null===f)throw x();const p={name:l["fullPath"]},m=$(o,t.host,t._protocol),g="POST",_=t.maxUploadRetryTime,v=new kt(m,g,Lt(t,n),_);return v.urlParams=p,v.headers=s,v.body=f.uploadData(),v.errorHandler=Rt(e),v}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
let Ft=null;class Bt{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=d.NO_ERROR,this.sendPromise_=new Promise((t=>{this.xhr_.addEventListener("abort",(()=>{this.errorCode_=d.ABORT,t()})),this.xhr_.addEventListener("error",(()=>{this.errorCode_=d.NETWORK_ERROR,t()})),this.xhr_.addEventListener("load",(()=>{t()}))}))}send(t,e,n,i){if(this.sent_)throw R("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==i)for(const r in i)i.hasOwnProperty(r)&&this.xhr_.setRequestHeader(r,i[r].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw R("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw R("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}}getResponse(){if(!this.sent_)throw R("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw R("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)}}class zt extends Bt{initXhr(){this.xhr_.responseType="text"}}function Vt(){return Ft?Ft():new zt}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class jt{constructor(t,e){this._service=t,this._location=e instanceof O?e:O.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new jt(t,e)}get root(){const t=new O(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return _t(this._location.path)}get storage(){return this._service}get parent(){const t=mt(this._location.path);if(null===t)return null;const e=new O(this._location.bucket,t);return new jt(this._service,e)}_throwIfRoot(t){if(""===this._location.path)throw L(t)}}function $t(t,e,n){t._throwIfRoot("uploadBytes");const i=Ut(t.storage,t._location,Tt(),new ft(e,!0),n);return t.storage.makeRequestWithTokens(i,Vt).then((e=>({metadata:e,ref:t})))}function Ht(t){t._throwIfRoot("getDownloadURL");const e=Nt(t.storage,t._location,Tt());return t.storage.makeRequestWithTokens(e,Vt).then((t=>{if(null===t)throw I();return t}))}function qt(t,e){const n=gt(t._location.path,e),i=new O(t._location.bucket,n);return new jt(t.storage,i)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wt(t){return/^[A-Za-z]+:\/\//.test(t)}function Zt(t,e){return new jt(t,e)}function Kt(t,e){if(t instanceof Qt){const n=t;if(null==n._bucket)throw S();const i=new jt(n,n._bucket);return null!=e?Kt(i,e):i}return void 0!==e?qt(t,e):t}function Gt(t,e){if(e&&Wt(e)){if(t instanceof Qt)return Zt(t,e);throw k("To use ref(service, url), the first argument must be a Storage instance.")}return Kt(t,e)}function Jt(t,e){const n=null===e||void 0===e?void 0:e[a];return null==n?null:O.makeFromBucketSpec(n,t)}function Xt(t,e,n,i={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:o}=i;o&&(t._overrideAuthToken="string"===typeof o?o:(0,r.Sg)(o,t.app.options.projectId))}class Qt{constructor(t,e,n,i,r){this.app=t,this._authProvider=e,this._appCheckProvider=n,this._url=i,this._firebaseVersion=r,this._bucket=null,this._host=s,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=c,this._maxUploadRetryTime=l,this._requests=new Set,this._bucket=null!=i?O.makeFromBucketSpec(i,this._host):Jt(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,null!=this._url?this._bucket=O.makeFromBucketSpec(this._url,t):this._bucket=Jt(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){j("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){j("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const e=await t.getToken();if(null!==e)return e.accessToken}return null}async _getAppCheckToken(){const t=this._appCheckProvider.getImmediate({optional:!0});if(t){const e=await t.getToken();return e.token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((t=>t.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new jt(this,t)}_makeRequest(t,e,n,i,r=!0){if(this._deleted)return new N(A());{const o=Q(t,this._appId,n,i,e,this._firebaseVersion,r);return this._requests.add(o),o.getPromise().then((()=>this._requests.delete(o)),(()=>this._requests.delete(o))),o}}async makeRequestWithTokens(t,e){const[n,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,e,n,i).getPromise()}}const Yt="@firebase/storage",te="0.11.2",ee="storage";function ne(t,e,n){return t=(0,r.m9)(t),$t(t,e,n)}function ie(t){return t=(0,r.m9)(t),Ht(t)}function re(t,e){return t=(0,r.m9)(t),Gt(t,e)}function oe(t=(0,i.Mq)(),e){t=(0,r.m9)(t);const n=(0,i.qX)(t,ee),o=n.getImmediate({identifier:e}),s=(0,r.P0)("storage");return s&&se(o,...s),o}function se(t,e,n,i={}){Xt(t,e,n,i)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ae(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return new Qt(n,r,o,e,i.Jn)}function ce(){(0,i.Xd)(new o.wA(ee,ae,"PUBLIC").setMultipleInstances(!0)),(0,i.KN)(Yt,te,""),(0,i.KN)(Yt,te,"esm2017")}ce()},2483:function(t,e,n){"use strict";n.d(e,{p7:function(){return ee},r5:function(){return B}});n(7658),n(541);var i=n(9199);
/*!
  * vue-router v4.1.6
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */
const r="undefined"!==typeof window;function o(t){return t.__esModule||"Module"===t[Symbol.toStringTag]}const s=Object.assign;function a(t,e){const n={};for(const i in e){const r=e[i];n[i]=l(r)?r.map(t):t(r)}return n}const c=()=>{},l=Array.isArray;const u=/\/$/,h=t=>t.replace(u,"");function d(t,e,n="/"){let i,r={},o="",s="";const a=e.indexOf("#");let c=e.indexOf("?");return a<c&&a>=0&&(c=-1),c>-1&&(i=e.slice(0,c),o=e.slice(c+1,a>-1?a:e.length),r=t(o)),a>-1&&(i=i||e.slice(0,a),s=e.slice(a,e.length)),i=w(null!=i?i:e,n),{fullPath:i+(o&&"?")+o+s,path:i,query:r,hash:s}}function f(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function p(t,e){return e&&t.toLowerCase().startsWith(e.toLowerCase())?t.slice(e.length)||"/":t}function m(t,e,n){const i=e.matched.length-1,r=n.matched.length-1;return i>-1&&i===r&&g(e.matched[i],n.matched[r])&&_(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function g(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function _(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!v(t[n],e[n]))return!1;return!0}function v(t,e){return l(t)?y(t,e):l(e)?y(e,t):t===e}function y(t,e){return l(e)?t.length===e.length&&t.every(((t,n)=>t===e[n])):1===t.length&&t[0]===e}function w(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),i=t.split("/");let r,o,s=n.length-1;for(r=0;r<i.length;r++)if(o=i[r],"."!==o){if(".."!==o)break;s>1&&s--}return n.slice(0,s).join("/")+"/"+i.slice(r-(r===i.length?1:0)).join("/")}var b,T;(function(t){t["pop"]="pop",t["push"]="push"})(b||(b={})),function(t){t["back"]="back",t["forward"]="forward",t["unknown"]=""}(T||(T={}));function E(t){if(!t)if(r){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return"/"!==t[0]&&"#"!==t[0]&&(t="/"+t),h(t)}const S=/^[^#]+#/;function x(t,e){return t.replace(S,"#")+e}function I(t,e){const n=document.documentElement.getBoundingClientRect(),i=t.getBoundingClientRect();return{behavior:e.behavior,left:i.left-n.left-(e.left||0),top:i.top-n.top-(e.top||0)}}const C=()=>({left:window.pageXOffset,top:window.pageYOffset});function k(t){let e;if("el"in t){const n=t.el,i="string"===typeof n&&n.startsWith("#");0;const r="string"===typeof n?i?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;e=I(r,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(null!=e.left?e.left:window.pageXOffset,null!=e.top?e.top:window.pageYOffset)}function A(t,e){const n=history.state?history.state.position-e:-1;return n+t}const L=new Map;function P(t,e){L.set(t,e)}function R(t){const e=L.get(t);return L.delete(t),e}let O=()=>location.protocol+"//"+location.host;function N(t,e){const{pathname:n,search:i,hash:r}=e,o=t.indexOf("#");if(o>-1){let e=r.includes(t.slice(o))?t.slice(o).length:1,n=r.slice(e);return"/"!==n[0]&&(n="/"+n),p(n,"")}const s=p(n,t);return s+i+r}function M(t,e,n,i){let r=[],o=[],a=null;const c=({state:o})=>{const s=N(t,location),c=n.value,l=e.value;let u=0;if(o){if(n.value=s,e.value=o,a&&a===c)return void(a=null);u=l?o.position-l.position:0}else i(s);r.forEach((t=>{t(n.value,c,{delta:u,type:b.pop,direction:u?u>0?T.forward:T.back:T.unknown})}))};function l(){a=n.value}function u(t){r.push(t);const e=()=>{const e=r.indexOf(t);e>-1&&r.splice(e,1)};return o.push(e),e}function h(){const{history:t}=window;t.state&&t.replaceState(s({},t.state,{scroll:C()}),"")}function d(){for(const t of o)t();o=[],window.removeEventListener("popstate",c),window.removeEventListener("beforeunload",h)}return window.addEventListener("popstate",c),window.addEventListener("beforeunload",h),{pauseListeners:l,listen:u,destroy:d}}function D(t,e,n,i=!1,r=!1){return{back:t,current:e,forward:n,replaced:i,position:window.history.length,scroll:r?C():null}}function U(t){const{history:e,location:n}=window,i={value:N(t,n)},r={value:e.state};function o(i,o,s){const a=t.indexOf("#"),c=a>-1?(n.host&&document.querySelector("base")?t:t.slice(a))+i:O()+t+i;try{e[s?"replaceState":"pushState"](o,"",c),r.value=o}catch(l){console.error(l),n[s?"replace":"assign"](c)}}function a(t,n){const a=s({},e.state,D(r.value.back,t,r.value.forward,!0),n,{position:r.value.position});o(t,a,!0),i.value=t}function c(t,n){const a=s({},r.value,e.state,{forward:t,scroll:C()});o(a.current,a,!0);const c=s({},D(i.value,t,null),{position:a.position+1},n);o(t,c,!1),i.value=t}return r.value||o(i.value,{back:null,current:i.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0),{location:i,state:r,push:c,replace:a}}function F(t){t=E(t);const e=U(t),n=M(t,e.state,e.location,e.replace);function i(t,e=!0){e||n.pauseListeners(),history.go(t)}const r=s({location:"",base:t,go:i,createHref:x.bind(null,t)},e,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>e.state.value}),r}function B(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),F(t)}function z(t){return"string"===typeof t||t&&"object"===typeof t}function V(t){return"string"===typeof t||"symbol"===typeof t}const j={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},$=Symbol("");var H;(function(t){t[t["aborted"]=4]="aborted",t[t["cancelled"]=8]="cancelled",t[t["duplicated"]=16]="duplicated"})(H||(H={}));function q(t,e){return s(new Error,{type:t,[$]:!0},e)}function W(t,e){return t instanceof Error&&$ in t&&(null==e||!!(t.type&e))}const Z="[^/]+?",K={sensitive:!1,strict:!1,start:!0,end:!0},G=/[.+*?^${}()[\]/\\]/g;function J(t,e){const n=s({},K,e),i=[];let r=n.start?"^":"";const o=[];for(const s of t){const t=s.length?[]:[90];n.strict&&!s.length&&(r+="/");for(let e=0;e<s.length;e++){const i=s[e];let a=40+(n.sensitive?.25:0);if(0===i.type)e||(r+="/"),r+=i.value.replace(G,"\\$&"),a+=40;else if(1===i.type){const{value:t,repeatable:n,optional:c,regexp:l}=i;o.push({name:t,repeatable:n,optional:c});const u=l||Z;if(u!==Z){a+=10;try{new RegExp(`(${u})`)}catch(h){throw new Error(`Invalid custom RegExp for param "${t}" (${u}): `+h.message)}}let d=n?`((?:${u})(?:/(?:${u}))*)`:`(${u})`;e||(d=c&&s.length<2?`(?:/${d})`:"/"+d),c&&(d+="?"),r+=d,a+=20,c&&(a+=-8),n&&(a+=-20),".*"===u&&(a+=-50)}t.push(a)}i.push(t)}if(n.strict&&n.end){const t=i.length-1;i[t][i[t].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&(r+="(?:/|$)");const a=new RegExp(r,n.sensitive?"":"i");function c(t){const e=t.match(a),n={};if(!e)return null;for(let i=1;i<e.length;i++){const t=e[i]||"",r=o[i-1];n[r.name]=t&&r.repeatable?t.split("/"):t}return n}function u(e){let n="",i=!1;for(const r of t){i&&n.endsWith("/")||(n+="/"),i=!1;for(const t of r)if(0===t.type)n+=t.value;else if(1===t.type){const{value:o,repeatable:s,optional:a}=t,c=o in e?e[o]:"";if(l(c)&&!s)throw new Error(`Provided param "${o}" is an array but it is not repeatable (* or + modifiers)`);const u=l(c)?c.join("/"):c;if(!u){if(!a)throw new Error(`Missing required param "${o}"`);r.length<2&&(n.endsWith("/")?n=n.slice(0,-1):i=!0)}n+=u}}return n||"/"}return{re:a,score:i,keys:o,parse:c,stringify:u}}function X(t,e){let n=0;while(n<t.length&&n<e.length){const i=e[n]-t[n];if(i)return i;n++}return t.length<e.length?1===t.length&&80===t[0]?-1:1:t.length>e.length?1===e.length&&80===e[0]?1:-1:0}function Q(t,e){let n=0;const i=t.score,r=e.score;while(n<i.length&&n<r.length){const t=X(i[n],r[n]);if(t)return t;n++}if(1===Math.abs(r.length-i.length)){if(Y(i))return 1;if(Y(r))return-1}return r.length-i.length}function Y(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const tt={type:0,value:""},et=/[a-zA-Z0-9_]/;function nt(t){if(!t)return[[]];if("/"===t)return[[tt]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(t){throw new Error(`ERR (${n})/"${l}": ${t}`)}let n=0,i=n;const r=[];let o;function s(){o&&r.push(o),o=[]}let a,c=0,l="",u="";function h(){l&&(0===n?o.push({type:0,value:l}):1===n||2===n||3===n?(o.length>1&&("*"===a||"+"===a)&&e(`A repeatable param (${l}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:l,regexp:u,repeatable:"*"===a||"+"===a,optional:"*"===a||"?"===a})):e("Invalid state to consume buffer"),l="")}function d(){l+=a}while(c<t.length)if(a=t[c++],"\\"!==a||2===n)switch(n){case 0:"/"===a?(l&&h(),s()):":"===a?(h(),n=1):d();break;case 4:d(),n=i;break;case 1:"("===a?n=2:et.test(a)?d():(h(),n=0,"*"!==a&&"?"!==a&&"+"!==a&&c--);break;case 2:")"===a?"\\"==u[u.length-1]?u=u.slice(0,-1)+a:n=3:u+=a;break;case 3:h(),n=0,"*"!==a&&"?"!==a&&"+"!==a&&c--,u="";break;default:e("Unknown state");break}else i=n,n=4;return 2===n&&e(`Unfinished custom RegExp for param "${l}"`),h(),s(),r}function it(t,e,n){const i=J(nt(t.path),n);const r=s(i,{record:t,parent:e,children:[],alias:[]});return e&&!r.record.aliasOf===!e.record.aliasOf&&e.children.push(r),r}function rt(t,e){const n=[],i=new Map;function r(t){return i.get(t)}function o(t,n,i){const r=!i,l=st(t);l.aliasOf=i&&i.record;const h=ut(e,t),d=[l];if("alias"in t){const e="string"===typeof t.alias?[t.alias]:t.alias;for(const t of e)d.push(s({},l,{components:i?i.record.components:l.components,path:t,aliasOf:i?i.record:l}))}let f,p;for(const e of d){const{path:s}=e;if(n&&"/"!==s[0]){const t=n.record.path,i="/"===t[t.length-1]?"":"/";e.path=n.record.path+(s&&i+s)}if(f=it(e,n,h),i?i.alias.push(f):(p=p||f,p!==f&&p.alias.push(f),r&&t.name&&!ct(f)&&a(t.name)),l.children){const t=l.children;for(let e=0;e<t.length;e++)o(t[e],f,i&&i.children[e])}i=i||f,(f.record.components&&Object.keys(f.record.components).length||f.record.name||f.record.redirect)&&u(f)}return p?()=>{a(p)}:c}function a(t){if(V(t)){const e=i.get(t);e&&(i.delete(t),n.splice(n.indexOf(e),1),e.children.forEach(a),e.alias.forEach(a))}else{const e=n.indexOf(t);e>-1&&(n.splice(e,1),t.record.name&&i.delete(t.record.name),t.children.forEach(a),t.alias.forEach(a))}}function l(){return n}function u(t){let e=0;while(e<n.length&&Q(t,n[e])>=0&&(t.record.path!==n[e].record.path||!ht(t,n[e])))e++;n.splice(e,0,t),t.record.name&&!ct(t)&&i.set(t.record.name,t)}function h(t,e){let r,o,a,c={};if("name"in t&&t.name){if(r=i.get(t.name),!r)throw q(1,{location:t});0,a=r.record.name,c=s(ot(e.params,r.keys.filter((t=>!t.optional)).map((t=>t.name))),t.params&&ot(t.params,r.keys.map((t=>t.name)))),o=r.stringify(c)}else if("path"in t)o=t.path,r=n.find((t=>t.re.test(o))),r&&(c=r.parse(o),a=r.record.name);else{if(r=e.name?i.get(e.name):n.find((t=>t.re.test(e.path))),!r)throw q(1,{location:t,currentLocation:e});a=r.record.name,c=s({},e.params,t.params),o=r.stringify(c)}const l=[];let u=r;while(u)l.unshift(u.record),u=u.parent;return{name:a,path:o,params:c,matched:l,meta:lt(l)}}return e=ut({strict:!1,end:!0,sensitive:!1},e),t.forEach((t=>o(t))),{addRoute:o,resolve:h,removeRoute:a,getRoutes:l,getRecordMatcher:r}}function ot(t,e){const n={};for(const i of e)i in t&&(n[i]=t[i]);return n}function st(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:at(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function at(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const i in t.components)e[i]="boolean"===typeof n?n:n[i];return e}function ct(t){while(t){if(t.record.aliasOf)return!0;t=t.parent}return!1}function lt(t){return t.reduce(((t,e)=>s(t,e.meta)),{})}function ut(t,e){const n={};for(const i in t)n[i]=i in e?e[i]:t[i];return n}function ht(t,e){return e.children.some((e=>e===t||ht(t,e)))}const dt=/#/g,ft=/&/g,pt=/\//g,mt=/=/g,gt=/\?/g,_t=/\+/g,vt=/%5B/g,yt=/%5D/g,wt=/%5E/g,bt=/%60/g,Tt=/%7B/g,Et=/%7C/g,St=/%7D/g,xt=/%20/g;function It(t){return encodeURI(""+t).replace(Et,"|").replace(vt,"[").replace(yt,"]")}function Ct(t){return It(t).replace(Tt,"{").replace(St,"}").replace(wt,"^")}function kt(t){return It(t).replace(_t,"%2B").replace(xt,"+").replace(dt,"%23").replace(ft,"%26").replace(bt,"`").replace(Tt,"{").replace(St,"}").replace(wt,"^")}function At(t){return kt(t).replace(mt,"%3D")}function Lt(t){return It(t).replace(dt,"%23").replace(gt,"%3F")}function Pt(t){return null==t?"":Lt(t).replace(pt,"%2F")}function Rt(t){try{return decodeURIComponent(""+t)}catch(e){}return""+t}function Ot(t){const e={};if(""===t||"?"===t)return e;const n="?"===t[0],i=(n?t.slice(1):t).split("&");for(let r=0;r<i.length;++r){const t=i[r].replace(_t," "),n=t.indexOf("="),o=Rt(n<0?t:t.slice(0,n)),s=n<0?null:Rt(t.slice(n+1));if(o in e){let t=e[o];l(t)||(t=e[o]=[t]),t.push(s)}else e[o]=s}return e}function Nt(t){let e="";for(let n in t){const i=t[n];if(n=At(n),null==i){void 0!==i&&(e+=(e.length?"&":"")+n);continue}const r=l(i)?i.map((t=>t&&kt(t))):[i&&kt(i)];r.forEach((t=>{void 0!==t&&(e+=(e.length?"&":"")+n,null!=t&&(e+="="+t))}))}return e}function Mt(t){const e={};for(const n in t){const i=t[n];void 0!==i&&(e[n]=l(i)?i.map((t=>null==t?null:""+t)):null==i?i:""+i)}return e}const Dt=Symbol(""),Ut=Symbol(""),Ft=Symbol(""),Bt=Symbol(""),zt=Symbol("");function Vt(){let t=[];function e(e){return t.push(e),()=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)}}function n(){t=[]}return{add:e,list:()=>t,reset:n}}function jt(t,e,n,i,r){const o=i&&(i.enterCallbacks[r]=i.enterCallbacks[r]||[]);return()=>new Promise(((s,a)=>{const c=t=>{!1===t?a(q(4,{from:n,to:e})):t instanceof Error?a(t):z(t)?a(q(2,{from:e,to:t})):(o&&i.enterCallbacks[r]===o&&"function"===typeof t&&o.push(t),s())},l=t.call(i&&i.instances[r],e,n,c);let u=Promise.resolve(l);t.length<3&&(u=u.then(c)),u.catch((t=>a(t)))}))}function $t(t,e,n,i){const r=[];for(const s of t){0;for(const t in s.components){let a=s.components[t];if("beforeRouteEnter"===e||s.instances[t])if(Ht(a)){const o=a.__vccOpts||a,c=o[e];c&&r.push(jt(c,n,i,s,t))}else{let c=a();0,r.push((()=>c.then((r=>{if(!r)return Promise.reject(new Error(`Couldn't resolve component "${t}" at "${s.path}"`));const a=o(r)?r.default:r;s.components[t]=a;const c=a.__vccOpts||a,l=c[e];return l&&jt(l,n,i,s,t)()}))))}}}return r}function Ht(t){return"object"===typeof t||"displayName"in t||"props"in t||"__vccOpts"in t}function qt(t){const e=(0,i.f3)(Ft),n=(0,i.f3)(Bt),r=(0,i.Fl)((()=>e.resolve((0,i.SU)(t.to)))),o=(0,i.Fl)((()=>{const{matched:t}=r.value,{length:e}=t,i=t[e-1],o=n.matched;if(!i||!o.length)return-1;const s=o.findIndex(g.bind(null,i));if(s>-1)return s;const a=Jt(t[e-2]);return e>1&&Jt(i)===a&&o[o.length-1].path!==a?o.findIndex(g.bind(null,t[e-2])):s})),s=(0,i.Fl)((()=>o.value>-1&&Gt(n.params,r.value.params))),a=(0,i.Fl)((()=>o.value>-1&&o.value===n.matched.length-1&&_(n.params,r.value.params)));function l(n={}){return Kt(n)?e[(0,i.SU)(t.replace)?"replace":"push"]((0,i.SU)(t.to)).catch(c):Promise.resolve()}return{route:r,href:(0,i.Fl)((()=>r.value.href)),isActive:s,isExactActive:a,navigate:l}}const Wt=(0,i.aZ)({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:qt,setup(t,{slots:e}){const n=(0,i.qj)(qt(t)),{options:r}=(0,i.f3)(Ft),o=(0,i.Fl)((()=>({[Xt(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[Xt(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive})));return()=>{const r=e.default&&e.default(n);return t.custom?r:(0,i.h)("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:o.value},r)}}}),Zt=Wt;function Kt(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&(void 0===t.button||0===t.button)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function Gt(t,e){for(const n in e){const i=e[n],r=t[n];if("string"===typeof i){if(i!==r)return!1}else if(!l(r)||r.length!==i.length||i.some(((t,e)=>t!==r[e])))return!1}return!0}function Jt(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Xt=(t,e,n)=>null!=t?t:null!=e?e:n,Qt=(0,i.aZ)({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=(0,i.f3)(zt),o=(0,i.Fl)((()=>t.route||r.value)),a=(0,i.f3)(Ut,0),c=(0,i.Fl)((()=>{let t=(0,i.SU)(a);const{matched:e}=o.value;let n;while((n=e[t])&&!n.components)t++;return t})),l=(0,i.Fl)((()=>o.value.matched[c.value]));(0,i.JJ)(Ut,(0,i.Fl)((()=>c.value+1))),(0,i.JJ)(Dt,l),(0,i.JJ)(zt,o);const u=(0,i.iH)();return(0,i.YP)((()=>[u.value,l.value,t.name]),(([t,e,n],[i,r,o])=>{e&&(e.instances[n]=t,r&&r!==e&&t&&t===i&&(e.leaveGuards.size||(e.leaveGuards=r.leaveGuards),e.updateGuards.size||(e.updateGuards=r.updateGuards))),!t||!e||r&&g(e,r)&&i||(e.enterCallbacks[n]||[]).forEach((e=>e(t)))}),{flush:"post"}),()=>{const r=o.value,a=t.name,c=l.value,h=c&&c.components[a];if(!h)return Yt(n.default,{Component:h,route:r});const d=c.props[a],f=d?!0===d?r.params:"function"===typeof d?d(r):d:null,p=t=>{t.component.isUnmounted&&(c.instances[a]=null)},m=(0,i.h)(h,s({},f,e,{onVnodeUnmounted:p,ref:u}));return Yt(n.default,{Component:m,route:r})||m}}});function Yt(t,e){if(!t)return null;const n=t(e);return 1===n.length?n[0]:n}const te=Qt;function ee(t){const e=rt(t.routes,t),n=t.parseQuery||Ot,o=t.stringifyQuery||Nt,u=t.history;const h=Vt(),p=Vt(),g=Vt(),_=(0,i.XI)(j);let v=j;r&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const y=a.bind(null,(t=>""+t)),w=a.bind(null,Pt),T=a.bind(null,Rt);function E(t,n){let i,r;return V(t)?(i=e.getRecordMatcher(t),r=n):r=t,e.addRoute(r,i)}function S(t){const n=e.getRecordMatcher(t);n&&e.removeRoute(n)}function x(){return e.getRoutes().map((t=>t.record))}function I(t){return!!e.getRecordMatcher(t)}function L(t,i){if(i=s({},i||_.value),"string"===typeof t){const r=d(n,t,i.path),o=e.resolve({path:r.path},i),a=u.createHref(r.fullPath);return s(r,o,{params:T(o.params),hash:Rt(r.hash),redirectedFrom:void 0,href:a})}let r;if("path"in t)r=s({},t,{path:d(n,t.path,i.path).path});else{const e=s({},t.params);for(const t in e)null==e[t]&&delete e[t];r=s({},t,{params:w(t.params)}),i.params=w(i.params)}const a=e.resolve(r,i),c=t.hash||"";a.params=y(T(a.params));const l=f(o,s({},t,{hash:Ct(c),path:a.path})),h=u.createHref(l);return s({fullPath:l,hash:c,query:o===Nt?Mt(t.query):t.query||{}},a,{redirectedFrom:void 0,href:h})}function O(t){return"string"===typeof t?d(n,t,_.value.path):s({},t)}function N(t,e){if(v!==t)return q(8,{from:e,to:t})}function M(t){return F(t)}function D(t){return M(s(O(t),{replace:!0}))}function U(t){const e=t.matched[t.matched.length-1];if(e&&e.redirect){const{redirect:n}=e;let i="function"===typeof n?n(t):n;return"string"===typeof i&&(i=i.includes("?")||i.includes("#")?i=O(i):{path:i},i.params={}),s({query:t.query,hash:t.hash,params:"path"in i?{}:t.params},i)}}function F(t,e){const n=v=L(t),i=_.value,r=t.state,a=t.force,c=!0===t.replace,l=U(n);if(l)return F(s(O(l),{state:"object"===typeof l?s({},r,l.state):r,force:a,replace:c}),e||n);const u=n;let h;return u.redirectedFrom=e,!a&&m(o,i,n)&&(h=q(16,{to:u,from:i}),et(i,i,!0,!1)),(h?Promise.resolve(h):z(u,i)).catch((t=>W(t)?W(t,2)?t:tt(t):Q(t,u,i))).then((t=>{if(t){if(W(t,2))return F(s({replace:c},O(t.to),{state:"object"===typeof t.to?s({},r,t.to.state):r,force:a}),e||u)}else t=H(u,i,!0,c,r);return $(u,i,t),t}))}function B(t,e){const n=N(t,e);return n?Promise.reject(n):Promise.resolve()}function z(t,e){let n;const[i,r,o]=ie(t,e);n=$t(i.reverse(),"beforeRouteLeave",t,e);for(const a of i)a.leaveGuards.forEach((i=>{n.push(jt(i,t,e))}));const s=B.bind(null,t,e);return n.push(s),ne(n).then((()=>{n=[];for(const i of h.list())n.push(jt(i,t,e));return n.push(s),ne(n)})).then((()=>{n=$t(r,"beforeRouteUpdate",t,e);for(const i of r)i.updateGuards.forEach((i=>{n.push(jt(i,t,e))}));return n.push(s),ne(n)})).then((()=>{n=[];for(const i of t.matched)if(i.beforeEnter&&!e.matched.includes(i))if(l(i.beforeEnter))for(const r of i.beforeEnter)n.push(jt(r,t,e));else n.push(jt(i.beforeEnter,t,e));return n.push(s),ne(n)})).then((()=>(t.matched.forEach((t=>t.enterCallbacks={})),n=$t(o,"beforeRouteEnter",t,e),n.push(s),ne(n)))).then((()=>{n=[];for(const i of p.list())n.push(jt(i,t,e));return n.push(s),ne(n)})).catch((t=>W(t,8)?t:Promise.reject(t)))}function $(t,e,n){for(const i of g.list())i(t,e,n)}function H(t,e,n,i,o){const a=N(t,e);if(a)return a;const c=e===j,l=r?history.state:{};n&&(i||c?u.replace(t.fullPath,s({scroll:c&&l&&l.scroll},o)):u.push(t.fullPath,o)),_.value=t,et(t,e,n,c),tt()}let Z;function K(){Z||(Z=u.listen(((t,e,n)=>{if(!st.listening)return;const i=L(t),o=U(i);if(o)return void F(s(o,{replace:!0}),i).catch(c);v=i;const a=_.value;r&&P(A(a.fullPath,n.delta),C()),z(i,a).catch((t=>W(t,12)?t:W(t,2)?(F(t.to,i).then((t=>{W(t,20)&&!n.delta&&n.type===b.pop&&u.go(-1,!1)})).catch(c),Promise.reject()):(n.delta&&u.go(-n.delta,!1),Q(t,i,a)))).then((t=>{t=t||H(i,a,!1),t&&(n.delta&&!W(t,8)?u.go(-n.delta,!1):n.type===b.pop&&W(t,20)&&u.go(-1,!1)),$(i,a,t)})).catch(c)})))}let G,J=Vt(),X=Vt();function Q(t,e,n){tt(t);const i=X.list();return i.length?i.forEach((i=>i(t,e,n))):console.error(t),Promise.reject(t)}function Y(){return G&&_.value!==j?Promise.resolve():new Promise(((t,e)=>{J.add([t,e])}))}function tt(t){return G||(G=!t,K(),J.list().forEach((([e,n])=>t?n(t):e())),J.reset()),t}function et(e,n,o,s){const{scrollBehavior:a}=t;if(!r||!a)return Promise.resolve();const c=!o&&R(A(e.fullPath,0))||(s||!o)&&history.state&&history.state.scroll||null;return(0,i.Y3)().then((()=>a(e,n,c))).then((t=>t&&k(t))).catch((t=>Q(t,e,n)))}const nt=t=>u.go(t);let it;const ot=new Set,st={currentRoute:_,listening:!0,addRoute:E,removeRoute:S,hasRoute:I,getRoutes:x,resolve:L,options:t,push:M,replace:D,go:nt,back:()=>nt(-1),forward:()=>nt(1),beforeEach:h.add,beforeResolve:p.add,afterEach:g.add,onError:X.add,isReady:Y,install(t){const e=this;t.component("RouterLink",Zt),t.component("RouterView",te),t.config.globalProperties.$router=e,Object.defineProperty(t.config.globalProperties,"$route",{enumerable:!0,get:()=>(0,i.SU)(_)}),r&&!it&&_.value===j&&(it=!0,M(u.location).catch((t=>{0})));const n={};for(const r in j)n[r]=(0,i.Fl)((()=>_.value[r]));t.provide(Ft,e),t.provide(Bt,(0,i.qj)(n)),t.provide(zt,_);const o=t.unmount;ot.add(t),t.unmount=function(){ot.delete(t),ot.size<1&&(v=j,Z&&Z(),Z=null,_.value=j,it=!1,G=!1),o()}}};return st}function ne(t){return t.reduce(((t,e)=>t.then((()=>e()))),Promise.resolve())}function ie(t,e){const n=[],i=[],r=[],o=Math.max(e.matched.length,t.matched.length);for(let s=0;s<o;s++){const o=e.matched[s];o&&(t.matched.find((t=>g(t,o)))?i.push(o):n.push(o));const a=t.matched[s];a&&(e.matched.find((t=>g(t,a)))||r.push(a))}return[n,i,r]}}}]);
//# sourceMappingURL=chunk-vendors.ee88acbd.js.map